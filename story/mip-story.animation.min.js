(window.MIP=window.MIP||[]).push({name:"mip-story",func:function(){define("mip-story/audio",["require","util"],function(t){"use strict";function e(){}var i=t("util");return e.prototype.build=function(t,e){if(e){var n=document.createElement("audio");return n.setAttribute("src",e),n.setAttribute("preload","auto"),n.setAttribute("loop",""),n.setAttribute("autoplay",""),i.css(n,{display:"hidden"}),t.appendChild(n),n}},e}),define("mip-story/jsmpeg/jsmpeg",["require"],function(t){var e={Player:null,VideoElement:null,BitBuffer:null,Source:{},Demuxer:{},Decoder:{},Renderer:{},AudioOutput:{},Now:function(){return window.performance?window.performance.now()/1e3:Date.now()/1e3},CreateVideoElements:function(){for(var t=document.querySelectorAll(".jsmpeg"),i=0;i<t.length;i++)new e.VideoElement(t[i])},Fill:function(t,e){if(t.fill)t.fill(e);else for(var i=0;i<t.length;i++)t[i]=e}};return e.Player=function(){"use strict";var t=function(t,i){this.options=i||{},i.source?(this.source=new i.source(t,i),i.streaming=!!this.source.streaming):t.match(/^wss?:\/\//)?(this.source=new e.Source.WebSocket(t,i),i.streaming=!0):(this.source=new e.Source.Ajax(t,i),i.streaming=!1),this.maxAudioLag=i.maxAudioLag||.25,this.loop=!1!==i.loop,this.autoplay=!!i.autoplay||i.streaming,this.demuxer=new e.Demuxer.TS(i),this.source.connect(this.demuxer),!1!==i.video&&(this.video=new e.Decoder.MPEG1Video(i),this.renderer=!i.disableGl&&e.Renderer.WebGL.IsSupported()?new e.Renderer.WebGL(i):new e.Renderer.Canvas2D(i),this.demuxer.connect(e.Demuxer.TS.STREAM.VIDEO_1,this.video),this.video.connect(this.renderer)),!1!==i.audio&&e.AudioOutput.WebAudio.IsSupported()&&(this.audio=new e.Decoder.MP2Audio(i),this.audioOut=new e.AudioOutput.WebAudio(i),this.demuxer.connect(e.Demuxer.TS.STREAM.AUDIO_1,this.audio),this.audio.connect(this.audioOut)),Object.defineProperty(this,"currentTime",{get:this.getCurrentTime,set:this.setCurrentTime}),Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this.unpauseOnShow=!1,!1!==i.pauseWhenHidden&&document.addEventListener("visibilitychange",this.showHide.bind(this)),this.source.start(),this.autoplay&&this.play()};return t.prototype.showHide=function(t){"hidden"===document.visibilityState?(this.unpauseOnShow=this.wantsToPlay,this.pause()):this.unpauseOnShow&&this.play()},t.prototype.on=function(t,e){this.options.canvas.addEventListener(t,e,!1)},t.prototype.off=function(t){this.options.canvas.removeEventListener(t)},t.prototype.trigger=function(t){var e=new Event(t);this.options.canvas.dispatchEvent(e)},t.prototype.play=function(t){this.animationId=requestAnimationFrame(this.update.bind(this)),this.wantsToPlay=!0,this.playingSign=!1,this.trigger("play")},t.prototype.pause=function(t){cancelAnimationFrame(this.animationId),this.wantsToPlay=!1,this.isPlaying=!1,this.playingSign=!1,this.audio&&this.audio.canPlay&&(this.audioOut.stop(),this.seek(this.currentTime))},t.prototype.getVolume=function(){return this.audioOut?this.audioOut.volume:0},t.prototype.setVolume=function(t){this.audioOut&&(this.audioOut.volume=t)},t.prototype.stop=function(t){this.pause(),this.seek(0),this.video&&!1!==this.options.decodeFirstFrame&&this.video.decode()},t.prototype.destroy=function(){this.pause(),this.source.destroy(),this.renderer.destroy(),this.audioOut.destroy()},t.prototype.seek=function(t){var i=this.audio&&this.audio.canPlay?this.audio.startTime:this.video.startTime;this.video&&this.video.seek(t+i),this.audio&&this.audio.seek(t+i),this.startTime=e.Now()-t},t.prototype.getCurrentTime=function(){return this.audio&&this.audio.canPlay?this.audio.currentTime-this.audio.startTime:this.video.currentTime-this.video.startTime},t.prototype.setCurrentTime=function(t){this.seek(t)},t.prototype.update=function(){this.animationId=requestAnimationFrame(this.update.bind(this)),this.source.established?(this.isPlaying||(this.isPlaying=!0,this.startTime=e.Now()-this.currentTime),this.options.streaming?this.updateForStreaming():(this.updateForStaticFile(),this.options.playingCallBack&&this.options.playingCallBack(this.currentTime))):this.renderer&&this.renderer.renderProgress(this.source.progress)},t.prototype.updateForStreaming=function(){if(this.video&&this.video.decode(),this.audio){var t=!1;do{this.audioOut.enqueuedTime>this.maxAudioLag&&(this.audioOut.resetEnqueuedTime(),this.audioOut.enabled=!1),t=this.audio.decode()}while(t);this.audioOut.enabled=!0}},t.prototype.updateForStaticFile=function(){var t=!1,i=0;if(this.video.currentTime>0&&(this.playingSign||(this.playingSign=!0,this.trigger("playing"))),this.audio&&this.audio.canPlay){for(;!t&&this.audio.decodedTime-this.audio.currentTime<.25;)t=!this.audio.decode();this.video&&this.video.currentTime<this.audio.currentTime&&(t=!this.video.decode()),i=this.demuxer.currentTime-this.audio.currentTime}else if(this.video){var n=e.Now()-this.startTime+this.video.startTime,r=n-this.video.currentTime,o=1/this.video.frameRate;this.video&&r>0&&(r>2*o&&(this.startTime+=r),t=!this.video.decode()),i=this.demuxer.currentTime-n}this.source.resume(i),t&&this.source.completed&&(this.loop?this.seek(0):this.pause(),this.trigger("end"))},t}(),e.BitBuffer=function(){"use strict";var t=function(e,i){"object"==typeof e?(this.bytes=e instanceof Uint8Array?e:new Uint8Array(e),this.byteLength=this.bytes.length):(this.bytes=new Uint8Array(e||1048576),this.byteLength=0),this.mode=i||t.MODE.EXPAND,this.index=0};return t.prototype.resize=function(t){var e=new Uint8Array(t);0!==this.byteLength&&(this.byteLength=Math.min(this.byteLength,t),e.set(this.bytes,0,this.byteLength)),this.bytes=e,this.index=Math.min(this.index,this.byteLength<<3)},t.prototype.evict=function(t){var e=this.index>>3,i=this.bytes.length-this.byteLength;if(this.index===this.byteLength<<3||t>i+e)return this.byteLength=0,void(this.index=0);0!==e&&(this.bytes.copyWithin?this.bytes.copyWithin(0,e,this.byteLength):this.bytes.set(this.bytes.subarray(e,this.byteLength)),this.byteLength=this.byteLength-e,this.index-=e<<3)},t.prototype.write=function(e){var i="object"==typeof e[0],n=0,r=this.bytes.length-this.byteLength;if(i)for(var n=0,o=0;o<e.length;o++)n+=e[o].byteLength;else n=e.byteLength;if(n>r)if(this.mode===t.MODE.EXPAND){var a=Math.max(2*this.bytes.length,n-r);this.resize(a)}else this.evict(n);if(i)for(var o=0;o<e.length;o++)this.appendSingleBuffer(e[o]);else this.appendSingleBuffer(e)},t.prototype.appendSingleBuffer=function(t){t=t instanceof Uint8Array?t:new Uint8Array(t),this.bytes.set(t,this.byteLength),this.byteLength+=t.length},t.prototype.findNextStartCode=function(){for(var t=this.index+7>>3;t<this.byteLength;t++)if(0==this.bytes[t]&&0==this.bytes[t+1]&&1==this.bytes[t+2])return this.index=t+4<<3,this.bytes[t+3];return this.index=this.byteLength<<3,-1},t.prototype.findStartCode=function(t){for(var e=0;;)if((e=this.findNextStartCode())===t||-1===e)return e;return-1},t.prototype.nextBytesAreStartCode=function(){var t=this.index+7>>3;return t>=this.byteLength||0==this.bytes[t]&&0==this.bytes[t+1]&&1==this.bytes[t+2]},t.prototype.peek=function(t){for(var e=this.index,i=0;t;){var n,r=8-(7&e),o=r<t?r:t,a=r-o;i=i<<o|(this.bytes[e>>3]&255>>8-o<<a)>>a,e+=o,t-=o}return i},t.prototype.read=function(t){var e=this.peek(t);return this.index+=t,e},t.prototype.skip=function(t){return this.index+=t},t.prototype.rewind=function(t){this.index=Math.max(this.index-t,0)},t.prototype.has=function(t){return(this.byteLength<<3)-this.index>=t},t.MODE={EVICT:1,EXPAND:2},t}(),e.Source.Ajax=function(){"use strict";var t=function(t,e){this.url=t,this.destination=null,this.request=null,this.completed=!1,this.established=!1,this.progress=0};return t.prototype.connect=function(t){this.destination=t},t.prototype.start=function(){this.request=new XMLHttpRequest,this.request.onreadystatechange=function(){this.request.readyState===this.request.DONE&&200===this.request.status&&this.onLoad(this.request.response)}.bind(this),this.request.onprogress=this.onProgress.bind(this),this.request.open("GET",this.url),this.request.responseType="arraybuffer",this.request.send()},t.prototype.resume=function(t){},t.prototype.destroy=function(){this.request.abort()},t.prototype.onProgress=function(t){this.progress=t.loaded/t.total},t.prototype.onLoad=function(t){this.established=!0,this.completed=!0,this.progress=1,this.destination&&this.destination.write(t)},t}(),e.Source.AjaxProgressive=function(){"use strict";var t=function(t,e){this.url=t,this.destination=null,this.request=null,this.completed=!1,this.established=!1,this.progress=0,this.fileSize=0,this.loadedSize=0,this.chunkSize=e.chunkSize||1048576,this.isLoading=!1,this.loadStartTime=0,this.throttled=!1!==e.throttled,this.aborted=!1};return t.prototype.connect=function(t){this.destination=t},t.prototype.start=function(){this.request=new XMLHttpRequest,this.request.onreadystatechange=function(){this.request.readyState===this.request.DONE&&(this.fileSize=parseInt(this.request.getResponseHeader("Content-Length")),this.loadNextChunk())}.bind(this),this.request.onprogress=this.onProgress.bind(this),this.request.open("HEAD",this.url),this.request.send()},t.prototype.resume=function(t){!this.isLoading&&this.throttled&&8*this.loadTime+2>t&&this.loadNextChunk()},t.prototype.destroy=function(){this.request.abort(),this.aborted=!0},t.prototype.loadNextChunk=function(){var t=this.loadedSize,i=Math.min(this.loadedSize+this.chunkSize-1,this.fileSize-1);t>=this.fileSize||this.aborted?this.completed=!0:(this.isLoading=!0,this.loadStartTime=e.Now(),this.request=new XMLHttpRequest,this.request.onreadystatechange=function(){this.request.readyState===this.request.DONE&&this.request.status>=200&&this.request.status<300?this.onChunkLoad(this.request.response):this.request.readyState===this.request.DONE&&this.loadFails++<3&&this.loadNextChunk()}.bind(this),0===t&&(this.request.onprogress=this.onProgress.bind(this)),this.request.open("GET",this.url+"?"+t+"-"+i),this.request.setRequestHeader("Range","bytes="+t+"-"+i),this.request.responseType="arraybuffer",this.request.send())},t.prototype.onProgress=function(t){this.progress=t.loaded/t.total},t.prototype.onChunkLoad=function(t){this.established=!0,this.progress=1,this.loadedSize+=t.byteLength,this.loadFails=0,this.isLoading=!1,this.destination&&this.destination.write(t),this.loadTime=e.Now()-this.loadStartTime,this.throttled||this.loadNextChunk()},t}(),e.Source.WebSocket=function(){"use strict";var t=function(t,e){this.url=t,this.options=e,this.socket=null,this.callbacks={connect:[],data:[]},this.destination=null,this.reconnectInterval=void 0!==e.reconnectInterval?e.reconnectInterval:5,this.shouldAttemptReconnect=!!this.reconnectInterval,this.completed=!1,this.established=!1,this.progress=0,this.reconnectTimeoutId=0};return t.prototype.connect=function(t){this.destination=t},t.prototype.destroy=function(){clearTimeout(this.reconnectTimeoutId),this.shouldAttemptReconnect=!1,this.socket.close()},t.prototype.start=function(){this.shouldAttemptReconnect=!!this.reconnectInterval,this.progress=0,this.established=!1,this.socket=new WebSocket(this.url,this.options.protocols||null),this.socket.binaryType="arraybuffer",this.socket.onmessage=this.onMessage.bind(this),this.socket.onopen=this.onOpen.bind(this),this.socket.onerror=this.onClose.bind(this),this.socket.onclose=this.onClose.bind(this)},t.prototype.resume=function(t){},t.prototype.onOpen=function(){this.progress=1,this.established=!0},t.prototype.onClose=function(){this.shouldAttemptReconnect&&(clearTimeout(this.reconnectTimeoutId),this.reconnectTimeoutId=setTimeout(function(){this.start()}.bind(this),1e3*this.reconnectInterval))},t.prototype.onMessage=function(t){this.destination&&this.destination.write(t.data)},t}(),e.Demuxer.TS=function(){"use strict";var t=function(t){this.bits=null,this.leftoverBytes=null,this.guessVideoFrameEnd=!0,this.pidsToStreamIds={},this.pesPacketInfo={},this.startTime=0,this.currentTime=0};return t.prototype.connect=function(t,e){this.pesPacketInfo[t]={destination:e,currentLength:0,totalLength:0,pts:0,buffers:[]}},t.prototype.write=function(t){if(this.leftoverBytes){var i=t.byteLength+this.leftoverBytes.byteLength;this.bits=new e.BitBuffer(i),this.bits.write([this.leftoverBytes,t])}else this.bits=new e.BitBuffer(t);for(;this.bits.has(1504)&&this.parsePacket(););var n=this.bits.byteLength-(this.bits.index>>3);this.leftoverBytes=n>0?this.bits.bytes.subarray(this.bits.index>>3):null},t.prototype.parsePacket=function(){if(71!==this.bits.read(8)&&!this.resync())return!1;var t=187+(this.bits.index>>3),e=(this.bits.read(1),this.bits.read(1)),i=(this.bits.read(1),this.bits.read(13)),n=(this.bits.read(2),this.bits.read(2)),r=(this.bits.read(4),this.pidsToStreamIds[i]),o;e&&r&&((o=this.pesPacketInfo[r])&&o.currentLength&&this.packetComplete(o));if(1&n){if(2&n){var a=this.bits.read(8);this.bits.skip(a<<3)}if(e&&this.bits.nextBytesAreStartCode()){this.bits.skip(24),r=this.bits.read(8),this.pidsToStreamIds[i]=r;var s=this.bits.read(16);this.bits.skip(8);var c=this.bits.read(2);this.bits.skip(6);var l=this.bits.read(8),d=this.bits.index+(l<<3),o;if(o=this.pesPacketInfo[r]){var p=0;if(2&c){this.bits.skip(4);var u=this.bits.read(3);this.bits.skip(1);var h=this.bits.read(15);this.bits.skip(1);var f=this.bits.read(15);this.bits.skip(1),p=(1073741824*u+32768*h+f)/9e4,this.currentTime=p,-1===this.startTime&&(this.startTime=p)}var m=s?s-l-3:0;this.packetStart(o,p,m)}this.bits.index=d}var o;if(r)if(o=this.pesPacketInfo[r]){var g=this.bits.index>>3,b,y=!e&&2&n;(this.packetAddData(o,g,t)||this.guessVideoFrameEnd&&y)&&this.packetComplete(o)}}return this.bits.index=t<<3,!0},t.prototype.resync=function(){if(!this.bits.has(9024))return!1;for(var t=this.bits.index>>3,e=0;e<187;e++)if(71===this.bits.bytes[t+e]){for(var i=!0,n=1;n<5;n++)if(71!==this.bits.bytes[t+e+188*n]){i=!1;break}if(i)return this.bits.index=t+e+1<<3,!0}return console.warn("JSMpeg: Possible garbage data. Skipping."),this.bits.skip(1496),!1},t.prototype.packetStart=function(t,e,i){t.totalLength=i,t.currentLength=0,t.pts=e},t.prototype.packetAddData=function(t,e,i){return t.buffers.push(this.bits.bytes.subarray(e,i)),t.currentLength+=i-e,0!==t.totalLength&&t.currentLength>=t.totalLength},t.prototype.packetComplete=function(t){t.destination.write(t.pts,t.buffers),t.totalLength=0,t.currentLength=0,t.buffers=[]},t.STREAM={PACK_HEADER:186,SYSTEM_HEADER:187,PROGRAM_MAP:188,PRIVATE_1:189,PADDING:190,PRIVATE_2:191,AUDIO_1:192,VIDEO_1:224,DIRECTORY:255},t}(),e.Decoder.Base=function(){"use strict";var t=function(t){this.destination=null,this.canPlay=!1,this.collectTimestamps=!t.streaming,this.timestamps=[],this.timestampIndex=0,this.startTime=0,this.decodedTime=0,Object.defineProperty(this,"currentTime",{get:this.getCurrentTime})};return t.prototype.connect=function(t){this.destination=t},t.prototype.write=function(t,e){this.collectTimestamps&&(0===this.timestamps.length&&(this.startTime=t,this.decodedTime=t),this.timestamps.push({index:this.bits.byteLength<<3,time:t})),this.bits.write(e),this.canPlay=!0},t.prototype.seek=function(t){if(this.collectTimestamps){this.timestampIndex=0;for(var e=0;e<this.timestamps.length&&!(this.timestamps[e].time>t);e++)this.timestampIndex=e;var i=this.timestamps[this.timestampIndex];i?(this.bits.index=i.index,this.decodedTime=i.time):(this.bits.index=0,this.decodedTime=this.startTime)}},t.prototype.decode=function(){this.advanceDecodedTime(0)},t.prototype.advanceDecodedTime=function(t){if(this.collectTimestamps){for(var e=-1,i=this.timestampIndex;i<this.timestamps.length&&!(this.timestamps[i].index>this.bits.index);i++)e=i;if(-1!==e&&e!==this.timestampIndex)return this.timestampIndex=e,void(this.decodedTime=this.timestamps[this.timestampIndex].time)}this.decodedTime+=t},t.prototype.getCurrentTime=function(){return this.decodedTime},t}(),e.Decoder.MPEG1Video=function(){"use strict";var t=function(t){e.Decoder.Base.call(this,t);var i=t.videoBufferSize||524288,n=t.streaming?e.BitBuffer.MODE.EVICT:e.BitBuffer.MODE.EXPAND;this.bits=new e.BitBuffer(i,n),this.customIntraQuantMatrix=new Uint8Array(64),this.customNonIntraQuantMatrix=new Uint8Array(64),this.blockData=new Int32Array(64),this.currentFrame=0,this.decodeFirstFrame=!1!==t.decodeFirstFrame};return(t.prototype=Object.create(e.Decoder.Base.prototype)).constructor=t,t.prototype.write=function(i,n){if(e.Decoder.Base.prototype.write.call(this,i,n),!this.hasSequenceHeader){if(-1===this.bits.findStartCode(t.START.SEQUENCE))return!1;this.decodeSequenceHeader(),this.decodeFirstFrame&&this.decode()}},t.prototype.decode=function(){return!!this.hasSequenceHeader&&(-1===this.bits.findStartCode(t.START.PICTURE)?(this.bits.byteLength,this.bits.index,!1):(this.decodePicture(),this.advanceDecodedTime(1/this.frameRate),!0))},t.prototype.readHuffman=function(t){var e=0;do{e=t[e+this.bits.read(1)]}while(e>=0&&0!==t[e]);return t[e+2]},t.prototype.frameRate=30,t.prototype.decodeSequenceHeader=function(){var e=this.bits.read(12),i=this.bits.read(12);if(this.bits.skip(4),this.frameRate=t.PICTURE_RATE[this.bits.read(4)],this.bits.skip(30),(e!==this.width||i!==this.height)&&(this.width=e,this.height=i,this.initBuffers(),this.destination&&this.destination.resize(e,i)),this.bits.read(1)){for(var n=0;n<64;n++)this.customIntraQuantMatrix[t.ZIG_ZAG[n]]=this.bits.read(8);this.intraQuantMatrix=this.customIntraQuantMatrix}if(this.bits.read(1)){for(var n=0;n<64;n++){var r=t.ZIG_ZAG[n];this.customNonIntraQuantMatrix[r]=this.bits.read(8)}this.nonIntraQuantMatrix=this.customNonIntraQuantMatrix}this.hasSequenceHeader=!0},t.prototype.initBuffers=function(){this.intraQuantMatrix=t.DEFAULT_INTRA_QUANT_MATRIX,this.nonIntraQuantMatrix=t.DEFAULT_NON_INTRA_QUANT_MATRIX,this.mbWidth=this.width+15>>4,this.mbHeight=this.height+15>>4,this.mbSize=this.mbWidth*this.mbHeight,this.codedWidth=this.mbWidth<<4,this.codedHeight=this.mbHeight<<4,this.codedSize=this.codedWidth*this.codedHeight,this.halfWidth=this.mbWidth<<3,this.halfHeight=this.mbHeight<<3,this.currentY=new Uint8ClampedArray(this.codedSize),this.currentY32=new Uint32Array(this.currentY.buffer),this.currentCr=new Uint8ClampedArray(this.codedSize>>2),this.currentCr32=new Uint32Array(this.currentCr.buffer),this.currentCb=new Uint8ClampedArray(this.codedSize>>2),this.currentCb32=new Uint32Array(this.currentCb.buffer),this.forwardY=new Uint8ClampedArray(this.codedSize),this.forwardY32=new Uint32Array(this.forwardY.buffer),this.forwardCr=new Uint8ClampedArray(this.codedSize>>2),this.forwardCr32=new Uint32Array(this.forwardCr.buffer),this.forwardCb=new Uint8ClampedArray(this.codedSize>>2),this.forwardCb32=new Uint32Array(this.forwardCb.buffer)},t.prototype.currentY=null,t.prototype.currentCr=null,t.prototype.currentCb=null,t.prototype.pictureType=0,t.prototype.forwardY=null,t.prototype.forwardCr=null,t.prototype.forwardCb=null,t.prototype.fullPelForward=!1,t.prototype.forwardFCode=0,t.prototype.forwardRSize=0,t.prototype.forwardF=0,t.prototype.decodePicture=function(e){if(this.currentFrame++,this.bits.skip(10),this.pictureType=this.bits.read(3),this.bits.skip(16),!(this.pictureType<=0||this.pictureType>=t.PICTURE_TYPE.B)){if(this.pictureType===t.PICTURE_TYPE.PREDICTIVE){if(this.fullPelForward=this.bits.read(1),this.forwardFCode=this.bits.read(3),0===this.forwardFCode)return;this.forwardRSize=this.forwardFCode-1,this.forwardF=1<<this.forwardRSize}var i=0;do{i=this.bits.findNextStartCode()}while(i===t.START.EXTENSION||i===t.START.USER_DATA);for(;i>=t.START.SLICE_FIRST&&i<=t.START.SLICE_LAST;)this.decodeSlice(255&i),i=this.bits.findNextStartCode();if(-1!==i&&this.bits.rewind(32),this.destination&&this.destination.render(this.currentY,this.currentCr,this.currentCb),this.pictureType===t.PICTURE_TYPE.INTRA||this.pictureType===t.PICTURE_TYPE.PREDICTIVE){var n=this.forwardY,r=this.forwardY32,o=this.forwardCr,a=this.forwardCr32,s=this.forwardCb,c=this.forwardCb32;this.forwardY=this.currentY,this.forwardY32=this.currentY32,this.forwardCr=this.currentCr,this.forwardCr32=this.currentCr32,this.forwardCb=this.currentCb,this.forwardCb32=this.currentCb32,this.currentY=n,this.currentY32=r,this.currentCr=o,this.currentCr32=a,this.currentCb=s,this.currentCb32=c}}},t.prototype.quantizerScale=0,t.prototype.sliceBegin=!1,t.prototype.decodeSlice=function(t){for(this.sliceBegin=!0,this.macroblockAddress=(t-1)*this.mbWidth-1,this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0,this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.quantizerScale=this.bits.read(5);this.bits.read(1);)this.bits.skip(8);do{this.decodeMacroblock()}while(!this.bits.nextBytesAreStartCode())},t.prototype.macroblockAddress=0,t.prototype.mbRow=0,t.prototype.mbCol=0,t.prototype.macroblockType=0,t.prototype.macroblockIntra=!1,t.prototype.macroblockMotFw=!1,t.prototype.motionFwH=0,t.prototype.motionFwV=0,t.prototype.motionFwHPrev=0,t.prototype.motionFwVPrev=0,t.prototype.decodeMacroblock=function(){for(var e=0,i=this.readHuffman(t.MACROBLOCK_ADDRESS_INCREMENT);34===i;)i=this.readHuffman(t.MACROBLOCK_ADDRESS_INCREMENT);for(;35===i;)e+=33,i=this.readHuffman(t.MACROBLOCK_ADDRESS_INCREMENT);if(e+=i,this.sliceBegin)this.sliceBegin=!1,this.macroblockAddress+=e;else{if(this.macroblockAddress+e>=this.mbSize)return;for(e>1&&(this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.pictureType===t.PICTURE_TYPE.PREDICTIVE&&(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0));e>1;)this.macroblockAddress++,this.mbRow=this.macroblockAddress/this.mbWidth|0,this.mbCol=this.macroblockAddress%this.mbWidth,this.copyMacroblock(this.motionFwH,this.motionFwV,this.forwardY,this.forwardCr,this.forwardCb),e--;this.macroblockAddress++}this.mbRow=this.macroblockAddress/this.mbWidth|0,this.mbCol=this.macroblockAddress%this.mbWidth;var n=t.MACROBLOCK_TYPE[this.pictureType];this.macroblockType=this.readHuffman(n),this.macroblockIntra=1&this.macroblockType,this.macroblockMotFw=8&this.macroblockType,0!=(16&this.macroblockType)&&(this.quantizerScale=this.bits.read(5)),this.macroblockIntra?(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0):(this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.decodeMotionVectors(),this.copyMacroblock(this.motionFwH,this.motionFwV,this.forwardY,this.forwardCr,this.forwardCb));for(var r=0!=(2&this.macroblockType)?this.readHuffman(t.CODE_BLOCK_PATTERN):this.macroblockIntra?63:0,o=0,a=32;o<6;o++)0!=(r&a)&&this.decodeBlock(o),a>>=1},t.prototype.decodeMotionVectors=function(){var e,i,n=0;this.macroblockMotFw?(0!==(e=this.readHuffman(t.MOTION))&&1!==this.forwardF?(n=this.bits.read(this.forwardRSize),i=(Math.abs(e)-1<<this.forwardRSize)+n+1,e<0&&(i=-i)):i=e,this.motionFwHPrev+=i,this.motionFwHPrev>(this.forwardF<<4)-1?this.motionFwHPrev-=this.forwardF<<5:this.motionFwHPrev<-this.forwardF<<4&&(this.motionFwHPrev+=this.forwardF<<5),this.motionFwH=this.motionFwHPrev,this.fullPelForward&&(this.motionFwH<<=1),0!==(e=this.readHuffman(t.MOTION))&&1!==this.forwardF?(n=this.bits.read(this.forwardRSize),i=(Math.abs(e)-1<<this.forwardRSize)+n+1,e<0&&(i=-i)):i=e,this.motionFwVPrev+=i,this.motionFwVPrev>(this.forwardF<<4)-1?this.motionFwVPrev-=this.forwardF<<5:this.motionFwVPrev<-this.forwardF<<4&&(this.motionFwVPrev+=this.forwardF<<5),this.motionFwV=this.motionFwVPrev,this.fullPelForward&&(this.motionFwV<<=1)):this.pictureType===t.PICTURE_TYPE.PREDICTIVE&&(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0)},t.prototype.copyMacroblock=function(t,e,i,n,r){var o,a,s,c,l,d,p,u,h,f=this.currentY32,m=this.currentCb32,g=this.currentCr32,b,y,v,w,x,A,k,E,S,I;if(a=(o=this.codedWidth)-16,s=t>>1,c=e>>1,l=1==(1&t),d=1==(1&e),p=((this.mbRow<<4)+c)*o+(this.mbCol<<4)+s,h=(u=this.mbRow*o+this.mbCol<<2)+(o<<2),l)if(d)for(;u<h;){for(y=i[p]+i[p+o],p++,b=0;b<4;b++)w=y+(v=i[p]+i[p+o])+2>>2&255,w|=(y=i[++p]+i[p+o])+v+2<<6&65280,w|=y+(v=i[++p]+i[p+o])+2<<14&16711680,y=i[++p]+i[p+o],p++,w|=y+v+2<<22&4278190080,f[u++]=w;u+=a>>2,p+=a-1}else for(;u<h;){for(y=i[p++],b=0;b<4;b++)w=y+(v=i[p++])+1>>1&255,w|=(y=i[p++])+v+1<<7&65280,w|=y+(v=i[p++])+1<<15&16711680,w|=(y=i[p++])+v+1<<23&4278190080,f[u++]=w;u+=a>>2,p+=a-1}else if(d)for(;u<h;){for(b=0;b<4;b++)w=i[p]+i[p+o]+1>>1&255,w|=i[++p]+i[p+o]+1<<7&65280,w|=i[++p]+i[p+o]+1<<15&16711680,w|=i[++p]+i[p+o]+1<<23&4278190080,p++,f[u++]=w;u+=a>>2,p+=a}else for(;u<h;){for(b=0;b<4;b++)w=i[p],w|=i[++p]<<8,w|=i[++p]<<16,w|=i[++p]<<24,p++,f[u++]=w;u+=a>>2,p+=a}if(a=(o=this.halfWidth)-8,s=t/2>>1,c=e/2>>1,l=1==(t/2&1),d=1==(e/2&1),p=((this.mbRow<<3)+c)*o+(this.mbCol<<3)+s,h=(u=this.mbRow*o+this.mbCol<<1)+(o<<1),l)if(d)for(;u<h;){for(x=n[p]+n[p+o],E=r[p]+r[p+o],p++,b=0;b<2;b++)k=x+(A=n[p]+n[p+o])+2>>2&255,I=E+(S=r[p]+r[p+o])+2>>2&255,k|=(x=n[++p]+n[p+o])+A+2<<6&65280,I|=(E=r[p]+r[p+o])+S+2<<6&65280,k|=x+(A=n[++p]+n[p+o])+2<<14&16711680,I|=E+(S=r[p]+r[p+o])+2<<14&16711680,x=n[++p]+n[p+o],E=r[p]+r[p+o],p++,k|=x+A+2<<22&4278190080,I|=E+S+2<<22&4278190080,g[u]=k,m[u]=I,u++;u+=a>>2,p+=a-1}else for(;u<h;){for(x=n[p],E=r[p],p++,b=0;b<2;b++)k=x+(A=n[p])+1>>1&255,I=E+(S=r[p++])+1>>1&255,k|=(x=n[p])+A+1<<7&65280,I|=(E=r[p++])+S+1<<7&65280,k|=x+(A=n[p])+1<<15&16711680,I|=E+(S=r[p++])+1<<15&16711680,k|=(x=n[p])+A+1<<23&4278190080,I|=(E=r[p++])+S+1<<23&4278190080,g[u]=k,m[u]=I,u++;u+=a>>2,p+=a-1}else if(d)for(;u<h;){for(b=0;b<2;b++)k=n[p]+n[p+o]+1>>1&255,I=r[p]+r[p+o]+1>>1&255,k|=n[++p]+n[p+o]+1<<7&65280,I|=r[p]+r[p+o]+1<<7&65280,k|=n[++p]+n[p+o]+1<<15&16711680,I|=r[p]+r[p+o]+1<<15&16711680,k|=n[++p]+n[p+o]+1<<23&4278190080,I|=r[p]+r[p+o]+1<<23&4278190080,p++,g[u]=k,m[u]=I,u++;u+=a>>2,p+=a}else for(;u<h;){for(b=0;b<2;b++)k=n[p],I=r[p],k|=n[++p]<<8,I|=r[p]<<8,k|=n[++p]<<16,I|=r[p]<<16,k|=n[++p]<<24,I|=r[p]<<24,p++,g[u]=k,m[u]=I,u++;u+=a>>2,p+=a}},t.prototype.dcPredictorY=0,t.prototype.dcPredictorCr=0,t.prototype.dcPredictorCb=0,t.prototype.blockData=null,t.prototype.decodeBlock=function(i){var n,r=0,u,h,f;if(this.macroblockIntra){var o,a;if(i<4?(o=this.dcPredictorY,a=this.readHuffman(t.DCT_DC_SIZE_LUMINANCE)):(o=4===i?this.dcPredictorCr:this.dcPredictorCb,a=this.readHuffman(t.DCT_DC_SIZE_CHROMINANCE)),a>0){var s=this.bits.read(a);this.blockData[0]=0!=(s&1<<a-1)?o+s:o+(-1<<a|s+1)}else this.blockData[0]=o;i<4?this.dcPredictorY=this.blockData[0]:4===i?this.dcPredictorCr=this.blockData[0]:this.dcPredictorCb=this.blockData[0],this.blockData[0]<<=8,n=this.intraQuantMatrix,r=1}else n=this.nonIntraQuantMatrix;for(var c=0;;){var l=0,d=this.readHuffman(t.DCT_COEFF);if(1===d&&r>0&&0===this.bits.read(1))break;65535===d?(l=this.bits.read(6),0===(c=this.bits.read(8))?c=this.bits.read(8):128===c?c=this.bits.read(8)-256:c>128&&(c-=256)):(l=d>>8,c=255&d,this.bits.read(1)&&(c=-c));var p=t.ZIG_ZAG[r+=l];r++,c<<=1,this.macroblockIntra||(c+=c<0?-1:1),0==(1&(c=c*this.quantizerScale*n[p]>>4))&&(c-=c>0?1:-1),c>2047?c=2047:c<-2048&&(c=-2048),this.blockData[p]=c*t.PREMULTIPLIER_MATRIX[p]}i<4?(u=this.currentY,f=this.codedWidth-8,h=this.mbRow*this.codedWidth+this.mbCol<<4,0!=(1&i)&&(h+=8),0!=(2&i)&&(h+=this.codedWidth<<3)):(u=4===i?this.currentCb:this.currentCr,f=(this.codedWidth>>1)-8,h=(this.mbRow*this.codedWidth<<2)+(this.mbCol<<3)),this.macroblockIntra?1===r?(t.CopyValueToDestination(this.blockData[0]+128>>8,u,h,f),this.blockData[0]=0):(t.IDCT(this.blockData),t.CopyBlockToDestination(this.blockData,u,h,f),e.Fill(this.blockData,0)):1===r?(t.AddValueToDestination(this.blockData[0]+128>>8,u,h,f),this.blockData[0]=0):(t.IDCT(this.blockData),t.AddBlockToDestination(this.blockData,u,h,f),e.Fill(this.blockData,0)),r=0},t.CopyBlockToDestination=function(t,e,i,n){for(var r=0;r<64;r+=8,i+=n+8)e[i+0]=t[r+0],e[i+1]=t[r+1],e[i+2]=t[r+2],e[i+3]=t[r+3],e[i+4]=t[r+4],e[i+5]=t[r+5],e[i+6]=t[r+6],e[i+7]=t[r+7]},t.AddBlockToDestination=function(t,e,i,n){for(var r=0;r<64;r+=8,i+=n+8)e[i+0]+=t[r+0],e[i+1]+=t[r+1],e[i+2]+=t[r+2],e[i+3]+=t[r+3],e[i+4]+=t[r+4],e[i+5]+=t[r+5],e[i+6]+=t[r+6],e[i+7]+=t[r+7]},t.CopyValueToDestination=function(t,e,i,n){for(var r=0;r<64;r+=8,i+=n+8)e[i+0]=t,e[i+1]=t,e[i+2]=t,e[i+3]=t,e[i+4]=t,e[i+5]=t,e[i+6]=t,e[i+7]=t},t.AddValueToDestination=function(t,e,i,n){for(var r=0;r<64;r+=8,i+=n+8)e[i+0]+=t,e[i+1]+=t,e[i+2]+=t,e[i+3]+=t,e[i+4]+=t,e[i+5]+=t,e[i+6]+=t,e[i+7]+=t},t.IDCT=function(t){for(var e,i,n,r,o,a,s,c,l,d,p,u,h,f,m,g,b,y,v=0;v<8;++v)e=t[32+v],i=t[16+v]+t[48+v],n=t[40+v]-t[24+v],a=t[8+v]+t[56+v],s=t[24+v]+t[40+v],l=(h=(473*(r=t[8+v]-t[56+v])-196*n+128>>8)-(o=a+s))-(362*(a-s)+128>>8),f=(d=(c=t[0+v])-e)+(p=(362*(t[16+v]-t[48+v])+128>>8)-i),m=(u=c+e)+i,g=d-p,b=u-i,y=-l-(473*n+196*r+128>>8),t[0+v]=o+m,t[8+v]=h+f,t[16+v]=g-l,t[24+v]=b-y,t[32+v]=b+y,t[40+v]=l+g,t[48+v]=f-h,t[56+v]=m-o;for(var v=0;v<64;v+=8)e=t[4+v],i=t[2+v]+t[6+v],n=t[5+v]-t[3+v],a=t[1+v]+t[7+v],s=t[3+v]+t[5+v],l=(h=(473*(r=t[1+v]-t[7+v])-196*n+128>>8)-(o=a+s))-(362*(a-s)+128>>8),f=(d=(c=t[0+v])-e)+(p=(362*(t[2+v]-t[6+v])+128>>8)-i),m=(u=c+e)+i,g=d-p,b=u-i,y=-l-(473*n+196*r+128>>8),t[0+v]=o+m+128>>8,t[1+v]=h+f+128>>8,t[2+v]=g-l+128>>8,t[3+v]=b-y+128>>8,t[4+v]=b+y+128>>8,t[5+v]=l+g+128>>8,t[6+v]=f-h+128>>8,t[7+v]=m-o+128>>8},t.PICTURE_RATE=[0,23.976,24,25,29.97,30,50,59.94,60,0,0,0,0,0,0,0],t.ZIG_ZAG=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),t.DEFAULT_INTRA_QUANT_MATRIX=new Uint8Array([8,16,19,22,26,27,29,34,16,16,22,24,27,29,34,37,19,22,26,27,29,34,34,38,22,22,26,27,29,34,37,40,22,26,27,29,32,35,40,48,26,27,29,32,35,40,48,58,26,27,29,34,38,46,56,69,27,29,35,38,46,56,69,83]),t.DEFAULT_NON_INTRA_QUANT_MATRIX=new Uint8Array([16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16]),t.PREMULTIPLIER_MATRIX=new Uint8Array([32,44,42,38,32,25,17,9,44,62,58,52,44,35,24,12,42,58,55,49,42,33,23,12,38,52,49,44,38,30,20,10,32,44,42,38,32,25,17,9,25,35,33,30,25,20,14,7,17,24,23,20,17,14,9,5,9,12,12,10,9,7,5,2]),t.MACROBLOCK_ADDRESS_INCREMENT=new Int16Array([3,6,0,9,12,0,0,0,1,15,18,0,21,24,0,27,30,0,33,36,0,0,0,3,0,0,2,39,42,0,45,48,0,0,0,5,0,0,4,51,54,0,57,60,0,0,0,7,0,0,6,63,66,0,69,72,0,75,78,0,81,84,0,-1,87,0,-1,90,0,93,96,0,99,102,0,105,108,0,111,114,0,0,0,9,0,0,8,117,120,0,123,126,0,129,132,0,135,138,0,0,0,15,0,0,14,0,0,13,0,0,12,0,0,11,0,0,10,141,-1,0,-1,144,0,147,150,0,153,156,0,159,162,0,165,168,0,171,174,0,177,180,0,183,-1,0,-1,186,0,189,192,0,195,198,0,201,204,0,207,210,0,213,216,0,219,222,0,0,0,21,0,0,20,0,0,19,0,0,18,0,0,17,0,0,16,0,0,35,0,0,34,0,0,33,0,0,32,0,0,31,0,0,30,0,0,29,0,0,28,0,0,27,0,0,26,0,0,25,0,0,24,0,0,23,0,0,22]),t.MACROBLOCK_TYPE_INTRA=new Int8Array([3,6,0,-1,9,0,0,0,1,0,0,17]),t.MACROBLOCK_TYPE_PREDICTIVE=new Int8Array([3,6,0,9,12,0,0,0,10,15,18,0,0,0,2,21,24,0,0,0,8,27,30,0,33,36,0,-1,39,0,0,0,18,0,0,26,0,0,1,0,0,17]),t.MACROBLOCK_TYPE_B=new Int8Array([3,6,0,9,15,0,12,18,0,24,21,0,0,0,12,27,30,0,0,0,14,39,42,0,36,33,0,0,0,4,0,0,6,54,48,0,45,51,0,0,0,8,0,0,10,-1,57,0,0,0,1,60,63,0,0,0,30,0,0,17,0,0,22,0,0,26]),t.MACROBLOCK_TYPE=[null,t.MACROBLOCK_TYPE_INTRA,t.MACROBLOCK_TYPE_PREDICTIVE,t.MACROBLOCK_TYPE_B],t.CODE_BLOCK_PATTERN=new Int16Array([6,3,0,9,18,0,12,15,0,24,33,0,36,39,0,27,21,0,30,42,0,60,57,0,54,48,0,69,51,0,81,75,0,63,84,0,45,66,0,72,78,0,0,0,60,105,120,0,132,144,0,114,108,0,126,141,0,87,93,0,117,96,0,0,0,32,135,138,0,99,123,0,129,102,0,0,0,4,90,111,0,0,0,8,0,0,16,0,0,44,150,168,0,0,0,28,0,0,52,0,0,62,183,177,0,156,180,0,0,0,1,165,162,0,0,0,61,0,0,56,171,174,0,0,0,2,0,0,40,153,186,0,0,0,48,192,189,0,147,159,0,0,0,20,0,0,12,240,249,0,0,0,63,231,225,0,195,219,0,252,198,0,0,0,24,0,0,36,0,0,3,207,261,0,243,237,0,204,213,0,210,234,0,201,228,0,216,222,0,258,255,0,264,246,0,-1,282,0,285,291,0,0,0,33,0,0,9,318,330,0,306,348,0,0,0,5,0,0,10,279,267,0,0,0,6,0,0,18,0,0,17,0,0,34,339,357,0,309,312,0,270,276,0,327,321,0,351,354,0,303,297,0,294,288,0,300,273,0,342,345,0,315,324,0,336,333,0,363,375,0,0,0,41,0,0,14,0,0,21,372,366,0,360,369,0,0,0,11,0,0,19,0,0,7,0,0,35,0,0,13,0,0,50,0,0,49,0,0,58,0,0,37,0,0,25,0,0,45,0,0,57,0,0,26,0,0,29,0,0,38,0,0,53,0,0,23,0,0,43,0,0,46,0,0,42,0,0,22,0,0,54,0,0,51,0,0,15,0,0,30,0,0,39,0,0,47,0,0,55,0,0,27,0,0,59,0,0,31]),t.MOTION=new Int16Array([3,6,0,12,9,0,0,0,0,18,15,0,24,21,0,0,0,-1,0,0,1,27,30,0,36,33,0,0,0,2,0,0,-2,42,45,0,48,39,0,60,54,0,0,0,3,0,0,-3,51,57,0,-1,69,0,81,75,0,78,63,0,72,66,0,96,84,0,87,93,0,-1,99,0,108,105,0,0,0,-4,90,102,0,0,0,4,0,0,-7,0,0,5,111,123,0,0,0,-5,0,0,7,114,120,0,126,117,0,0,0,-6,0,0,6,153,162,0,150,147,0,135,138,0,156,141,0,129,159,0,132,144,0,0,0,10,0,0,9,0,0,8,0,0,-8,171,198,0,0,0,-9,180,192,0,168,183,0,165,186,0,174,189,0,0,0,-10,177,195,0,0,0,12,0,0,16,0,0,13,0,0,14,0,0,11,0,0,15,0,0,-16,0,0,-12,0,0,-14,0,0,-15,0,0,-11,0,0,-13]),t.DCT_DC_SIZE_LUMINANCE=new Int8Array([6,3,0,18,15,0,9,12,0,0,0,1,0,0,2,27,24,0,21,30,0,0,0,0,36,33,0,0,0,4,0,0,3,39,42,0,0,0,5,0,0,6,48,45,0,51,-1,0,0,0,7,0,0,8]),t.DCT_DC_SIZE_CHROMINANCE=new Int8Array([6,3,0,12,9,0,18,15,0,24,21,0,0,0,2,0,0,1,0,0,0,30,27,0,0,0,3,36,33,0,0,0,4,42,39,0,0,0,5,48,45,0,0,0,6,51,-1,0,0,0,7,0,0,8]),t.DCT_COEFF=new Int32Array([3,6,0,12,9,0,0,0,1,21,24,0,18,15,0,39,27,0,33,30,0,42,36,0,0,0,257,60,66,0,54,63,0,48,57,0,0,0,513,51,45,0,0,0,2,0,0,3,81,75,0,87,93,0,72,78,0,96,90,0,0,0,1025,69,84,0,0,0,769,0,0,258,0,0,1793,0,0,65535,0,0,1537,111,108,0,0,0,1281,105,102,0,117,114,0,99,126,0,120,123,0,156,150,0,162,159,0,144,147,0,129,135,0,138,132,0,0,0,2049,0,0,4,0,0,514,0,0,2305,153,141,0,165,171,0,180,168,0,177,174,0,183,186,0,0,0,2561,0,0,3329,0,0,6,0,0,259,0,0,5,0,0,770,0,0,2817,0,0,3073,228,225,0,201,210,0,219,213,0,234,222,0,216,231,0,207,192,0,204,189,0,198,195,0,243,261,0,273,240,0,246,237,0,249,258,0,279,276,0,252,255,0,270,282,0,264,267,0,0,0,515,0,0,260,0,0,7,0,0,1026,0,0,1282,0,0,4097,0,0,3841,0,0,3585,315,321,0,333,342,0,312,291,0,375,357,0,288,294,0,-1,369,0,285,303,0,318,363,0,297,306,0,339,309,0,336,348,0,330,300,0,372,345,0,351,366,0,327,354,0,360,324,0,381,408,0,417,420,0,390,378,0,435,438,0,384,387,0,0,0,2050,396,402,0,465,462,0,0,0,8,411,399,0,429,432,0,453,414,0,426,423,0,0,0,10,0,0,9,0,0,11,0,0,5377,0,0,1538,0,0,771,0,0,5121,0,0,1794,0,0,4353,0,0,4609,0,0,4865,444,456,0,0,0,1027,459,450,0,0,0,261,393,405,0,0,0,516,447,441,0,516,519,0,486,474,0,510,483,0,504,498,0,471,537,0,507,501,0,522,513,0,534,531,0,468,477,0,492,495,0,549,546,0,525,528,0,0,0,263,0,0,2562,0,0,2306,0,0,5633,0,0,5889,0,0,6401,0,0,6145,0,0,1283,0,0,772,0,0,13,0,0,12,0,0,14,0,0,15,0,0,517,0,0,6657,0,0,262,540,543,0,480,489,0,588,597,0,0,0,27,609,555,0,606,603,0,0,0,19,0,0,22,591,621,0,0,0,18,573,576,0,564,570,0,0,0,20,552,582,0,0,0,21,558,579,0,0,0,23,612,594,0,0,0,25,0,0,24,600,615,0,0,0,31,0,0,30,0,0,28,0,0,29,0,0,26,0,0,17,0,0,16,567,618,0,561,585,0,654,633,0,0,0,37,645,648,0,0,0,36,630,636,0,0,0,34,639,627,0,663,666,0,657,624,0,651,642,0,669,660,0,0,0,35,0,0,267,0,0,40,0,0,268,0,0,266,0,0,32,0,0,264,0,0,265,0,0,38,0,0,269,0,0,270,0,0,33,0,0,39,0,0,7937,0,0,6913,0,0,7681,0,0,4098,0,0,7425,0,0,7169,0,0,271,0,0,274,0,0,273,0,0,272,0,0,1539,0,0,2818,0,0,3586,0,0,3330,0,0,3074,0,0,3842]),t.PICTURE_TYPE={INTRA:1,PREDICTIVE:2,B:3},t.START={SEQUENCE:179,SLICE_FIRST:1,SLICE_LAST:175,PICTURE:0,EXTENSION:181,USER_DATA:178},t}(),e.Decoder.MP2Audio=function(){"use strict";var t=function(i){e.Decoder.Base.call(this,i);var n=i.audioBufferSize||131072,r=i.streaming?e.BitBuffer.MODE.EVICT:e.BitBuffer.MODE.EXPAND;this.bits=new e.BitBuffer(n,r),this.left=new Float32Array(1152),this.right=new Float32Array(1152),this.sampleRate=44100,this.D=new Float32Array(1024),this.D.set(t.SYNTHESIS_WINDOW,0),this.D.set(t.SYNTHESIS_WINDOW,512),this.V=new Float32Array(1024),this.U=new Int32Array(32),this.VPos=0,this.allocation=[new Array(32),new Array(32)],this.scaleFactorInfo=[new Uint8Array(32),new Uint8Array(32)],this.scaleFactor=[new Array(32),new Array(32)],this.sample=[new Array(32),new Array(32)];for(var o=0;o<2;o++)for(var a=0;a<32;a++)this.scaleFactor[o][a]=[0,0,0],this.sample[o][a]=[0,0,0]};return t.prototype=Object.create(e.Decoder.Base.prototype),t.prototype.constructor=t,t.prototype.decode=function(){var t=this.bits.index>>3;if(t>=this.bits.byteLength)return!1;var e=this.decodeFrame(this.left,this.right);return this.bits.index=t+e<<3,!!e&&(this.destination&&this.destination.play(this.sampleRate,this.left,this.right),this.advanceDecodedTime(this.left.length/this.sampleRate),!0)},t.prototype.getCurrentTime=function(){var t=this.destination?this.destination.enqueuedTime:0;return this.decodedTime-t},t.prototype.decodeFrame=function(i,n){var r=this.bits.read(11),o=this.bits.read(2),a=this.bits.read(2),s=!this.bits.read(1);if(r!==t.FRAME_SYNC||o!==t.VERSION.MPEG_1||a!==t.LAYER.II)return 0;var c=this.bits.read(4)-1;if(c>13)return 0;var l=this.bits.read(2),d=t.SAMPLE_RATE[l];if(3===l)return 0;o===t.VERSION.MPEG_2&&(l+=4,c+=14);var p=this.bits.read(1),u=(this.bits.read(1),this.bits.read(2)),h=0;u===t.MODE.JOINT_STEREO?h=this.bits.read(2)+1<<2:(this.bits.skip(2),h=u===t.MODE.MONO?0:32),this.bits.skip(4),s&&this.bits.skip(16);var f,d,m=144e3*t.BIT_RATE[c]/(d=t.SAMPLE_RATE[l])+p|0,g=0,b=0;if(o===t.VERSION.MPEG_2)g=2,b=30;else{var y=u===t.MODE.MONO?0:1,v=t.QUANT_LUT_STEP_1[y][c];b=63&(g=t.QUANT_LUT_STEP_2[v][l]),g>>=6}h>b&&(h=b);for(var w=0;w<h;w++)this.allocation[0][w]=this.readAllocation(w,g),this.allocation[1][w]=this.readAllocation(w,g);for(var w=h;w<b;w++)this.allocation[0][w]=this.allocation[1][w]=this.readAllocation(w,g);for(var x=u===t.MODE.MONO?1:2,w=0;w<b;w++){for(A=0;A<x;A++)this.allocation[A][w]&&(this.scaleFactorInfo[A][w]=this.bits.read(2));u===t.MODE.MONO&&(this.scaleFactorInfo[1][w]=this.scaleFactorInfo[0][w])}for(var w=0;w<b;w++){for(var A=0;A<x;A++)if(this.allocation[A][w]){var k=this.scaleFactor[A][w];switch(this.scaleFactorInfo[A][w]){case 0:k[0]=this.bits.read(6),k[1]=this.bits.read(6),k[2]=this.bits.read(6);break;case 1:k[0]=k[1]=this.bits.read(6),k[2]=this.bits.read(6);break;case 2:k[0]=k[1]=k[2]=this.bits.read(6);break;case 3:k[0]=this.bits.read(6),k[1]=k[2]=this.bits.read(6)}}u===t.MODE.MONO&&(this.scaleFactor[1][w][0]=this.scaleFactor[0][w][0],this.scaleFactor[1][w][1]=this.scaleFactor[0][w][1],this.scaleFactor[1][w][2]=this.scaleFactor[0][w][2])}for(var E=0,S=0;S<3;S++)for(var I=0;I<4;I++){for(var w=0;w<h;w++)this.readSamples(0,w,S),this.readSamples(1,w,S);for(var w=h;w<b;w++)this.readSamples(0,w,S),this.sample[1][w][0]=this.sample[0][w][0],this.sample[1][w][1]=this.sample[0][w][1],this.sample[1][w][2]=this.sample[0][w][2];for(var w=b;w<32;w++)this.sample[0][w][0]=0,this.sample[0][w][1]=0,this.sample[0][w][2]=0,this.sample[1][w][0]=0,this.sample[1][w][1]=0,this.sample[1][w][2]=0;for(var T=0;T<3;T++){this.VPos=this.VPos-64&1023;for(var A=0;A<2;A++){t.MatrixTransform(this.sample[A],T,this.V,this.VPos),e.Fill(this.U,0);for(var C=512-(this.VPos>>1),M=this.VPos%128>>1;M<1024;){for(var _=0;_<32;++_)this.U[_]+=this.D[C++]*this.V[M++];M+=96,C+=32}for(M=1120-M,C-=480;M<1024;){for(var _=0;_<32;++_)this.U[_]+=this.D[C++]*this.V[M++];M+=96,C+=32}for(var P=0===A?i:n,L=0;L<32;L++)P[E+L]=this.U[L]/2147418112}E+=32}}return this.sampleRate=d,m},t.prototype.readAllocation=function(e,i){var n=t.QUANT_LUT_STEP_3[i][e],r=t.QUANT_LUT_STEP4[15&n][this.bits.read(n>>4)];return r?t.QUANT_TAB[r-1]:0},t.prototype.readSamples=function(e,i,n){var r=this.allocation[e][i],o=this.scaleFactor[e][i][n],a=this.sample[e][i],s=0;if(r){if(63===o)o=0;else{var c=o/3|0;o=t.SCALEFACTOR_BASE[o%3]+(1<<c>>1)>>c}var l=r.levels;r.group?(s=this.bits.read(r.bits),a[0]=s%l,s=s/l|0,a[1]=s%l,a[2]=s/l|0):(a[0]=this.bits.read(r.bits),a[1]=this.bits.read(r.bits),a[2]=this.bits.read(r.bits));var d=65536/(l+1)|0;s=((l=(l+1>>1)-1)-a[0])*d,a[0]=s*(o>>12)+(s*(4095&o)+2048>>12)>>12,s=(l-a[1])*d,a[1]=s*(o>>12)+(s*(4095&o)+2048>>12)>>12,s=(l-a[2])*d,a[2]=s*(o>>12)+(s*(4095&o)+2048>>12)>>12}else a[0]=a[1]=a[2]=0},t.MatrixTransform=function(t,e,i,n){var r,o,a,s,c,l,d,p,u,h,f,m,g,b,y,v,w,x,A,k,E,S,I,T,C,M,_,P,L,D,R,N,O;r=t[0][e]+t[31][e],o=.500602998235*(t[0][e]-t[31][e]),a=t[1][e]+t[30][e],s=.505470959898*(t[1][e]-t[30][e]),c=t[2][e]+t[29][e],l=.515447309923*(t[2][e]-t[29][e]),d=t[3][e]+t[28][e],p=.53104259109*(t[3][e]-t[28][e]),u=t[4][e]+t[27][e],h=.553103896034*(t[4][e]-t[27][e]),f=t[5][e]+t[26][e],m=.582934968206*(t[5][e]-t[26][e]),g=t[6][e]+t[25][e],b=.622504123036*(t[6][e]-t[25][e]),y=t[7][e]+t[24][e],v=.674808341455*(t[7][e]-t[24][e]),w=t[8][e]+t[23][e],x=.744536271002*(t[8][e]-t[23][e]),A=t[9][e]+t[22][e],k=.839349645416*(t[9][e]-t[22][e]),E=t[10][e]+t[21][e],S=.972568237862*(t[10][e]-t[21][e]),I=t[11][e]+t[20][e],T=1.16943993343*(t[11][e]-t[20][e]),C=t[12][e]+t[19][e],M=1.48416461631*(t[12][e]-t[19][e]),_=t[13][e]+t[18][e],P=2.05778100995*(t[13][e]-t[18][e]),L=t[14][e]+t[17][e],D=3.40760841847*(t[14][e]-t[17][e]),O=r+(R=t[15][e]+t[16][e]),R=.502419286188*(r-R),r=a+L,L=.52249861494*(a-L),a=c+_,_=.566944034816*(c-_),c=d+C,C=.64682178336*(d-C),d=u+I,I=.788154623451*(u-I),u=f+E,E=1.06067768599*(f-E),f=g+A,A=1.72244709824*(g-A),g=y+w,w=5.10114861869*(y-w),y=O+g,g=.509795579104*(O-g),O=r+f,r=.601344886935*(r-f),f=a+u,u=.899976223136*(a-u),a=c+d,d=2.56291544774*(c-d),c=y+a,y=.541196100146*(y-a),a=O+f,f=1.30656296488*(O-f),O=c+a,c=.707106781187*(c-a),a=y+f,a+=y=.707106781187*(y-f),f=g+d,g=.541196100146*(g-d),d=r+u,u=1.30656296488*(r-u),r=f+d,d=.707106781187*(f-d),f=g+u,r+=f+=g=.707106781187*(g-u),f+=d,d+=g,u=R+w,R=.509795579104*(R-w),w=L+A,L=.601344886935*(L-A),A=_+E,E=.899976223136*(_-E),_=C+I,I=2.56291544774*(C-I),C=u+_,u=.541196100146*(u-_),_=w+A,A=1.30656296488*(w-A),w=C+_,_=.707106781187*(C-_),C=u+A,A=.707106781187*(u-A),u=R+I,R=.541196100146*(R-I),I=L+E,E=1.30656296488*(L-E),L=u+I,I=.707106781187*(u-I),u=R+E,w+=L+=u+=R=.707106781187*(R-E),L+=C+=A,C+=u+=I,u+=_,_+=I+=R,I+=A,A+=R,E=o+(N=10.1900081235*(t[15][e]-t[16][e])),o=.502419286188*(o-N),N=s+D,s=.52249861494*(s-D),D=l+P,P=.566944034816*(l-P),l=p+M,p=.64682178336*(p-M),M=h+T,h=.788154623451*(h-T),T=m+S,S=1.06067768599*(m-S),m=b+k,k=1.72244709824*(b-k),b=v+x,v=5.10114861869*(v-x),x=E+b,b=.509795579104*(E-b),E=N+m,N=.601344886935*(N-m),m=D+T,T=.899976223136*(D-T),D=l+M,M=2.56291544774*(l-M),l=x+D,x=.541196100146*(x-D),D=E+m,m=1.30656296488*(E-m),E=l+D,D=.707106781187*(l-D),l=x+m,m=.707106781187*(x-m),x=b+M,M=.541196100146*(b-M),b=N+T,T=1.30656296488*(N-T),N=x+b,b=.707106781187*(x-b),x=M+T,N+=x+=T=.707106781187*(M-T),x+=b,M=b+T,b=o+v,o=.509795579104*(o-v),v=s+k,s=.601344886935*(s-k),k=P+S,S=.899976223136*(P-S),P=p+h,h=2.56291544774*(p-h),p=b+P,b=.541196100146*(b-P),P=v+k,k=1.30656296488*(v-k),v=p+P,P=.707106781187*(p-P),p=b+k,k=.707106781187*(b-k),b=o+h,o=.541196100146*(o-h),h=s+S,S=1.30656296488*(s-S),s=b+h,h=.707106781187*(b-h),b=o+S,E+=v+=s+=b+=o=.707106781187*(o-S),v+=N,N+=s+=p+=k,s+=l+=m,l+=p+=b+=h,p+=x,x+=b+=P,b+=D,D+=P+=h+=o,P+=M,M+=h+=k,h+=m,m+=k+=o,k+=T,T+=o,i[n+48]=-O,i[n+49]=i[n+47]=-E,i[n+50]=i[n+46]=-w,i[n+51]=i[n+45]=-v,i[n+52]=i[n+44]=-r,i[n+53]=i[n+43]=-N,i[n+54]=i[n+42]=-L,i[n+55]=i[n+41]=-s,i[n+56]=i[n+40]=-a,i[n+57]=i[n+39]=-l,i[n+58]=i[n+38]=-C,i[n+59]=i[n+37]=-p,i[n+60]=i[n+36]=-f,i[n+61]=i[n+35]=-x,i[n+62]=i[n+34]=-u,i[n+63]=i[n+33]=-b,i[n+32]=-c,i[n+0]=c,i[n+31]=-D,i[n+1]=D,i[n+30]=-_,i[n+2]=_,i[n+29]=-P,i[n+3]=P,i[n+28]=-d,i[n+4]=d,i[n+27]=-M,i[n+5]=M,i[n+26]=-I,i[n+6]=I,i[n+25]=-h,i[n+7]=h,i[n+24]=-y,i[n+8]=y,i[n+23]=-m,i[n+9]=m,i[n+22]=-A,i[n+10]=A,i[n+21]=-k,i[n+11]=k,i[n+20]=-g,i[n+12]=g,i[n+19]=-T,i[n+13]=T,i[n+18]=-R,i[n+14]=R,i[n+17]=-o,i[n+15]=o,i[n+16]=0},t.FRAME_SYNC=2047,t.VERSION={MPEG_2_5:0,MPEG_2:2,MPEG_1:3},t.LAYER={III:1,II:2,I:3},t.MODE={STEREO:0,JOINT_STEREO:1,DUAL_CHANNEL:2,MONO:3},t.SAMPLE_RATE=new Uint16Array([44100,48e3,32e3,0,22050,24e3,16e3,0]),t.BIT_RATE=new Uint16Array([32,48,56,64,80,96,112,128,160,192,224,256,320,384,8,16,24,32,40,48,56,64,80,96,112,128,144,160]),t.SCALEFACTOR_BASE=new Uint32Array([33554432,26632170,21137968]),t.SYNTHESIS_WINDOW=new Float32Array([0,-.5,-.5,-.5,-.5,-.5,-.5,-1,-1,-1,-1,-1.5,-1.5,-2,-2,-2.5,-2.5,-3,-3.5,-3.5,-4,-4.5,-5,-5.5,-6.5,-7,-8,-8.5,-9.5,-10.5,-12,-13,-14.5,-15.5,-17.5,-19,-20.5,-22.5,-24.5,-26.5,-29,-31.5,-34,-36.5,-39.5,-42.5,-45.5,-48.5,-52,-55.5,-58.5,-62.5,-66,-69.5,-73.5,-77,-80.5,-84.5,-88,-91.5,-95,-98,-101,-104,106.5,109,111,112.5,113.5,114,114,113.5,112,110.5,107.5,104,100,94.5,88.5,81.5,73,63.5,53,41.5,28.5,14.5,-1,-18,-36,-55.5,-76.5,-98.5,-122,-147,-173.5,-200.5,-229.5,-259.5,-290.5,-322.5,-355.5,-389.5,-424,-459.5,-495.5,-532,-568.5,-605,-641.5,-678,-714,-749,-783.5,-817,-849,-879.5,-908.5,-935,-959.5,-981,-1000.5,-1016,-1028.5,-1037.5,-1042.5,-1043.5,-1040,-1031.5,1018.5,1e3,976,946.5,911,869.5,822,767.5,707,640,565.5,485,397,302.5,201,92.5,-22.5,-144,-272.5,-407,-547.5,-694,-846,-1003,-1165,-1331.5,-1502,-1675.5,-1852.5,-2031.5,-2212.5,-2394,-2576.5,-2758.5,-2939.5,-3118.5,-3294.5,-3467.5,-3635.5,-3798.5,-3955,-4104.5,-4245.5,-4377.5,-4499,-4609.5,-4708,-4792.5,-4863.5,-4919,-4958,-4979.5,-4983,-4967.5,-4931.5,-4875,-4796,-4694.5,-4569.5,-4420,-4246,-4046,-3820,-3567,3287,2979.5,2644,2280.5,1888,1467.5,1018.5,541,35,-499,-1061,-1650,-2266.5,-2909,-3577,-4270,-4987.5,-5727.5,-6490,-7274,-8077.5,-8899.5,-9739,-10594.5,-11464.5,-12347,-13241,-14144.5,-15056,-15973.5,-16895.5,-17820,-18744.5,-19668,-20588,-21503,-22410.5,-23308.5,-24195,-25068.5,-25926.5,-26767,-27589,-28389,-29166.5,-29919,-30644.5,-31342,-32009.5,-32645,-33247,-33814.5,-34346,-34839.5,-35295,-35710,-36084.5,-36417.5,-36707.5,-36954,-37156.5,-37315,-37428,-37496,37519,37496,37428,37315,37156.5,36954,36707.5,36417.5,36084.5,35710,35295,34839.5,34346,33814.5,33247,32645,32009.5,31342,30644.5,29919,29166.5,28389,27589,26767,25926.5,25068.5,24195,23308.5,22410.5,21503,20588,19668,18744.5,17820,16895.5,15973.5,15056,14144.5,13241,12347,11464.5,10594.5,9739,8899.5,8077.5,7274,6490,5727.5,4987.5,4270,3577,2909,2266.5,1650,1061,499,-35,-541,-1018.5,-1467.5,-1888,-2280.5,-2644,-2979.5,3287,3567,3820,4046,4246,4420,4569.5,4694.5,4796,4875,4931.5,4967.5,4983,4979.5,4958,4919,4863.5,4792.5,4708,4609.5,4499,4377.5,4245.5,4104.5,3955,3798.5,3635.5,3467.5,3294.5,3118.5,2939.5,2758.5,2576.5,2394,2212.5,2031.5,1852.5,1675.5,1502,1331.5,1165,1003,846,694,547.5,407,272.5,144,22.5,-92.5,-201,-302.5,-397,-485,-565.5,-640,-707,-767.5,-822,-869.5,-911,-946.5,-976,-1e3,1018.5,1031.5,1040,1043.5,1042.5,1037.5,1028.5,1016,1000.5,981,959.5,935,908.5,879.5,849,817,783.5,749,714,678,641.5,605,568.5,532,495.5,459.5,424,389.5,355.5,322.5,290.5,259.5,229.5,200.5,173.5,147,122,98.5,76.5,55.5,36,18,1,-14.5,-28.5,-41.5,-53,-63.5,-73,-81.5,-88.5,-94.5,-100,-104,-107.5,-110.5,-112,-113.5,-114,-114,-113.5,-112.5,-111,-109,106.5,104,101,98,95,91.5,88,84.5,80.5,77,73.5,69.5,66,62.5,58.5,55.5,52,48.5,45.5,42.5,39.5,36.5,34,31.5,29,26.5,24.5,22.5,20.5,19,17.5,15.5,14.5,13,12,10.5,9.5,8.5,8,7,6.5,5.5,5,4.5,4,3.5,3.5,3,2.5,2.5,2,2,1.5,1.5,1,1,1,1,.5,.5,.5,.5,.5,.5]),t.QUANT_LUT_STEP_1=[[0,0,1,1,1,2,2,2,2,2,2,2,2,2],[0,0,0,0,0,0,1,1,1,2,2,2,2,2]],t.QUANT_TAB={A:91,B:94,C:8,D:12},t.QUANT_LUT_STEP_2=[[t.QUANT_TAB.C,t.QUANT_TAB.C,t.QUANT_TAB.D],[t.QUANT_TAB.A,t.QUANT_TAB.A,t.QUANT_TAB.A],[t.QUANT_TAB.B,t.QUANT_TAB.A,t.QUANT_TAB.B]],t.QUANT_LUT_STEP_3=[[68,68,52,52,52,52,52,52,52,52,52,52],[67,67,67,66,66,66,66,66,66,66,66,49,49,49,49,49,49,49,49,49,49,49,49,32,32,32,32,32,32,32],[69,69,69,69,52,52,52,52,52,52,52,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36]],t.QUANT_LUT_STEP4=[[0,1,2,17],[0,1,2,3,4,5,6,17],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,17],[0,1,3,5,6,7,8,9,10,11,12,13,14,15,16,17],[0,1,2,4,5,6,7,8,9,10,11,12,13,14,15,17],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]],t.QUANT_TAB=[{levels:3,group:1,bits:5},{levels:5,group:1,bits:7},{levels:7,group:0,bits:3},{levels:9,group:1,bits:10},{levels:15,group:0,bits:4},{levels:31,group:0,bits:5},{levels:63,group:0,bits:6},{levels:127,group:0,bits:7},{levels:255,group:0,bits:8},{levels:511,group:0,bits:9},{levels:1023,group:0,bits:10},{levels:2047,group:0,bits:11},{levels:4095,group:0,bits:12},{levels:8191,group:0,bits:13},{levels:16383,group:0,bits:14},{levels:32767,group:0,bits:15},{levels:65535,group:0,bits:16}],t}(),e.Renderer.WebGL=function(){"use strict";var t=function(e){this.canvas=e.canvas||document.createElement("canvas"),this.width=this.canvas.width,this.height=this.canvas.height,this.enabled=!0;var i={preserveDrawingBuffer:!!e.preserveDrawingBuffer,alpha:!1,depth:!1,stencil:!1,antialias:!1};if(this.gl=this.canvas.getContext("webgl",i)||this.canvas.getContext("experimental-webgl",i),!this.gl)throw new Error("Failed to get WebGL Context");var n=this.gl,r=null;this.vertexBuffer=n.createBuffer();var o=new Float32Array([0,0,0,1,1,0,1,1]);n.bindBuffer(n.ARRAY_BUFFER,this.vertexBuffer),n.bufferData(n.ARRAY_BUFFER,o,n.STATIC_DRAW),this.program=this.createProgram(t.SHADER.VERTEX_IDENTITY,t.SHADER.FRAGMENT_YCRCB_TO_RGBA),r=n.getAttribLocation(this.program,"vertex"),n.enableVertexAttribArray(r),n.vertexAttribPointer(r,2,n.FLOAT,!1,0,0),this.textureY=this.createTexture(0,"textureY"),this.textureCb=this.createTexture(1,"textureCb"),this.textureCr=this.createTexture(2,"textureCr"),this.loadingProgram=this.createProgram(t.SHADER.VERTEX_IDENTITY,t.SHADER.FRAGMENT_LOADING),r=n.getAttribLocation(this.loadingProgram,"vertex"),n.enableVertexAttribArray(r),n.vertexAttribPointer(r,2,n.FLOAT,!1,0,0),this.shouldCreateUnclampedViews=!this.allowsClampedTextureData()};return t.prototype.destroy=function(){var t=this.gl;t.deleteTexture(this.textureY),t.deleteTexture(this.textureCb),t.deleteTexture(this.textureCr),t.deleteProgram(this.program),t.deleteProgram(this.loadingProgram),t.deleteBuffer(this.vertexBuffer)},t.prototype.resize=function(t,e){this.width=0|t,this.height=0|e,this.canvas.width=this.width,this.canvas.height=this.height,this.gl.useProgram(this.program),this.gl.viewport(0,0,this.width,this.height)},t.prototype.createTexture=function(t,e){var i=this.gl,n=i.createTexture();return i.bindTexture(i.TEXTURE_2D,n),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.uniform1i(i.getUniformLocation(this.program,e),t),n},t.prototype.createProgram=function(t,e){var i=this.gl,n=i.createProgram();return i.attachShader(n,this.compileShader(i.VERTEX_SHADER,t)),i.attachShader(n,this.compileShader(i.FRAGMENT_SHADER,e)),i.linkProgram(n),i.useProgram(n),n},t.prototype.compileShader=function(t,e){var i=this.gl,n=i.createShader(t);if(i.shaderSource(n,e),i.compileShader(n),!i.getShaderParameter(n,i.COMPILE_STATUS))throw new Error(i.getShaderInfoLog(n));return n},t.prototype.allowsClampedTextureData=function(){var t=this.gl,e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texImage2D(t.TEXTURE_2D,0,t.LUMINANCE,1,1,0,t.LUMINANCE,t.UNSIGNED_BYTE,new Uint8ClampedArray([0])),0===t.getError()},t.prototype.renderProgress=function(t){var e=this.gl;e.useProgram(this.loadingProgram);var i=e.getUniformLocation(this.loadingProgram,"progress");e.uniform1f(i,t),e.drawArrays(e.TRIANGLE_STRIP,0,4)},t.prototype.render=function(t,e,i){if(this.enabled){var n=this.gl,r=this.width+15>>4<<4,o=this.height,a=r>>1,s=o>>1;this.shouldCreateUnclampedViews&&(t=new Uint8Array(t.buffer),e=new Uint8Array(e.buffer),i=new Uint8Array(i.buffer)),n.useProgram(this.program),this.updateTexture(n.TEXTURE0,this.textureY,r,o,t),this.updateTexture(n.TEXTURE1,this.textureCb,a,s,e),this.updateTexture(n.TEXTURE2,this.textureCr,a,s,i),n.drawArrays(n.TRIANGLE_STRIP,0,4)}},t.prototype.updateTexture=function(t,e,i,n,r){var o=this.gl;o.activeTexture(t),o.bindTexture(o.TEXTURE_2D,e),o.texImage2D(o.TEXTURE_2D,0,o.LUMINANCE,i,n,0,o.LUMINANCE,o.UNSIGNED_BYTE,r)},t.IsSupported=function(){try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas");return!(!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(t){return!1}},t.SHADER={FRAGMENT_YCRCB_TO_RGBA:["precision mediump float;","uniform sampler2D textureY;","uniform sampler2D textureCb;","uniform sampler2D textureCr;","varying vec2 texCoord;","mat4 rec601 = mat4(","1.16438,  0.00000,  1.59603, -0.87079,","1.16438, -0.39176, -0.81297,  0.52959,","1.16438,  2.01723,  0.00000, -1.08139,","0, 0, 0, 1",");","void main() {","float y = texture2D(textureY, texCoord).r;","float cb = texture2D(textureCb, texCoord).r;","float cr = texture2D(textureCr, texCoord).r;","gl_FragColor = vec4(y, cr, cb, 1.0) * rec601;","}"].join("\n"),FRAGMENT_LOADING:["precision mediump float;","uniform float progress;","varying vec2 texCoord;","void main() {","float c = ceil(progress-(1.0-texCoord.y));","gl_FragColor = vec4(c,c,c,1);","}"].join("\n"),VERTEX_IDENTITY:["attribute vec2 vertex;","varying vec2 texCoord;","void main() {","texCoord = vertex;","gl_Position = vec4((vertex * 2.0 - 1.0) * vec2(1, -1), 0.0, 1.0);","}"].join("\n")},t}(),e.Renderer.Canvas2D=function(){"use strict";var t=function(t){this.canvas=t.canvas||document.createElement("canvas"),this.width=this.canvas.width,this.height=this.canvas.height,this.enabled=!0,this.context=this.canvas.getContext("2d")};return t.prototype.destroy=function(){},t.prototype.resize=function(t,i){this.width=0|t,this.height=0|i,this.canvas.width=this.width,this.canvas.height=this.height,this.imageData=this.context.getImageData(0,0,this.width,this.height),e.Fill(this.imageData.data,255)},t.prototype.renderProgress=function(t){var e=this.canvas.width,i=this.canvas.height,n=this.context;n.fillStyle="#222",n.fillRect(0,0,e,i),n.fillStyle="#fff",n.fillRect(0,i-i*t,e,i*t)},t.prototype.render=function(t,e,i){this.YCbCrToRGBA(t,e,i,this.imageData.data),this.context.putImageData(this.imageData,0,0)},t.prototype.YCbCrToRGBA=function(t,e,i,n){if(this.enabled)for(var r,o,a,s,c,l=this.width+15>>4<<4,d=l>>1,p=0,u=l,h=l+(l-this.width),f=0,m=d-(this.width>>1),g=0,b=4*this.width,y=4*this.width,v=this.width>>1,w=this.height>>1,x=0;x<w;x++){for(var A=0;A<v;A++){r=e[f],o=i[f],f++,a=r+(103*r>>8)-179,s=(88*o>>8)-44+(183*r>>8)-91,c=o+(198*o>>8)-227;var k=t[p++],E=t[p++];n[g]=k+a,n[g+1]=k-s,n[g+2]=k+c,n[g+4]=E+a,n[g+5]=E-s,n[g+6]=E+c,g+=8;var S=t[u++],I=t[u++];n[b]=S+a,n[b+1]=S-s,n[b+2]=S+c,n[b+4]=I+a,n[b+5]=I-s,n[b+6]=I+c,b+=8}p+=h,u+=h,g+=y,b+=y,f+=m}},t}(),e.AudioOutput.WebAudio=function(){"use strict";var t=function(e){this.context=t.CachedContext=t.CachedContext||new(window.AudioContext||window.webkitAudioContext),this.gain=this.context.createGain(),this.destination=this.gain,this.gain.connect(this.context.destination),this.context._connections=(this.context._connections||0)+1,this.startTime=0,this.buffer=null,this.wallclockStartTime=0,this.volume=1,this.enabled=!0,this.unlocked=!t.NeedsUnlocking(),Object.defineProperty(this,"enqueuedTime",{get:this.getEnqueuedTime})};return t.prototype.destroy=function(){this.gain.disconnect(),0==--this.context._connections&&(this.context.close(),t.CachedContext=null)},t.prototype.play=function(t,i,n){if(this.enabled){if(!this.unlocked){var r=e.Now();return this.wallclockStartTime<r&&(this.wallclockStartTime=r),void(this.wallclockStartTime+=i.length/t)}this.gain.gain.value=this.volume;var o=this.context.createBuffer(2,i.length,t);o.getChannelData(0).set(i),o.getChannelData(1).set(n);var a=this.context.createBufferSource();a.buffer=o,a.connect(this.destination);var s=this.context.currentTime,c=o.duration;this.startTime<s&&(this.startTime=s,this.wallclockStartTime=e.Now()),a.start(this.startTime),this.startTime+=c,this.wallclockStartTime+=c}},t.prototype.stop=function(){this.gain.gain.value=0},t.prototype.getEnqueuedTime=function(){return Math.max(this.wallclockStartTime-e.Now(),0)},t.prototype.resetEnqueuedTime=function(){this.startTime=this.context.currentTime,this.wallclockStartTime=e.Now()},t.prototype.unlock=function(t){if(this.unlocked)t&&t();else{this.unlockCallback=t;var e=this.context.createBuffer(1,1,22050),i=this.context.createBufferSource();i.buffer=e,i.connect(this.destination),i.start(0),setTimeout(this.checkIfUnlocked.bind(this,i,0),0)}},t.prototype.checkIfUnlocked=function(t,e){t.playbackState===t.PLAYING_STATE||t.playbackState===t.FINISHED_STATE?(this.unlocked=!0,this.unlockCallback&&(this.unlockCallback(),this.unlockCallback=null)):e<10&&setTimeout(this.checkIfUnlocked.bind(this,t,e+1),100)},t.NeedsUnlocking=function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},t.IsSupported=function(){return window.AudioContext||window.webkitAudioContext},t.CachedContext=null,t}(),e}),define("mip-story/video-detector",["require"],function(t){"use strict";function e(){return r.indexOf("iphone")>-1}function i(){var t=0;return o.forEach(function(e){r.indexOf(e)>-1&&(t=1)}),t}function n(){return e()&&i()}var r=navigator.userAgent.toLowerCase(),o=["baiduboxapp"];return{isRenderVideoElement:n}}),define("mip-story/mip-story-video",["require","customElement","./jsmpeg/jsmpeg","util","./video-detector"],function(t){"use strict";function e(t){var e={};return Array.prototype.slice.apply(t).forEach(function(t){e[t.name]=t.value}),e}var i=t("customElement").create(),n=t("./jsmpeg/jsmpeg"),r=t("util"),o=t("./video-detector"),a=r.css,s=r.dom;return i.prototype.initStoryVideoElement=function(){var t=[];this.attributes=e(this.element.attributes),this.sourceDoms=this.element.querySelectorAll("source"),Array.prototype.slice.apply(this.sourceDoms).forEach(function(e){t[e.type]=e.src}),this.sourceList=t,o.isRenderVideoElement()?(this.isVideo=!0,this.renderVideoElement()):(this.isVideo=!1,this.renderJSMpeg())},i.prototype.renderVideoElement=function(){var t=this.attributes.poster,e=this.attributes.height,i=this.attributes.width,n=this.element.innerHTML,r="",o=this.attributes.loop,a='<mip-video layout="responsive" '+(r=""===o||o&&"false"!==o?"loop":"")+' class="mip-fill-content mip-replaced-content" autoplay height="'+e+'" width="'+i+'" poster="'+t+'">'+n+"</mip-video>",c=s.create(a);this.element.parentNode.insertBefore(c,this.element),this.player=c.querySelector("video")},i.prototype.renderJSMpeg=function(){var t=this,e=document.createElement("div"),i=document.createElement("canvas");i.className="mip-fill-content mip-replaced-content",a(i,{opacity:"0"});var r=this.sourceList["video/ts"];if(r){this.attributes.poster&&(e.style.backgroundImage="url("+this.attributes.poster+")",e.style.backgroundSize="100% 100%",e.className="mip-fill-content mip-replaced-content",this.element.appendChild(e)),this.attributes.canvas=i,this.element.appendChild(i),this.option=this.attributes;var o=this.option.loop;this.option.loop=!!(""===o||o&&"false"!==o),this.player=new n.Player(r,this.option),this.player.on("playing",function(){var e=new Event("playing");a(i,{opacity:"1"}),t.element.dispatchEvent(e)}),this.player.on("play",function(){var e=new Event("play");t.element.dispatchEvent(e)}),this.player.on("end",function(){var e=new Event("end");t.element.dispatchEvent(e)}),this.stop()}else console.error("ts file is require")},i.prototype.play=function(){if(!this.isVideo){var t=this;setTimeout(function(){t.player.play(),t.unlockAudio()},0)}},i.prototype.unlockAudio=function(){this.player.audioOut.unlock()},i.prototype.stop=function(){this.isVideo||this.player.stop()},i.prototype.pause=function(){this.isVideo||this.this.player.pause()},i.prototype.attributeChangedCallback=function(){this.element.hasAttribute("preload")&&!this.loaded&&(this.initStoryVideoElement(),this.loaded=!0)},i.prototype.firstInviewCallback=function(){this.loaded=!1},MIP.registerMipElement("mip-story-video",i),i}),define("mip-story/mip-story-img",["require","customElement","util"],function(t){"use strict";function e(t){var e={};return Array.prototype.slice.apply(t).forEach(function(t){e[t.name]=t.value}),e}function i(t){var e="";for(var i in t)e+=i+"="+t[i]+" ";return e}var n=t("customElement").create(),r,o=t("util").dom;return n.prototype.initStoryImg=function(){this.attributes=e(this.element.attributes);var t,n="<mip-img "+i(this.attributes)+"></mip-img>",r=o.create(n);this.element.parentNode.insertBefore(r,this.element)},n.prototype.attributeChangedCallback=function(){this.element.hasAttribute("preload")&&!this.loaded&&(this.initStoryImg(),this.loaded=!0)},n.prototype.firstInviewCallback=function(){this.loaded=!1},MIP.registerMipElement("mip-story-img",n),n}),define("mip-story/animation-util",["require"],function(t){function e(t){var e,i,n;return t?(e=(t=/^[0-9]*$/.test(+t)?t+"ms":t).toLowerCase().match(/^([0-9\.]+)\s*(s|ms)$/))?(i=e[1],n=e[2],!e||3!==e.length||"s"!==n&&"ms"!==n?void 0:"s"===n?1e3*parseFloat(i):parseInt(i,10)):0:0}return{timeStrFormat:e}}),define("mip-story/animate-preset",["require"],function(t){"use strict";return{"fade-in":{duration:500,easing:"ease-in",delay:0,keyframes:[{opacity:0},{opacity:1}]},"fly-in-top":{duration:500,easing:"ease-in",delay:0,keyframes:function(t){return[{transform:"translate3d(0, "+-(t.top+t.height)+"px, 0)"},{transform:"translate3d(0, 0, 0)"}]}},"fly-in-bottom":{duration:500,easing:"ease-in",delay:0,keyframes:function(t){return[{transform:"translate3d(0, "+(t.pageHeight-t.top)+"px, 0)"},{transform:"translate3d(0, 0, 0)"}]}},"fly-in-left":{duration:500,delay:0,easing:"ease-in",keyframes:function(t){return[{transform:"translate3d("+-(t.realLeft+t.width)+"px, 0, 0)"},{transform:"translate3d(0, 0, 0)"}]}},"fly-in-right":{duration:500,delay:0,easing:"ease-in",keyframes:function(t){return[{transform:"translate3d("+(t.pageWidth-t.realLeft)+"px, 0, 0)"},{transform:"translate3d(0, 0, 0)"}]}},"fade-in-top":{duration:500,easing:"ease-in",delay:0,keyframes:function(t){return[{opacity:0,transform:"translate3d(0, -50px, 0)"},{opacity:1,transform:"translate3d(0, 0, 0)"}]}},"fade-in-bottom":{duration:500,easing:"ease-in",delay:0,keyframes:function(t){return[{opacity:0,transform:"translate3d(0, 50px, 0)"},{opacity:1,transform:"translate3d(0, 0, 0)"}]}},"fade-in-left":{duration:500,delay:0,easing:"ease-in",keyframes:function(t){return[{opacity:0,transform:"translate3d(-50px, 0, 0)"},{opacity:1,transform:"translate3d(0, 0, 0)"}]}},"fade-in-right":{duration:500,delay:0,easing:"ease-in",keyframes:function(t){return[{opacity:0,transform:"translate3d(50px, 0, 0)"},{opacity:1,transform:"translate3d(0, 0, 0)"}]}},"scale-in":{duration:1e3,delay:0,easing:"linear",keyframes:function(t){return[{transform:"scale(1)"},{transform:"scale(1.1)"}]}},"twirl-in":{duration:1e3,delay:0,easing:"cubic-bezier(.2, .75, .4, 1)",keyframes:[{transform:"rotate(-540deg) scale(0.1)",opacity:0},{transform:"none",opacity:1}]},"whoosh-in-left":{duration:500,delay:0,easing:"ease-in",keyframes:function(t){return[{opacity:0,transform:"translate3d("+-(t.realLeft+t.width)+"px, 0, 0) scale(.15)"},{opacity:1,transform:"translate3d(0, 0, 0) scale(1)"}]}},"whoosh-in-right":{duration:500,delay:0,easing:"ease-in",keyframes:function(t){return[{opacity:0,transform:"translate3d("+(t.realLeft+t.width)+"px, 0, 0) scale(.15)"},{opacity:1,transform:"translate3d(0, 0, 0) scale(1)"}]}},"rotate-in-left":{duration:700,easing:"ease-in",delay:0,keyframes:function(t){return[{transform:"translate3d("+-(t.realLeft+t.width)+"px, 0, 0) rotate(-360deg)"},{transform:"translate3d(0, 0, 0) rotate(0)"}]}},"rotate-in-right":{duration:700,easing:"ease-in",delay:0,keyframes:function(t){return[{transform:"translate3d("+(t.realLeft+t.width)+"px, 0, 0) rotate(360deg)"},{transform:"translate3d(0, 0, 0) rotate(0)"}]}}}}),define("mip-story/animation-runner",["require","util"],function(t){"use strict";function e(t,e){this.animationType=e.animationType,this.animationName=e.animationName,this.duration=e.duration,this.delay=e.delay,this.el=t,this.animationDef=e,this.isRunner=1,this.create(),this.isStart=0}var i=t("util").css;return e.prototype.create=function(){if("CSS_ANIMATION"===this.animationType){var t=this;this.el.classList.add("mip-story-hidden"),t.delay&&i(t.el,{"animation-delay":t.delay+"ms"}),t.duration&&i(t.el,{"animation-duration":t.duration+"ms"}),this.runner={el:t.el}}else{var e=this.animationDef;e.easing.fill="forwards",this.runner=this.el.animate(e.keyframes,e.easing),this.pause()}},e.prototype.play=function(){var t=this;"CSS_ANIMATION"===this.animationType?(this.el.classList.add("animated",t.animationName),this.el.classList.remove("mip-story-hidden")):t.isStart||(t.animationDef.delay?t.timer=setTimeout(function(){i(t.el,{visibility:""}),t.runner.play()},t.animationDef.delay):(i(t.el,{visibility:""}),t.runner.play()),t.isStart=1)},e.prototype.pause=function(){"CSS_ANIMATION"===this.animationType||this.runner.pause()},e.prototype.cancel=function(){var t;"CSS_ANIMATION"===this.animationType?(this.el.classList.remove("animated"),this.el.classList.add("mip-story-hidden")):(clearTimeout(this.timer),this.isStart=0,this.runner.cancel())},e}),define("mip-story/animation",["require","./animate-preset","./animation-runner","util","./animation-util"],function(t){"use strict";function e(t){this.page=t;var e=window.getComputedStyle(t),i=i||WebKitCSSMatrix,n=new i(e.webkitTransform);this.offsetX=n.m41,this.sequence=[],this.init()}function i(t){return!!t.querySelectorAll(g).length}function n(t){var e,i,n;return t?(e=(t=/^[0-9]*$/.test(+t)?t+"ms":t).toLowerCase().match(/^([0-9\.]+)\s*(s|ms)$/))?(i=e[1],n=e[2],!e||3!==e.length||"s"!==n&&"ms"!==n?void 0:"s"==n?1e3*parseFloat(i):parseInt(i,10)):0:0}function r(t,e){var i,r,a=t.getBoundingClientRect(),s=o(t),c=n(t.getAttribute(h)),l=n(t.getAttribute(f)),d=t.getAttribute(m);return s.delay=l||0,d&&(s.startAfterId=d),s.animationName?(s.duration=c,s.animationType="CSS_ANIMATION",s):(a.pageHeight=window.innerHeight,a.pageWidth=window.innerWidth,a.realLeft=a.left-e,s&&s.keyframes&&(i="function"==typeof s.keyframes?s.keyframes(a):s.keyframes),r={duration:+c||s.duration,easing:s.easing||"ease"},s.easing=r,s.keyframes=i,s.animationType="JS_ANIMATION",s.animationName="preSet",s)}function o(t){var e={},i=String(t.getAttribute(u)).split(/\s+/)[0];return s[i]?(d(e,s[i]),e):{animationName:i}}function a(t,e){var i=r(t,e);return new c(t,i)}var s=t("./animate-preset"),c=t("./animation-runner"),l=t("util"),d=l.fn.extend,p=l.css,u="animate-in",h="animate-in-duration",f="animate-in-delay",m="animate-in-after",g="[animate-in]",n=t("./animation-util").timeStrFormat;return e.prototype.init=function(){var t=this,e=l.EventEmitter,i,n=this.page.querySelectorAll(g);this.emitter=new e,[].slice.call(n).forEach(function(e){var i,n={runner:a(e,t.offsetX)};e.id&&(n.id=e.id),t.sequence.push(n)})},e.prototype.runAllAnimate=function(){var t,e=this;this.sequence.forEach(function(i){(t=i.runner.animationDef.startAfterId)&&e.getRunnerById(t)?e.waitAndStart(e.getRunnerById(t),i):i.runner.play()})},e.prototype.paintFirstFrame=function(){this.sequence.forEach(function(t){try{p(t.runner.el,t.runner.animationDef.keyframes[0])}catch(t){}})},e.prototype.getRunnerById=function(t){var e=null;return t&&this.sequence.forEach(function(i){i.id===t&&i.runner&&i.runner.isRunner&&(e=i.runner)}),e},e.prototype.cancelAllAnimate=function(){this.sequence.forEach(function(t){t.runner.cancel()})},e.prototype.waitAndStart=function(t,e){var i=this;t.runner&&e.runner&&(i.emitter.on(t.el.id,function(){e.runner.play()}),t.runner.onfinish=function(){i.emitter.trigger(t.el.id)})},{AnimationManager:e,hasAnimations:i}}),define("mip-story/mip-story-util",["require"],function(t){function e(t){return i.test(t)}var i=/^#([a-fA-F\d]{3}|[a-fA-F\d]{6})$/;return{isCssColor:e}}),define("mip-story/mip-story-config",["require","viewport"],function(t){var e=t("viewport");return{MIP_I_STORY_STANDALONE:"mip-i-story-standalone",PAGE_ROLE:{contentPage:"contentPage",sharePage:"sharePage"},PROGRESS_STATE:{active:"mip-story-page-progress-bar-active",visited:"mip-story-page-progress-bar-visited"},BACKGROUND_AUDIO:"background-audio",SWITCHPAGE_THRESHOLD:{horizontal:.15*e.getWidth(),vertical:.1*e.getHeight()},DIRECTIONMAP:{back:"back",goto:"goto"},PAGE_STATE:{current:"current",active:"active"},MSITEAPI:"https://msite.baidu.com/home/bar?office_id=",PRELOAD_PAGES:2,STORY_PREFIX:"MIP_STORY_"}}),define("mip-story/mip-story-view",["require","customElement","./audio","./mip-story-video","./mip-story-img","./animation-util","./animation","util","./mip-story-util","./mip-story-config"],function(t){"use strict";function e(t){var e=null;try{e=document.defaultView.getComputedStyle(t).animationName||document.defaultView.getComputedStyle(t)["-webkit-animationName"]}catch(t){}return!(!e||"none"==e)}function i(t,e){if(e)c(t,{display:t.getAttribute("originDisplay")});else{var i=document.defaultView.getComputedStyle(t).display;t.setAttribute("originDisplay",i),c(t,{display:"none"})}}var n=t("customElement").create(),r=t("./audio");t("./mip-story-video"),t("./mip-story-img");var o=t("./animation-util").timeStrFormat,a=t("./animation").AnimationManager,s=t("./animation").hasAnimations,c=t("util").css,l=t("./mip-story-util").isCssColor,d=t("./mip-story-config");return n.prototype.resumeAllMedia=function(t){var e=this;e.whenAllMediaElements(function(t){e.muted?t.load()&&t.pause():t.load()})},n.prototype.pauseAllMedia=function(){this.whenAllMediaElements(function(t){t.load(),t.pause()})},n.prototype.muteAllMedia=function(){this.whenAllMediaElements(function(t){t.muted=!0,t.pause()})},n.prototype.toggleAllMedia=function(t,e){this.muted=e;var i=t.target||null;i&&i.hasAttribute&&i.hasAttribute("muted")?(!this.muted&&this.resumeAllMedia(),!this.muted&&this.unMuteAllMedia()):this.muteAllMedia()},n.prototype.unMuteAllMedia=function(){this.whenAllMediaElements(function(t){t.muted=!1,t.play()})},n.prototype.getAllMedia=function(){return this.element.querySelectorAll("audio, video")},n.prototype.whenAllMediaElements=function(t){var e=this.getAllMedia();Array.prototype.map.call(e,function(e){return t(e)})},n.prototype.setPreActive=function(t){this.parentEmiter=t,this.animationElements=[],this.initAnimationFirstFrame(),this.findAnimationNodes(this.element),this.initFirstFrameStyle(!1)},n.prototype.findAnimationNodes=function(t){if(null!=t){for(var i=t.children,n=0;n<i.length;n++)e(i[n])&&this.animationElements.push(i[n]),i[n].children.length>0&&this.findAnimationNodes(i[n]);console.log(i)}},n.prototype.initFirstFrameStyle=function(t){if(null!=this.animationElements)for(var e=0;e<this.animationElements.length;e++)i(this.animationElements[e],t)},n.prototype.setAllMedia=function(t,e,i,n,r){this.muted=e,this.parentEmiter=n,t?(this.initAnimationFirstFrame(),this.maybeStartAnimation(),this.resumeAllMedia(i),this.muted?this.muteAllMedia():this.unMuteAllMedia(),this.startStoryViedo(),this.maybeSetAutoAdvance()):(this.maybeClearAutoAdvance(),this.pauseAllMedia(),this.maybeClearAnimation(),this.stopStoryViedo())},n.prototype.startStoryViedo=function(){this.hasStoryVideo&&Array.prototype.slice.apply(this.canvasVideo).forEach(function(t){t.customElement.play()})},n.prototype.stopStoryViedo=function(){this.hasStoryVideo&&Array.prototype.slice.apply(this.canvasVideo).forEach(function(t){t.customElement.stop()})},n.prototype.setCssMedia=function(t,e,i){this.muted=e,this.parentEmiter=i,t?this.initFirstFrameStyle(!0):this.initFirstFrameStyle(!1)},n.prototype.clearCssMedia=function(t,e,n){if(null!=this.animationElements)for(var r=0;r<this.animationElements.length;r++)i(this.animationElements[r],!0),this.animationElements[r].removeAttribute("originDisplay")},n.prototype.initAnimationFirstFrame=function(){s(this.element)&&(c(this.element,{visibility:"hidden"}),this.animationManager||(this.animationManager=new a(this.element)),this.animationManager.paintFirstFrame(),c(this.element,{visibility:""}))},n.prototype.maybeStartAnimation=function(){s(this.element)&&(c(this.element,{visibility:"hidden"}),this.animationManager||(this.animationManager=new a(this.element)),this.animationManager.paintFirstFrame(),c(this.element,{visibility:""}),this.animationManager.runAllAnimate())},n.prototype.maybeClearAnimation=function(){this.animationManager&&this.animationManager.cancelAllAnimate()},n.prototype.maybeClearAutoAdvance=function(){var t=this;t.timer&&clearTimeout(t.timer)},n.prototype.maybeSetAutoAdvance=function(){var t=this,e,i=t.element.getAttribute("auto-advancement-after"),n=o(i);n&&(t.timer=setTimeout(function(){t.parentEmiter.trigger("switchPage",{status:1})},n))},n.prototype.setSubjectColor=function(){var t=this.element.getAttribute("background")||"",e=this.element.getElementsByTagName("mip-story-layer")||"";if(e&&e[0]&&t&&l(t)){var i=document.createElement("mip-story-layer");this.element.insertBefore(i,e[0]),c(this.element.firstElementChild,{backgroundColor:t})}},n.prototype.setPageRole=function(){this.element.setAttribute("page-role",d.PAGE_ROLE.contentPage)},n.prototype.initMedia=function(){this.audio=new r;var t=this.element.parentNode;if(this.animationElements=[],this.setSubjectColor(),!t.hasAttribute(d.BACKGROUND_AUDIO)){var e=this.element.getAttribute(d.BACKGROUND_AUDIO);this.audio.build(this.element,e)}},n.prototype.initStoryStatic=function(){for(var t=this.element.querySelectorAll("mip-story-img, mip-story-video"),e=0;e<t.length;e++)t[e].setAttribute("preload","")},n.prototype.attributeChangedCallback=function(){this.isPreload||this.element.hasAttribute("preload")&&(this.isPreload=!0,this.initStoryStatic(),this.initMedia(),this.pauseAllMedia())},n.prototype.firstInviewCallback=function(){this.canvasVideo=this.element.querySelectorAll("mip-story-video"),this.hasStoryVideo=!!this.canvasVideo.length,this.isPreload=!1,this.setPageRole()},MIP.registerMipElement("mip-story-view",n),n}),define("mip-story/mip-story-layer",["require","customElement"],function(t){"use strict";var e=t("customElement").create();return e.prototype.firstInviewCallback=function(){},MIP.registerMipElement("mip-story-layer",e),e}),define("mip-story/mip-story-share",["require","util","viewer"],function(t){"use strict";function e(t,e){this.shareConfig=t,this.root=e}var i=t("util"),n="mip-story-share-show",r=t("viewer");return e.prototype.build=function(){var t=encodeURIComponent(JSON.stringify({type:"click",data:["_trackEvent","","",window.location.href]}));return this.shareData={title:this.shareConfig.title,titleDefault:document.title,content:this.shareConfig.desc||this.shareConfig.content||document.title,contentDefault:"",iconUrl:this.shareConfig.thumbnail,iconUrlDefault:""},r.sendMessage("wxshare_config",this.shareData),this.shareUrl=i.parseCacheUrl(location.href),'<aside class="mip-story-share"><div class="mip-share-container"><mip-share url="'+this.shareUrl+'" title="'+this.shareData.title+'" content="'+this.shareData.content+'" iconUrl="'+this.shareData.iconUrl+'"></mip-share></div><span class="mip-story-share-cancel" data-stats-baidu-obj="'+t+'"></span></aside>'},e.prototype.showShareLayer=function(){var t=this.supportCraft();t.support?this.callSearchCraftShare(t.os):this.root.querySelector(".mip-story-share").classList.add(n)},e.prototype.callSearchCraftShare=function(t){var e={func:"callNativeShare",options:{type:"url",imgurl:this.shareData.iconUrl,title:this.shareData.title,describe:this.shareData.content,url:this.shareUrl||window.location.href}};t&&(e=JSON.stringify(e));try{window.Viaduct.postMessage(e)}catch(t){}},e.prototype.supportCraft=function(){var t="undefined"!=typeof navigator?navigator.userAgent:"",e=/SearchCraft/i.test(t),n=/Android/i.test(t),r=e&&t.match(/SearchCraft\/([\d.]*)/),o=i.parseCacheUrl(location.hostname),a=n&&parseFloat(r[1])>1.5&&-1!==o.indexOf("baidu.com"),s=!n&&parseFloat(r[1])>1.11;return{os:n,support:e&&(a||s)}},e.prototype.hideShareLayer=function(){this.root.querySelector(".mip-story-share").classList.remove(n)},e}),define("mip-story/mip-story-hint",["require","util"],function(t){"use strict";function e(t){this.rootEl=t}var i="mip-story-hint-damping-hide",n="mip-story-system-show",r=".mip-story-hint",o="mip-story-page-switch-lt",a="mip-story-page-switch-rt",s=t("util");return e.prototype.build=function(){return'<aside class="mip-story-hint mip-story-hint-damping-hide"><div class="mip-story-hint-shadow"></div><div class="mip-story-hint-system"><div class="mip-story-hint-left"></div><div class="mip-story-hint-middle"><span class="mip-story-hint-middle-top"></span><span class="mip-story-hint-middle-icon"><span class="mip-story-hint-touch-icon"></span><span></span><span></span></span><span class="mip-story-hint-middle-bottom"></span></div><div class="mip-story-hint-right"></div></div><div class="mip-story-hint-rotate"><mip-img src="https://www.mipengine.org/static/img/mip-story/mip-story-rotate.png"></mip-img><p></p></div><div class="mip-story-page-switch"><span class="mip-story-page-switch-left"><span></span><span></span></span><span class="mip-story-page-switch-right"><span></span><span></span></span></div></aside>'},e.prototype.showDamping=function(){var t=this,e=this.rootEl.querySelector(r);s.css(e,{display:"block"}),e.classList.remove(i),setTimeout(function(){t.hideDamping()},250)},e.prototype.hideDamping=function(){var t=this.rootEl.querySelector(r);s.css(t,{display:"none"}),t.classList.add(i)},e.prototype.showSystemLater=function(){var t=this.rootEl.querySelector(r);s.css(t,{display:"block"}),t.classList.add(n)},e.prototype.hideSystemLater=function(){var t=this.rootEl.querySelector(r);s.css(t,{display:"none"}),t.classList.remove(n)},e.prototype.toggleSystemLater=function(){"block"===this.rootEl.querySelector(r).style.display?this.hideSystemLater():this.showSystemLater()},e.prototype.showPageSwitchLayer=function(){var t=this.rootEl.querySelector(r);t.classList.add(a),setTimeout(function(){t.classList.remove(a)},400)},e.prototype.hidePageSwitchLayer=function(){var t=this.rootEl.querySelector(r);t.classList.add(o),setTimeout(function(){t.classList.remove(o)},400)},e}),define("mip-story/mip-story-bookend",["require","util","viewer","./mip-story-config"],function(t){"use strict";function e(t){this.storyConfig=t||{}}function i(t,e,i){var n=t.length;return n>=i?t:t.concat(e.slice(0,i-n))}var n=t("util"),r=t("viewer"),o,a=t("./mip-story-config").PAGE_ROLE.sharePage,s=n.platform,c=(n.naboo,[{cover:"https://mipstatic.baidu.com/static/mip-static/mip-story/static/img/rec1.jpg",url:"https://m.baidu.com/paw/c/m.news18a.com/special/mobile/special_1031.shtml?story=1&word=%E8%BF%88%E5%B7%B4%E8%B5%AB%E6%A6%82%E5%BF%B5%E8%BD%A6&title=%E8%BF%88%E5%B7%B4%E8%B5%AB%E6%A6%82%E5%BF%B5%E8%BD%A6&lid=8305767886715286272&referlid=8305767886715286272&ms=1&frsrcid=37224&frorder=2",title:"",from:"",fromUrl:""},{cover:"https://mipstatic.baidu.com/static/mip-static/mip-story/static/img/rec2.jpg",url:"http://story.soogif.com/story/access/41",title:"",from:"SOOGIF",fromUrl:""},{cover:"https://mipstatic.baidu.com/static/mip-static/mip-story/static/img/rec3.jpg",url:"https://mipstatic.baidu.com/static/mip-static/mip-story/story-heritage/heritage.html",title:"",from:"",fromUrl:""},{cover:"https://mipstatic.baidu.com/static/mip-static/mip-story/static/img/rec4.jpg",url:"https://zqmfcdn.huanhuba.com/app_static/baiduStory/index.html",title:"VSC",from:"",fromUrl:""}]);return e.prototype.build=function(){var t=this.storyConfig,e=encodeURIComponent(JSON.stringify({type:"click",data:["_trackEvent","","",window.location.href]})),n=encodeURIComponent(JSON.stringify({type:"click",data:["_trackEvent","","",window.location.href]})),r=encodeURIComponent(JSON.stringify({type:"click",data:["_trackEvent","_","",window.location.href]})),o=function(t){return encodeURIComponent(JSON.stringify({type:"click",data:["_trackEvent","","",t]}))},s=encodeURIComponent(JSON.stringify({type:"click",data:["_trackEvent","","",window.location.href]})),l=t.share,d=t.recommend,p=d&&d.items?d.items:[],u="";if((p=i(p,c,4))&&p.length){for(var h="",f=0;f<p.length;f++){var m=p[f];h+='<a ondragstart="return false;" ondrop="return false;" href="'+m.url+'" class="recommend-item" data-stats-baidu-obj="'+o(m.url)+'"><div class="mip-backend-preview"> <mip-story-img src='+(m.cover||" ")+'></mip-story-img></div><div class="recommend-detail"><p>'+(m.title||"")+'</p><span class="item-from" data-src="'+m.fromUrl+'">'+(m.from||"")+"</span></div></a>"}u='<div class="recommend-wrap"><p class="readmore"></p><div class="recommend-container">'+h+"</div></div>"}var g=this.showShareBtn()?'<span class="mip-backend-share" data-stats-baidu-obj="'+n+'"><span class="mip-backend-preview-share-btn"></span></span>':"",b=history.length>1?'<span class="mip-story-close mip-backend-close" data-stats-baidu-obj="'+r+'"></span>':"";return'<aside class="mip-backend" page-role="'+a+'"><mip-fixed type="top" class="mip-backend-control">'+b+g+'</mip-fixed><div class="mip-backend-outer "style=""><div class="mip-backend-background" style="background-image: url('+l.background+')"></div><div class="recommend-item recommend-now"><div class="mip-backend-preview"style="background-position:center;background-size:cover;background-image:url('+l.thumbnail+')" data-stats-baidu-obj="'+e+'"><div class="mip-backend-preview-mask"></div><div class="mip-backend-preview-thumbnail"><span class="mip-backend-preview-replay-btn"></span></div></div><div class="recommend-detail"><p class="mip-backend-description">'+l.title+'</p><span class="mip-backend-info" data-stats-baidu-obj="'+s+'"><a href="'+l.fromUrl+'">'+l.from+"</a></span></div></div>"+u+"</div></aside>"},e.prototype.showShareBtn=function(){var t=n.parseCacheUrl(location.hostname);return!(s.isBaiduApp()&&!r.isIframed&&-1===t.indexOf("baidu.com"))},e.prototype.show=function(){document.querySelector(".mip-backend").animate([{transform:"translate3D(0, 100%, 0)",opacity:0},{transform:"translate3D(0, 0, 0)",opacity:1}],{fill:"forwards",easing:"ease-in",duration:280}).play()},e.prototype.hide=function(){document.querySelector(".mip-backend").animate([{transform:"translate3D(0, 0, 0)",opacity:1},{transform:"translate3D(0, 100%, 0)",opacity:0}],{fill:"forwards",easing:"ease-out",duration:280}).play()},e}),define("mip-story/mip-progress",["require","util","./animation-util","fetch-jsonp","./mip-story-config"],function(t){"use strict";function e(t,e,i,n){this.root=t,this.elements=e,this.audioHide=i,this.storyConfig=n,this.win=window,this.items={},this.oldEle}var i="mip-story-page-progress-bar-visited",n=t("util").css,r=t("./animation-util").timeStrFormat,o=t("fetch-jsonp"),a=t("util"),s,c=t("./mip-story-config").MSITEAPI;return e.prototype.build=function(){var t=encodeURIComponent(JSON.stringify({type:"click",data:["_trackEvent","","",window.location.href]})),e='<aside class="mip-story-system-layer">';e+='<ol class="mip-story-progress-bar">';for(var i=0;i<this.elements.length;i++)e+='<li class="mip-story-page-progress-bar"><div class="mip-story-page-progress-value"></div></li>';e+='</ol><div class="control">',history.length>1&&(e+='<span class="mip-story-close" data-stats-baidu-obj="'+t+'"></span>');var n=encodeURIComponent(JSON.stringify({type:"click",data:["_trackEvent","","",window.location.href]}));return e+(this.showAudio()?'<span class="mip-stoy-audio" data-stats-baidu-obj="'+n+'"></span></div></aside>':"")},e.prototype.showAudio=function(){return!!this.root.querySelectorAll("audio, video").length&&!this.audioHide},e.prototype.updateProgress=function(t,e){this.progressBar=this.root.querySelectorAll(".mip-story-progress-bar .mip-story-page-progress-value"),this.ele=this.progressBar[t],this.setCurrentEleStatus(t,e),this.setOtherEleStatus(t,e),this.oldEle=this.ele},e.prototype.setCurrentEleStatus=function(t,e){var o=r(this.elements[t].getAttribute("auto-advancement-after"));this.ele.animatePlayer?(o||e)&&(n(this.ele,{transform:"scale3d(0, 1, 0)"}),this.ele.classList.remove(i),this.ele.animatePlayer.play()):this.setCurrentEleAnimatePlayer(o)},e.prototype.setOtherEleStatus=function(t,e){if(this.oldEle&&this.oldEle!==this.ele&&this.resetOldEleStatus(e,t),e)for(var i=t+1;i<this.progressBar.length;i++)this.cancelEleVistedStatus(this.progressBar[i])},e.prototype.resetOldEleStatus=function(t,e){t?(this.oldEle.classList.add(i),this.oldEle.animatePlayer&&this.oldEle.animatePlayer.finish()):this.cancelEleVistedStatus(this.oldEle)},e.prototype.cancelEleVistedStatus=function(t){t&&(n(t,{transform:"scale3d(0, 1, 0)"}),t.classList.remove(i),t.animatePlayer&&t.animatePlayer.cancel())},e.prototype.setCurrentEleAnimatePlayer=function(t){this.ele.animatePlayer=this.ele.animate([{transform:"scale3d(0, 1, 1)"},{transform:"scale3d(1, 1, 1)"}],{easing:"linear",duration:t||200,fill:"forwards"})},e.prototype.setXzhInfo=function(){if(!this.storyConfig.xzh_info.appid)return"";var t=a.getOriginalUrl(location.href).split("?")[0].split("#")[0],e=c+this.storyConfig.xzh_info.appid+"&url="+encodeURIComponent(t);return o(e,{jsonpCallback:"callback"}).then(function(t){return t.json()}).then(function(t){var e="";if(!t.data)return e;var i=t.data;if(i.avatar&&i.name&&i.homepage)var e='<div class="icon-wrap" data-href="'+i.homepage+'"><div class="icon"><img src="'+i.avatar+'" alt=""></div><div class="icon-name">'+i.name+'</div><div class="icon-type"></div></i></div>';return e},function(t){console.log(t)})},e}),define("mip-story/mip-story-storage",["require","./mip-story-config"],function(t){var e=t("./mip-story-config").STORY_PREFIX,i=window.sessionStorage;return{get:function(t){var n=e+t,r={};try{return r=i.getItem(n),JSON.parse(r)}catch(t){return r}},set:function(t,n){var r,o=e+t;try{r=JSON.stringify(n),i.setItem(o,r)}catch(t){r=n}},remove:function(t){var n=e+t;i.removeItem(n)}}}),define("mip-story/mip-story-state",["require","util","hash","./mip-story-storage","./mip-story-config"],function(t){function e(){var t=s.hashTree[d]&&s.hashTree[d].value,e=0;try{e=c.get(p)||parseInt(t)}catch(t){}return e}function i(t){c.set(p,t)}function n(t){var e=t-1,i=u>e?e:u;return currentIndex=i,preIndex=i>0?i-1:0,nextIndex=i<e?i+1:e,[preIndex,currentIndex,nextIndex]}function r(t){var e=[],i=n(t),r=i[0]-1>=0?i[0]-1:0,a=i[2]>=t-1?i[2]:i[2]+1;return e.push(r),(e=e.concat(i)).push(a),o(e)}function o(t){for(var e=[],i=0,n=t.length;i<n;i++){for(var r=0,o=e.length;r<o&&t[i]!==e[r];r++);r===o&&e.push(t[i])}return e}var a=t("util"),s=t("hash"),c=t("./mip-story-storage"),l=t("./mip-story-config"),d=l.STORY_PREFIX,p=(l.PRELOAD_PAGES,a.getOriginalUrl().split("?")[0].split("#")[0]),u=e()||0;return{currentPageIndex:u,setState:i,getPageStateIndex:n,getPreloadIndex:r}}),define("mip-story/mip-story-slider",["require","viewport","./mip-story-config","./mip-story-state","util"],function(t){"use strict";function e(t){if(!this.moveFlag){var e=j?t.targetTouches[0]||t.changedTouches[0]:t;this.touchstartX=e.pageX,this.touchstartY=e.pageY,d(t),f.addEventListener("mousemove",z),f.addEventListener("mouseup",q),f.addEventListener("mouseout",q)}}function i(t){P.contains(m,t.target)||self.moveFlag||this.slideMoving(t)}function n(t){if(f.removeEventListener("mousemove",z),f.removeEventListener("mouseup",q),f.removeEventListener("mouseout",q),!P.contains(m,t.target)&&!this.moveFlag){var e=j?t.targetTouches[0]||t.changedTouches[0]:t;if(this.touchendX=e.pageX,this.touchendY=e.pageY,this.touchendX==this.touchstartX&&this.touchendY==this.touchstartY)return void(this.moveFlag=!1);this.moveFlag=!0,this.setMovingEnd(t),this.touchstartX=this.touchendX=0}}function r(t){h=t.storyInstance,M=t.switchPageType,C=t.SWITCHTYPES,l=t.initfirstViewStatus,d=t.openAutoplay,p=t.resetSlideEndView,u=t.showDamping,f=h.element,g=h.storyContain,U=g.length-1,c=h.emitter,this.viewLength=g.length-1;var e=E.getPageStateIndex(this.viewLength);this.hasPreload=E.getPreloadIndex(this.viewLength),this.preIndex=e[0],this.currentIndex=e[1],this.nextIndex=e[2],this.touchstartX=this.touchendX=0,this.moveFlag=!1}function o(t){return 0!=g[t].style.transform.replace(/[^0-9\-.,]/g,"").split(",")[0]}function a(t,e,i){var n=e?-I:I,r=e?-T:T;null!=t&&(null!=i?M==C.slideX?(t.style.transform="translate("+i+"px, 0)",t.style.webkitTransform="translate("+i+"px, 0)"):(t.style.transform="translate(0, "+i+"px)",t.style.webkitTransform="translate(0, "+i+"px)"):M==C.slideX?(t.style.transform="translate("+n+"px, 0)",t.style.webkitTransform="translate("+n+"px, 0)"):t.style.webkitTransform="translate(0, "+r+"px)")}function s(t,e){t.style.transition="transform "+e+"ms ease",t.style.webkitTransition="transform "+e+"ms ease"}var c,l,d,p,u,h,f,m,g=[],b=t("viewport"),y=t("./mip-story-config"),v=y.PAGE_ROLE,w=y.DIRECTIONMAP,x=y.SWITCHPAGE_THRESHOLD,A=y.PAGE_STATE.current,k=y.PAGE_STATE.active,E=t("./mip-story-state"),S="style",I=b.getWidth(),T=b.getHeight(),C={},M="",_,P=t("util").dom,L=200,D=80,R=[0],N=!1,O={category:"_trackEvent",action:"",optLabel:"",optValue:"1"},U=1,H=!1,B={category:"_trackEvent",action:"",optLabel:"",optValue:""},F=null,z=null,q=null,j="ontouchstart"in window;return r.prototype.build=function(){this.initViewForSlider(),this.bindEvent(),m=f.querySelector(".recommend")},r.prototype.bindEvent=function(){F=e.bind(this),z=i.bind(this),q=n.bind(this),this.sliderStart(),this.sliding(),this.sliderEnd()},r.prototype.initViewForSlider=function(t){var e=null,i=null;"reset"===t?(e=i=g[0],this.preIndex=this.currentIndex=0,this.nextIndex=1,E.setState(0)):(e=g[this.preIndex],g[this.currentIndex],i=g[this.nextIndex]),this.setCurrentPage(),this.clearStyle(),i=g[this.nextIndex],e=g[this.preIndex],this.setViewStatus(!0,k,i),this.setViewStatus(!0,k,e),this.currentIndex!==this.viewLength-1&&a(i,!1),0!==this.currentIndex&&a(e,!0),l({preIndex:this.preIndex,currentIndex:this.currentIndex,nextIndex:this.nextIndex})},r.prototype.sliderStart=function(){g[this.currentIndex],j?f.addEventListener("touchstart",F):(f.classList.add("mip-story-pc"),f.addEventListener("mousedown",F))},r.prototype.sliding=function(){f.addEventListener("touchmove",z)},r.prototype.sliderEnd=function(){f.addEventListener("touchend",q)},r.prototype.setMovingEnd=function(t){var e=this.getMoveData(t),i=e.move,n=(e.preActiveMove,e.nextActiveMove,e.threshold);this.setConfineEle(t)?o(this.currentIndex)&&this.setRebound():Math.abs(i)<=n?(this.setRebound(),this.resetReboundEndStatus()):this.switchEnd(t)},r.prototype.resetMovingEndStatus=function(t){var e=this;g[this.preIndex],g[this.currentIndex],g[this.nextIndex],setTimeout(function(){e.moveFlag=!1,e.resetViewForSwitch(t||w.goto)},+L)},r.prototype.resetViewForSwitch=function(t){var e=!1;switch(t){case w.back:this.nextIndex=this.currentIndex,this.currentIndex=this.preIndex,this.preIndex=this.preIndex-1<0?this.preIndex:this.preIndex-1;break;case w.goto:e=!0,this.preIndex=this.currentIndex,this.currentIndex=this.currentIndex+1,this.nextIndex=this.currentIndex+1>=g.length?this.currentIndex:this.currentIndex+1}var i=g[this.preIndex],n=g[this.currentIndex],r=g[this.nextIndex];this.setCurrentPage(),this.clearStyle(),this.preIndex!=this.currentIndex&&(this.setViewStatus(!0,k,i),a(i,e,null)),this.nextIndex!=this.currentIndex&&(this.setViewStatus(!0,k,r),a(r,!e,null)),this.setViewStatus(!0,A,n),a(n,null,0);var o={preIndex:this.preIndex,currentIndex:this.currentIndex,nextIndex:this.nextIndex,direction:this.direction===w.back?0:1};p(o)},r.prototype.getSwitchDirection=function(t){this.direction=w.goto,t&&this.getMoveData(t).move>=0&&(this.direction=w.back)},r.prototype.switchEnd=function(t){var e=this,i=g[this.preIndex],n=g[this.currentIndex],r=g[this.nextIndex],o=!1;switch(this.getSwitchDirection(t),e.direction){case w.back:a(i,null,0),s(i,L);break;case w.goto:o=!0,a(r,null,0),s(r,L)}a(n,o,null),s(n,L),this.resetMovingEndStatus(e.direction)},r.prototype.resetReboundEndStatus=function(){var t=this;g[this.preIndex],g[this.currentIndex],g[this.nextIndex],setTimeout(function(){t.moveFlag=!1,t.resetViewStyle()},D)},r.prototype.resetViewStyle=function(){var t=g[this.preIndex],e=g[this.currentIndex],i=g[this.nextIndex];this.preIndex!=this.currentIndex&&(t.removeAttribute("style"),a(t,!0)),this.nextIndex!=this.currentIndex&&(i.removeAttribute("style"),a(i,!1)),e.removeAttribute("style"),this.currentIndex,g.length},r.prototype.setConfineEle=function(t){var e,i=this.getMoveData(t).move,n=!1;return this.currentIndex<=0&&i>0&&(this.moveFlag=!1,u(),n=!0),this.currentIndex+1>=g.length&&i<=0&&(this.moveFlag=!1,n=!0),n},r.prototype.slideMoving=function(t){var e=this.getMoveData(t),i=e.move,n=e.preActiveMove,r=e.nextActiveMove,o=g[this.preIndex],s=g[this.currentIndex],c=g[this.nextIndex];this.setConfineEle(t)||(this.currentIndex!=this.preIndex&&a(o,null,n),this.currentIndex!=this.nextIndex&&a(c,null,r),a(s,null,i))},r.prototype.getMoveData=function(t){var e=j?t.targetTouches[0]||t.changedTouches[0]:t,i=e.pageX-this.touchstartX,n=e.pageY-this.touchstartY,r=i,o=-I+i,a=I+i,s=x.horizontal;return M===C.slideY&&(r=n,o=-T+n,a=T+n,s=x.vertical),{move:r,preActiveMove:o,nextActiveMove:a,threshold:s}},r.prototype.setRebound=function(t){var e=g[this.preIndex],i=g[this.currentIndex],n=g[this.nextIndex];this.preIndex!==this.currentIndex&&(a(e,!0),s(e,D)),this.nextIndex!==this.currentIndex&&(a(n,!1),s(n,D)),a(i,null,0),s(i,D)},r.prototype.setCurrentPage=function(t){for(var e=g.length,i=0;i<e;i++){var n=g[i];if(i===this.currentIndex){if(window._hmt&&-1===R.indexOf(i)){var r=n.getAttribute("page-role");this.triggerStats(i,r)}this.setPreload(i),this.setViewStatus(!0,A,n)}else this.setViewStatus(!1,A,n);this.hasStatus(k,n)&&this.setViewStatus(!1,k,n)}},r.prototype.setPreload=function(t){var e=this.hasPreload,i=e[e.length-1],n=e[0],r=t>=i?i:t;if(E.setState(r),i>=this.viewLength-2)for(var o=g[this.viewLength].querySelectorAll("mip-story-img"),t=0;t<o.length;t++)o[t].setAttribute("preload","");if(this.direction){if("goto"===this.direction&&i<this.viewLength-1){var a=i+1;if(-1!==e.indexOf(a))return;return g[a].setAttribute("preload",""),void this.hasPreload.push(a)}if(n>0){var s=n-1;return g[s].setAttribute("preload",""),void this.hasPreload.splice(0,0,s)}}},r.prototype.triggerStats=function(t,e){if(e===v.sharePage&&!H)return H=!0,this.trackEvent(B);if(N||(N=!0,this.trackEvent(O)),e!==v.sharePage){R.push(t);var i=""+(+R[t]+1)+"";O.optValue=i,this.trackEvent(O)}},r.prototype.isSharePage=function(t){return t===U},r.prototype.trackEvent=function(t){var e=t.optLabel||"",i=t.optValue||"";window._hmt.push([t.category,t.action,e,i])},r.prototype.clearStyle=function(){for(var t=0;t<g.length;t++)this.hasStatus(S,g[t])&&(this.setViewStatus(!1,S,g[t]),g[t].removeAttribute(S))},r.prototype.hasStatus=function(t,e){if(t&&e)return e.hasAttribute(t)},r.prototype.setViewStatus=function(t,e,i){i&&e&&(t?i.setAttribute(e,""):i.removeAttribute(e))},r}),define("mip-story/mip-story-clickswitch",["require","util"],function(t){"use strict";function e(t){r=t.storyInstance,this.hint=r.hint,i=r.storyContain,n=r.storyViews,o=t.showDamping,a=t.resetClickEndStatus,s=t.showSwitchLayer,this.preIndex=this.currentIndex=this.nextIndex=0}var i,n,r,o,a,s,c="current",l=t("util"),d=l.Gesture,p=l.dom;return e.prototype.build=function(){this.initViewForSwitch(),this.swipe()},e.prototype.initViewForSwitch=function(){this.switchTo({status:1,notIncrease:1})},e.prototype.switchPage=function(t){var e=(r.element.offsetLeft+r.element.offsetWidth)/2;t.pageX>e?this.switchTo({e:t,status:1}):this.switchTo({e:t,status:0})},e.prototype.swipe=function(){var t=this;new d(r.element,{preventX:!1}).on("swipe",function(e,i){if("left"===i.swipeDirection||"right"===i.swipeDirection){var n=document.querySelector(".mip-backend");if(p.contains(n,e.target))return;t.hint.toggleSystemLater()}})},e.prototype.switchTo=function(t){if(this.hint.hideDamping(),this.hint.hideSystemLater(),0===t.status&&this.currentIndex<=0)o();else{if(!t.notIncrease&&1===t.status&&this.currentIndex+1>=n.length)return this.setViewStatue(!1,c,n[this.currentIndex]),void this.showBookEnd();t.notIncrease||(1===t.status?this.currentIndex++:this.currentIndex--);var e=n[this.currentIndex],i=n[this.preIndex];this.currentIndex!==this.preIndex&&this.setViewStatue(!1,c,i),this.setViewStatue(!0,c,e);var r={preIndex:this.preIndex,currentIndex:this.currentIndex,status:t.status};a(r),this.preIndex=this.currentIndex,t.notIncrease||s(t.status)}},e.prototype.showBookEnd=function(){var t=i[i.length-1];this.setViewStatue(!0,c,t),t.animate([{transform:"translate3D(0, 100%, 0)",opacity:0},{transform:"translate3D(0, 0, 0)",opacity:1}],{fill:"forwards",easing:"ease-in",duration:280}).play()},e.prototype.goBack=function(){this.setViewStatue(!0,c,n[this.currentIndex]),this.closeBookEnd()},e.prototype.closeBookEnd=function(){var t=i[i.length-1];this.setViewStatue(!0,c,t),t.animate([{transform:"translate3D(0, 0, 0)",opacity:1},{transform:"translate3D(0, 100%, 0)",opacity:0}],{fill:"forwards",easing:"ease-out",duration:280}).play()},e.prototype.setViewStatue=function(t,e,i){i&&e&&(t?i.setAttribute(e,""):i.removeAttribute(e))},e.prototype.swip=function(t){if("left"===t.data.swipeDirection||"right"===t.data.swipeDirection){var e=document.querySelector(".mip-backend");if(p.contains(e,t.target))return;this.hint.toggleSystemLater()}},e}),define("mip-story/mip-story-service",["require","viewport","./mip-story-slider","./mip-story-clickswitch","util"],function(t){"use strict";function e(t){this.storyInstance=t,this.audio=t.audio,this.share=t.share,this.viewMuted=t.viewMuted,this.bookEnd=t.bookEnd,this.progress=t.progress,this.hint=t.hint,a=t.storyContain,s=t.storyViews,this.preIndex=this.currentIndex=this.nextIndex=0,this.preEle=s[this.preIndex].customElement,this.currentEle=s[this.currentIndex].customElement,this.nextEle=s[this.nextIndex].customElement}function i(t,e){for(e=e.toLowerCase();t&&t.parentNode;)if((t=t.parentNode).tagName&&t.tagName.toLowerCase()===e)return t;return null}var n,r,o,a=[],s=[],c=t("viewport"),l=(c.getWidth(),c.getHeight(),{click:"click",slideX:"slideX",slideY:"slideY",autoPlay:"autoPlay"}),d=l.slideX,p=t("./mip-story-slider"),u=t("./mip-story-clickswitch"),h=t("util"),f=h.dom,m=h.EventEmitter,g="openAutoplay",b="unmute",y="mute",v="tapnavigation",w="replay",x="visibilitychange",A="createSlider",k="clickSwitch",E="switchPage";return e.prototype.build=function(){var t=this;o=this.storyInstance.element.hasAttribute("audio-reload"),this.bindEvent(),d==l.slideX||d==l.slideY?t.emitter.trigger(A):d==l.click&&t.emitter.trigger(k),document.addEventListener(x,function(e){t.emitter.trigger(x,e)}),this.storyInstance.element.addEventListener("click",function(e){t.emitter.trigger(v,e)})},e.prototype.clickSwitch=function(){var t={storyInstance:this.storyInstance,showDamping:this.showDamping.bind(this),resetClickEndStatus:this.resetClickEndStatus.bind(this),showSwitchLayer:this.showSwitchLayer.bind(this)};(r=new u(t)).build()},e.prototype.resetClickEndStatus=function(t){this.preIndex=t.preIndex,this.currentIndex=t.currentIndex,this.resetViewEle(),this.currentIndex!==this.preIndex&&this.preEle.setAllMedia(!1,this.viewMuted,o,this.emitter),this.currentEle.setAllMedia(!0,this.viewMuted,o,this.emitter),this.progress.updateProgress(this.currentIndex,t.status)},e.prototype.showSwitchLayer=function(t){1===t.status?this.hint.showPageSwitchLayer():this.hint.hidePageSwitchLayer()},e.prototype.createSlider=function(){var t={storyInstance:this.storyInstance,switchPageType:d,SWITCHTYPES:l,initfirstViewStatus:this.initfirstViewStatus.bind(this),openAutoplay:this.openAutoplay.bind(this),resetSlideEndView:this.resetSlideEndView.bind(this),showDamping:this.showDamping.bind(this)};(n=new p(t)).build()},e.prototype.showDamping=function(){this.hint.showDamping()},e.prototype.resetSlideEndView=function(t){this.preIndex=t.preIndex,this.currentIndex=t.currentIndex,this.nextIndex=t.nextIndex,this.resetViewEle(),this.preIndex!=this.currentIndex&&(this.preEle.setPreActive(this.emitter),this.preEle.setAllMedia(!1,this.viewMuted,o,this.emitter)),this.nextIndex!=this.currentIndex&&this.nextIndex<=s.length-1&&(this.nextEle.setPreActive(this.emitter),this.nextEle.setAllMedia(!1,this.viewMuted,o,this.emitter)),this.currentIndex+1<a.length&&(this.currentEle.setAllMedia(!0,this.viewMuted,o,this.emitter),this.currentEle.setCssMedia(!0,this.viewMuted,this.emitter),this.progress.updateProgress(this.currentIndex,t.direction)),this.clearCssMedia()},e.prototype.resetViewEle=function(){this.preEle=s&&s[this.preIndex]&&s[this.preIndex].customElement||null,this.currentEle=s&&s[this.currentIndex]&&s[this.currentIndex].customElement||null,this.nextEle=s&&s[this.nextIndex]&&s[this.nextIndex].customElement||null},e.prototype.initfirstViewStatus=function(t){this.preIndex=t.preIndex,this.currentIndex=t.currentIndex,this.nextIndex=t.nextIndex,this.resetViewEle(),this.currentEle.setAllMedia(!0,this.viewMuted,o,this.emitter),this.currentEle.setCssMedia(!0,this.viewMuted,this.emitter),this.nextIndex!=this.currentIndex&&this.nextIndex<=s.length-1&&this.nextEle.setPreActive(this.emitter),this.preIndex!==this.currentIndex&&this.preEle.setPreActive(this.emitter),this.clearCssMedia()},e.prototype.clearCssMedia=function(){for(var t=0;t<s.length;t++)t!=this.preIndex&&t!=this.currentIndex&&t!=this.nextIndex&&s[t].customElement.clearCssMedia()},e.prototype.bindEvent=function(){this.emitter=new m,this.emitter.on(g,this.openAutoplay.bind(this)),this.emitter.on(y,this.mute.bind(this)),this.emitter.on(b,this.unmute.bind(this)),this.emitter.on(v,this.tapnavigation.bind(this)),this.emitter.on(w,this.replay.bind(this)),this.emitter.on(x,this.visibilitychange.bind(this)),this.emitter.on(A,this.createSlider.bind(this)),this.emitter.on(k,this.clickSwitch.bind(this)),this.emitter.on(E,this.switchPage.bind(this))},e.prototype.switchPage=function(t){d==l.click&&r&&r.switchTo(t),d!=l.click&&n&&n.switchEnd()},e.prototype.tapnavigation=function(t){t.stopPropagation();var e=this.storyInstance.element,n=e.querySelector(".mip-backend"),o=e.querySelector(".mip-backend-preview"),a=e.querySelector(".mip-backend-share"),s=e.querySelector(".mip-story-share"),c=e.querySelector(".mip-story-share-cancel"),p="mip-story-close",u=e.querySelector(".mip-stoy-audio"),h=e.querySelector(".recommend-wrap"),m=e.querySelector(".mip-story-share-show"),g=e.querySelector(".icon-wrap");if(f.contains(s,t.target)||!m)if(f.contains(g,t.target)){var v=g.getAttribute("data-href");window.top.location.href=v}else{if(f.contains(h,t.target)){var x=t.target,A=i(x,"a");if(t.preventDefault(),"span"!==x.nodeName.toLocaleLowerCase()){var v=A.getAttribute("href");return void(window.top.location.href=v)}var k=x.getAttribute("data-src");if(!k)return;window.top.location.href=k}if(this.hasClass(t,p))history.back();else{if(t.target!==u)return f.contains(o,t.target)?(this.emitter.trigger(w),void this.progress.updateProgress(0,1)):void(f.contains(n,t.target)?f.contains(a,t.target)?this.share.showShareLayer():d==l.click&&r.goBack():f.contains(s,t.target)?t.target===c&&this.share.hideShareLayer():(this.hasPlay||this.muted||(this.emitter.trigger(b,t),this.hasPlay=!0),d==l.click&&r&&r.switchPage(t)));u.hasAttribute("muted")?this.emitter.trigger(b,t):this.emitter.trigger(y,t)}}else this.share.hideShareLayer()},e.prototype.hasClass=function(t,e){return!!new RegExp("\\s*"+e+"\\s*").exec(t.target.className)},e.prototype.replay=function(){if(d==l.click)return r=null,this.clickSwitch(),r.closeBookEnd(),void this.share.hideShareLayer();n.initViewForSlider("reset"),this.replayBookEnd()},e.prototype.replayBookEnd=function(){this.share.hideShareLayer()},e.prototype.openAutoplay=function(t){this.muted||(this.unMuteGlobalAudio(),this.playGlobalAudio(),t.target.removeAttribute("muted"),this.resetViewEle(),this.nextIndex<=s.length-1&&this.nextEle.muteAllMedia(),this.preIndex!=this.currentIndex&&this.preEle.muteAllMedia())},e.prototype.unmute=function(t){this.muted=!1,this.viewMuted=!1,this.unMuteGlobalAudio(),this.playGlobalAudio(),this.currentIndex<=s.length-1&&(this.resetViewEle(),this.currentEle.toggleAllMedia(t,this.viewMuted)),t.target.removeAttribute("muted")},e.prototype.mute=function(t){this.muted=!0,this.viewMuted=!0,this.muteGlobalAudio(),this.currentIndex<=s.length-1&&(this.resetViewEle(),this.currentEle.toggleAllMedia(t,this.viewMuted)),t.target.setAttribute("muted","")},e.prototype.muteGlobalAudio=function(){this.audio&&(this.audio.pause(),this.audio.muted=!0)},e.prototype.unMuteGlobalAudio=function(){this.audio&&(this.audio.play(),this.audio.muted=!1)},e.prototype.playGlobalAudio=function(){this.audio&&!this.muted&&this.audio.play()},e.prototype.visibilitychange=function(t){var e="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":null;this.currentIndex<=s.length-1&&(this.resetViewEle(),this.currentEle.toggleAllMedia(t,this.viewMuted),document[e]?(this.pauseGlobalAudio(),this.currentEle.pauseAllMedia()):(this.playGlobalAudio(),this.currentEle.resumeAllMedia()))},e.prototype.pauseGlobalAudio=function(){this.audio&&this.audio.pause()},e}),define("mip-story/web-animation",[],function(){var t,e,i,n;t={},e=function(){return this}(),n={},function(t,e){function i(t){if("number"==typeof t)return t;var e={};for(var i in t)e[i]=t[i];return e}function n(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=k}function r(){return t.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function o(e,i,r){var o=new n;return i&&(o.fill="both",o.duration="auto"),"number"!=typeof e||isNaN(e)?void 0!==e&&Object.getOwnPropertyNames(e).forEach(function(i){if("auto"!=e[i]){if(("number"==typeof o[i]||"duration"==i)&&("number"!=typeof e[i]||isNaN(e[i])))return;if("fill"==i&&-1==x.indexOf(e[i]))return;if("direction"==i&&-1==A.indexOf(e[i]))return;if("playbackRate"==i&&1!==e[i]&&t.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;o[i]=e[i]}}):o.duration=e,o}function a(t){return"number"==typeof t&&(t=isNaN(t)?{duration:0}:{duration:t}),t}function s(e,i){return o(e=t.numericTimingToObject(e),i)}function c(t,e,i,n){return t<0||t>1||i<0||i>1?k:function(r){function o(t,e,i){return 3*t*(1-i)*(1-i)*i+3*e*(1-i)*i*i+i*i*i}if(r<=0){var a=0;return t>0?a=e/t:!e&&i>0&&(a=n/i),a*r}if(r>=1){var s=0;return i<1?s=(n-1)/(i-1):1==i&&t<1&&(s=(e-1)/(t-1)),1+s*(r-1)}for(var c=0,l=1;c<l;){var d=(c+l)/2,p=o(t,i,d);if(Math.abs(r-p)<1e-5)return o(e,n,d);p<r?c=d:l=d}return o(e,n,d)}}function l(t,e){return function(i){if(i>=1)return 1;var n=1/t;return(i+=e*n)-i%n}}function d(t){C||(C=document.createElement("div").style),C.animationTimingFunction="",C.animationTimingFunction=t;var e=C.animationTimingFunction;if(""==e&&r())throw new TypeError(t+" is not a valid value for easing");return e}function p(t){if("linear"==t)return k;var e=_.exec(t);if(e)return c.apply(this,e.slice(1).map(Number));var i=P.exec(t);return i?l(Number(i[1]),{start:E,middle:S,end:I}[i[2]]):T[t]||k}function u(t){return Math.abs(h(t)/t.playbackRate)}function h(t){return 0===t.duration||0===t.iterations?0:t.duration*t.iterations}function f(t,e,i){if(null==e)return L;var n=i.delay+t+i.endDelay;return e<Math.min(i.delay,n)?D:e>=Math.min(i.delay+t,n)?R:N}function m(t,e,i,n,r){switch(n){case D:return"backwards"==e||"both"==e?0:null;case N:return i-r;case R:return"forwards"==e||"both"==e?t:null;case L:return null}}function g(t,e,i,n,r){var o=r;return 0===t?e!==D&&(o+=i):o+=n/t,o}function b(t,e,i,n,r,o){var a=t===1/0?e%1:t%1;return 0!==a||i!==R||0===n||0===r&&0!==o||(a=1),a}function y(t,e,i,n){return t===R&&e===1/0?1/0:1===i?Math.floor(n)-1:Math.floor(n)}function v(t,e,i){var n=t;if("normal"!==t&&"reverse"!==t){var r=e;"alternate-reverse"===t&&(r+=1),n="normal",r!==1/0&&r%2!=0&&(n="reverse")}return"normal"===n?i:1-i}function w(t,e,i){var n=f(t,e,i),r=m(t,i.fill,e,n,i.delay);if(null===r)return null;var o=g(i.duration,n,i.iterations,r,i.iterationStart),a=b(o,i.iterationStart,n,i.iterations,r,i.duration),s=y(n,i.iterations,a,o),c=v(i.direction,s,a);return i._easingFunction(c)}var x="backwards|forwards|both|none".split("|"),A="reverse|alternate|alternate-reverse".split("|"),k=function(t){return t};n.prototype={_setMember:function(e,i){this["_"+e]=i,this._effect&&(this._effect._timingInput[e]=i,this._effect._timing=t.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=t.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(t){this._setMember("delay",t)},get delay(){return this._delay},set endDelay(t){this._setMember("endDelay",t)},get endDelay(){return this._endDelay},set fill(t){this._setMember("fill",t)},get fill(){return this._fill},set iterationStart(t){if((isNaN(t)||t<0)&&r())throw new TypeError("iterationStart must be a non-negative number, received: "+timing.iterationStart);this._setMember("iterationStart",t)},get iterationStart(){return this._iterationStart},set duration(t){if("auto"!=t&&(isNaN(t)||t<0)&&r())throw new TypeError("duration must be non-negative or auto, received: "+t);this._setMember("duration",t)},get duration(){return this._duration},set direction(t){this._setMember("direction",t)},get direction(){return this._direction},set easing(t){this._easingFunction=p(d(t)),this._setMember("easing",t)},get easing(){return this._easing},set iterations(t){if((isNaN(t)||t<0)&&r())throw new TypeError("iterations must be non-negative, received: "+t);this._setMember("iterations",t)},get iterations(){return this._iterations}};var E=1,S=.5,I=0,T={ease:c(.25,.1,.25,1),"ease-in":c(.42,0,1,1),"ease-out":c(0,0,.58,1),"ease-in-out":c(.42,0,.58,1),"step-start":l(1,E),"step-middle":l(1,S),"step-end":l(1,I)},C=null,M="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",_=new RegExp("cubic-bezier\\("+M+","+M+","+M+","+M+"\\)"),P=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,L=0,D=1,R=2,N=3;t.cloneTimingInput=i,t.makeTiming=o,t.numericTimingToObject=a,t.normalizeTimingInput=s,t.calculateActiveDuration=u,t.calculateIterationProgress=w,t.calculatePhase=f,t.normalizeEasing=d,t.parseEasingFunction=p}(i={}),function(t,e){function i(t,e){return t in d&&d[t][e]||e}function n(t){return"display"===t||0===t.lastIndexOf("animation",0)||0===t.lastIndexOf("transition",0)}function r(t,e,r){if(!n(t)){var o=s[t];if(o)for(var a in c.style[t]=e,o){var l=o[a],d=c.style[l];r[l]=i(l,d)}else r[t]=i(t,e)}}function o(t){var e=[];for(var i in t)if(!(i in["easing","offset","composite"])){var n=t[i];Array.isArray(n)||(n=[n]);for(var r,o=n.length,a=0;a<o;a++)(r={}).offset="offset"in t?t.offset:1==o?1:a/(o-1),"easing"in t&&(r.easing=t.easing),"composite"in t&&(r.composite=t.composite),r[i]=n[a],e.push(r)}return e.sort(function(t,e){return t.offset-e.offset}),e}function a(e){function i(){var t=n.length;null==n[t-1].offset&&(n[t-1].offset=1),t>1&&null==n[0].offset&&(n[0].offset=0);for(var e=0,i=n[0].offset,r=1;r<t;r++){var o=n[r].offset;if(null!=o){for(var a=1;a<r-e;a++)n[e+a].offset=i+(o-i)*a/(r-e);e=r,i=o}}}if(null==e)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&e[Symbol.iterator]&&(e=Array.from(e)),Array.isArray(e)||(e=o(e));for(var n=e.map(function(e){var i={};for(var n in e){var o=e[n];if("offset"==n){if(null!=o){if(o=Number(o),!isFinite(o))throw new TypeError("Keyframe offsets must be numbers.");if(o<0||o>1)throw new TypeError("Keyframe offsets must be between 0 and 1.")}}else if("composite"==n){if("add"==o||"accumulate"==o)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};if("replace"!=o)throw new TypeError("Invalid composite mode "+o+".")}else o="easing"==n?t.normalizeEasing(o):""+o;r(n,o,i)}return null==i.offset&&(i.offset=null),null==i.easing&&(i.easing="linear"),i}),a=!0,s=-1/0,c=0;c<n.length;c++){var l=n[c].offset;if(null!=l){if(l<s)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");s=l}else a=!1}return n=n.filter(function(t){return t.offset>=0&&t.offset<=1}),a||i(),n}var s={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},c=document.createElementNS("http://www.w3.org/1999/xhtml","div"),l={thin:"1px",medium:"3px",thick:"5px"},d={borderBottomWidth:l,borderLeftWidth:l,borderRightWidth:l,borderTopWidth:l,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:l,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};t.convertToArrayForm=o,t.normalizeKeyframes=a}(i),function(t){var e={};t.isDeprecated=function(t,i,n,r){var o=r?"are":"is",a=new Date,s=new Date(i);return s.setMonth(s.getMonth()+3),!(a<s&&(t in e||console.warn("Web Animations: "+t+" "+o+" deprecated and will stop working on "+s.toDateString()+". "+n),e[t]=!0,1))},t.deprecated=function(e,i,n,r){var o=r?"are":"is";if(t.isDeprecated(e,i,n,r))throw new Error(e+" "+o+" no longer supported. "+n)}}(i),function(){if(document.documentElement.animate){var t=document.documentElement.animate([],0),e=!0;if(t&&(e=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach(function(i){void 0===t[i]&&(e=!0)})),!e)return}!function(t,e,i){function n(t){for(var e={},i=0;i<t.length;i++)for(var n in t[i])if("offset"!=n&&"easing"!=n&&"composite"!=n){var r={offset:t[i].offset,easing:t[i].easing,value:t[i][n]};e[n]=e[n]||[],e[n].push(r)}for(var o in e){var a=e[o];if(0!=a[0].offset||1!=a[a.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return e}function r(i){var n=[];for(var r in i)for(var o=i[r],a=0;a<o.length-1;a++){var s=a,c=a+1,l=o[s].offset,d=o[c].offset,p=l,u=d;0==a&&(p=-1/0,0==d&&(c=s)),a==o.length-2&&(u=1/0,1==l&&(s=c)),n.push({applyFrom:p,applyTo:u,startOffset:o[s].offset,endOffset:o[c].offset,easingFunction:t.parseEasingFunction(o[s].easing),property:r,interpolation:e.propertyInterpolation(r,o[s].value,o[c].value)})}return n.sort(function(t,e){return t.startOffset-e.startOffset}),n}e.convertEffectInput=function(i){var o,a=n(t.normalizeKeyframes(i)),s=r(a);return function(t,i){if(null!=i)s.filter(function(t){return i>=t.applyFrom&&i<t.applyTo}).forEach(function(n){var r=i-n.startOffset,o=n.endOffset-n.startOffset,a=0==o?0:n.easingFunction(r/o);e.apply(t,n.property,n.interpolation(a))});else for(var n in a)"offset"!=n&&"easing"!=n&&"composite"!=n&&e.clear(t,n)}}}(i,n),function(t,e,i){function n(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function r(t,e,i){s[i]=s[i]||[],s[i].push([t,e])}function o(t,e,i){for(var o=0;o<i.length;o++)r(t,e,n(i[o]))}function a(i,r,o){var a=i;/-/.test(i)&&!t.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(a=n(i)),"initial"!=r&&"initial"!=o||("initial"==r&&(r=c[a]),"initial"==o&&(o=c[a]));for(var l=r==o?[]:s[a],d=0;l&&d<l.length;d++){var p=l[d][0](r),u=l[d][0](o);if(void 0!==p&&void 0!==u){var h=l[d][1](p,u);if(h){var f=e.Interpolation.apply(null,h);return function(t){return 0==t?r:1==t?o:f(t)}}}}return e.Interpolation(!1,!0,function(t){return t?o:r})}var s={};e.addPropertiesHandler=o;var c={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",strokeDasharray:"none",strokeDashoffset:"0px",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};e.propertyInterpolation=a}(i,n),function(t,e,i){function n(e){var i=t.calculateActiveDuration(e),n=function(n){return t.calculateIterationProgress(i,n,e)};return n._totalDuration=e.delay+i+e.endDelay,n}e.KeyframeEffect=function(i,r,o,a){var s,c=n(t.normalizeTimingInput(o)),l=e.convertEffectInput(r),d=function(){l(i,s)};return d._update=function(t){return null!==(s=c(t))},d._clear=function(){l(i,null)},d._hasSameTarget=function(t){return i===t},d._target=i,d._totalDuration=c._totalDuration,d._id=a,d}}(i,n),function(t,e){function i(t,e){return!(!e.namespaceURI||-1==e.namespaceURI.indexOf("/svg"))&&(a in t||(t[a]=/Trident|MSIE|IEMobile|Edge|Android 4/i.test(t.navigator.userAgent)),t[a])}function n(t,e,i){i.enumerable=!0,i.configurable=!0,Object.defineProperty(t,e,i)}function r(t){this._element=t,this._surrogateStyle=document.createElementNS("http://www.w3.org/1999/xhtml","div").style,this._style=t.style,this._length=0,this._isAnimatedProperty={},this._updateSvgTransformAttr=i(window,t),this._savedTransformAttr=null;for(var e=0;e<this._style.length;e++){var n=this._style[e];this._surrogateStyle[n]=this._style[n]}this._updateIndices()}function o(t){if(!t._webAnimationsPatchedStyle){var e=new r(t);try{n(t,"style",{get:function(){return e}})}catch(e){t.style._set=function(e,i){t.style[e]=i},t.style._clear=function(e){t.style[e]=""}}t._webAnimationsPatchedStyle=t.style}}var a="_webAnimationsUpdateSvgTransformAttr",s={cssText:1,length:1,parentRule:1},c={getPropertyCSSValue:1,getPropertyPriority:1,getPropertyValue:1,item:1,removeProperty:1,setProperty:1},l={removeProperty:1,setProperty:1};for(var d in r.prototype={get cssText(){return this._surrogateStyle.cssText},set cssText(t){for(var e={},i=0;i<this._surrogateStyle.length;i++)e[this._surrogateStyle[i]]=!0;this._surrogateStyle.cssText=t,this._updateIndices();for(var i=0;i<this._surrogateStyle.length;i++)e[this._surrogateStyle[i]]=!0;for(var n in e)this._isAnimatedProperty[n]||this._style.setProperty(n,this._surrogateStyle.getPropertyValue(n))},get length(){return this._surrogateStyle.length},get parentRule(){return this._style.parentRule},_updateIndices:function(){for(;this._length<this._surrogateStyle.length;)Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,get:function(t){return function(){return this._surrogateStyle[t]}}(this._length)}),this._length++;for(;this._length>this._surrogateStyle.length;)this._length--,Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,value:void 0})},_set:function(e,i){this._style[e]=i,this._isAnimatedProperty[e]=!0,this._updateSvgTransformAttr&&"transform"==t.unprefixedPropertyName(e)&&(null==this._savedTransformAttr&&(this._savedTransformAttr=this._element.getAttribute("transform")),this._element.setAttribute("transform",t.transformToSvgMatrix(i)))},_clear:function(e){this._style[e]=this._surrogateStyle[e],this._updateSvgTransformAttr&&"transform"==t.unprefixedPropertyName(e)&&(this._savedTransformAttr?this._element.setAttribute("transform",this._savedTransformAttr):this._element.removeAttribute("transform"),this._savedTransformAttr=null),delete this._isAnimatedProperty[e]}},c)r.prototype[d]=function(t,e){return function(){var i=this._surrogateStyle[t].apply(this._surrogateStyle,arguments);return e&&(this._isAnimatedProperty[arguments[0]]||this._style[t].apply(this._style,arguments),this._updateIndices()),i}}(d,d in l);for(var p in document.documentElement.style)p in s||p in c||function(t){n(r.prototype,t,{get:function(){return this._surrogateStyle[t]},set:function(e){this._surrogateStyle[t]=e,this._updateIndices(),this._isAnimatedProperty[t]||(this._style[t]=e)}})}(p);t.apply=function(e,i,n){o(e),e.style._set(t.propertyName(i),n)},t.clear=function(e,i){e._webAnimationsPatchedStyle&&e.style._clear(t.propertyName(i))}}(n),function(t){window.Element.prototype.animate=function(e,i){var n="";return i&&i.id&&(n=i.id),t.timeline._play(t.KeyframeEffect(this,e,i,n))}}(n),function(t,e){function i(t,e,n){if("number"==typeof t&&"number"==typeof e)return t*(1-n)+e*n;if("boolean"==typeof t&&"boolean"==typeof e)return n<.5?t:e;if(t.length==e.length){for(var r=[],o=0;o<t.length;o++)r.push(i(t[o],e[o],n));return r}throw"Mismatched interpolation arguments "+t+":"+e}t.Interpolation=function(t,e,n){return function(r){return n(i(t,e,r))}}}(n),function(t,e){function i(t,e,i){return Math.max(Math.min(t,i),e)}function n(e,n,r){var o=t.dot(e,n),a=[];if(1===(o=i(o,-1,1)))a=e;else for(var s=Math.acos(o),c=1*Math.sin(r*s)/Math.sqrt(1-o*o),l=0;l<4;l++)a.push(e[l]*(Math.cos(r*s)-o*c)+n[l]*c);return a}var r=function(){function t(t,e){for(var i=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],n=0;n<4;n++)for(var r=0;r<4;r++)for(var o=0;o<4;o++)i[n][r]+=e[n][o]*t[o][r];return i}function e(t){return 0==t[0][2]&&0==t[0][3]&&0==t[1][2]&&0==t[1][3]&&0==t[2][0]&&0==t[2][1]&&1==t[2][2]&&0==t[2][3]&&0==t[3][2]&&1==t[3][3]}function i(i,n,r,o,a){for(var s=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],c=0;c<4;c++)s[c][3]=a[c];for(var c=0;c<3;c++)for(var l=0;l<3;l++)s[3][c]+=i[l]*s[l][c];var d=o[0],p=o[1],u=o[2],h=o[3],f=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];f[0][0]=1-2*(p*p+u*u),f[0][1]=2*(d*p-u*h),f[0][2]=2*(d*u+p*h),f[1][0]=2*(d*p+u*h),f[1][1]=1-2*(d*d+u*u),f[1][2]=2*(p*u-d*h),f[2][0]=2*(d*u-p*h),f[2][1]=2*(p*u+d*h),f[2][2]=1-2*(d*d+p*p),s=t(s,f);var m=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];r[2]&&(m[2][1]=r[2],s=t(s,m)),r[1]&&(m[2][1]=0,m[2][0]=r[0],s=t(s,m)),r[0]&&(m[2][0]=0,m[1][0]=r[0],s=t(s,m));for(var c=0;c<3;c++)for(var l=0;l<3;l++)s[c][l]*=n[c];return e(s)?[s[0][0],s[0][1],s[1][0],s[1][1],s[3][0],s[3][1]]:s[0].concat(s[1],s[2],s[3])}return i}();t.composeMatrix=r,t.quat=n}(n),function(t,e,i){t.sequenceNumber=0;var n=function(t,e,i){this.target=t,this.currentTime=e,this.timelineTime=i,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=t,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()};e.Animation=function(e){this.id="",e&&e._id&&(this.id=e._id),this._sequenceNumber=t.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!0,this.onfinish=null,this._finishHandlers=[],this._effect=e,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},e.Animation.prototype={_ensureAlive:function(){this.playbackRate<0&&0===this.currentTime?this._inEffect=this._effect._update(-1):this._inEffect=this._effect._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,e.timeline._animations.push(this))},_tickCurrentTime:function(t,e){t!=this._currentTime&&(this._currentTime=t,this._isFinished&&!e&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(t){t=+t,isNaN(t)||(e.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-t/this._playbackRate),this._currentTimePending=!1,this._currentTime!=t&&(this._idle&&(this._idle=!1,this._paused=!0),this._tickCurrentTime(t,!0),e.applyDirtiedAnimation(this)))},get startTime(){return this._startTime},set startTime(t){t=+t,isNaN(t)||this._paused||this._idle||(this._startTime=t,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),e.applyDirtiedAnimation(this))},get playbackRate(){return this._playbackRate},set playbackRate(t){if(t!=this._playbackRate){var i=this.currentTime;this._playbackRate=t,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&(this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),e.applyDirtiedAnimation(this)),null!=i&&(this.currentTime=i)}},get _isFinished(){return!this._idle&&(this._playbackRate>0&&this._currentTime>=this._totalDuration||this._playbackRate<0&&this._currentTime<=0)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},_rewind:function(){if(this._playbackRate>=0)this._currentTime=0;else{if(!(this._totalDuration<1/0))throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");this._currentTime=this._totalDuration}},play:function(){this._paused=!1,(this._isFinished||this._idle)&&(this._rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),e.applyDirtiedAnimation(this)},pause:function(){this._isFinished||this._paused||this._idle?this._idle&&(this._rewind(),this._idle=!1):this._currentTimePending=!0,this._startTime=null,this._paused=!0},finish:function(){this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,e.applyDirtiedAnimation(this))},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._isFinished=!0,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this._effect._update(null),e.applyDirtiedAnimation(this))},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(t,e){"function"==typeof e&&"finish"==t&&this._finishHandlers.push(e)},removeEventListener:function(t,e){if("finish"==t){var i=this._finishHandlers.indexOf(e);i>=0&&this._finishHandlers.splice(i,1)}},_fireEvents:function(t){if(this._isFinished){if(!this._finishedFlag){var e=new n(this,this._currentTime,t),i=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){i.forEach(function(t){t.call(e.target,e)})},0),this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function(t,e){this._idle||this._paused||(null==this._startTime?e&&(this.startTime=t-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((t-this._startTime)*this.playbackRate)),e&&(this._currentTimePending=!1,this._fireEvents(t))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag},_targetAnimations:function(){var t=this._effect._target;return t._activeAnimations||(t._activeAnimations=[]),t._activeAnimations},_markTarget:function(){var t=this._targetAnimations();-1===t.indexOf(this)&&t.push(this)},_unmarkTarget:function(){var t=this._targetAnimations(),e=t.indexOf(this);-1!==e&&t.splice(e,1)}}}(i,n),function(t,e,i){function n(t){var e=l;l=[],t<g.currentTime&&(t=g.currentTime),g._animations.sort(r),g._animations=s(t,!0,g._animations)[0],e.forEach(function(e){e[1](t)}),a(),p=void 0}function r(t,e){return t._sequenceNumber-e._sequenceNumber}function o(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function a(){f.forEach(function(t){t()}),f.length=0}function s(t,i,n){m=!0,h=!1,e.timeline.currentTime=t,u=!1;var r=[],o=[],a=[],s=[];return n.forEach(function(e){e._tick(t,i),e._inEffect?(o.push(e._effect),e._markTarget()):(r.push(e._effect),e._unmarkTarget()),e._needsTick&&(u=!0);var n=e._inEffect||e._needsTick;e._inTimeline=n,n?a.push(e):s.push(e)}),f.push.apply(f,r),f.push.apply(f,o),u&&requestAnimationFrame(function(){}),m=!1,[a,s]}var c=window.requestAnimationFrame,l=[],d=0;window.requestAnimationFrame=function(t){var e=d++;return 0==l.length&&c(n),l.push([e,t]),e},window.cancelAnimationFrame=function(t){l.forEach(function(e){e[0]==t&&(e[1]=function(){})})},o.prototype={_play:function(i){i._timing=t.normalizeTimingInput(i.timing);var n=new e.Animation(i);return n._idle=!1,n._timeline=this,this._animations.push(n),e.restart(),e.applyDirtiedAnimation(n),n}};var p=void 0,u=!1,h=!1;e.restart=function(){return u||(u=!0,requestAnimationFrame(function(){}),h=!0),h},e.applyDirtiedAnimation=function(t){if(!m){t._markTarget();var i=t._targetAnimations();i.sort(r),s(e.timeline.currentTime,!1,i.slice())[1].forEach(function(t){var e=g._animations.indexOf(t);-1!==e&&g._animations.splice(e,1)}),a()}};var f=[],m=!1,g=new o;e.timeline=g}(i,n),function(t,e){function i(t,e){for(var i=0,n=0;n<t.length;n++)i+=t[n]*e[n];return i}function n(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15]]}function r(t){var e=t.rad||0;return((t.deg||0)/360+(t.grad||0)/400+(t.turn||0))*(2*Math.PI)+e}function o(t){switch(t.t){case"rotatex":var e=r(t.d[0]);return[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1];case"rotatey":var e=r(t.d[0]);return[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1];case"rotate":case"rotatez":var e=r(t.d[0]);return[Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1,0,0,0,0,1];case"rotate3d":var i=t.d[0],n=t.d[1],o=t.d[2],e=r(t.d[3]),a=i*i+n*n+o*o;if(0===a)i=1,n=0,o=0;else if(1!==a){var s=Math.sqrt(a);i/=s,n/=s,o/=s}var c=Math.sin(e/2),l=c*Math.cos(e/2),d=c*c;return[1-2*(n*n+o*o)*d,2*(i*n*d+o*l),2*(i*o*d-n*l),0,2*(i*n*d-o*l),1-2*(i*i+o*o)*d,2*(n*o*d+i*l),0,2*(i*o*d+n*l),2*(n*o*d-i*l),1-2*(i*i+n*n)*d,0,0,0,0,1];case"scale":return[t.d[0],0,0,0,0,t.d[1],0,0,0,0,1,0,0,0,0,1];case"scalex":return[t.d[0],0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaley":return[1,0,0,0,0,t.d[0],0,0,0,0,1,0,0,0,0,1];case"scalez":return[1,0,0,0,0,1,0,0,0,0,t.d[0],0,0,0,0,1];case"scale3d":return[t.d[0],0,0,0,0,t.d[1],0,0,0,0,t.d[2],0,0,0,0,1];case"skew":var p=r(t.d[0]),u=r(t.d[1]);return[1,Math.tan(u),0,0,Math.tan(p),1,0,0,0,0,1,0,0,0,0,1];case"skewx":var e=r(t.d[0]);return[1,0,0,0,Math.tan(e),1,0,0,0,0,1,0,0,0,0,1];case"skewy":var e=r(t.d[0]);return[1,Math.tan(e),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":var i,n;return[1,0,0,0,0,1,0,0,0,0,1,0,i=t.d[0].px||0,n=t.d[1].px||0,0,1];case"translatex":var i;return[1,0,0,0,0,1,0,0,0,0,1,0,i=t.d[0].px||0,0,0,1];case"translatey":var n;return[1,0,0,0,0,1,0,0,0,0,1,0,0,n=t.d[0].px||0,0,1];case"translatez":var o;return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,o=t.d[0].px||0,1];case"translate3d":var i,n,o;return[1,0,0,0,0,1,0,0,0,0,1,0,i=t.d[0].px||0,n=t.d[1].px||0,o=t.d[2].px||0,1];case"perspective":return[1,0,0,0,0,1,0,0,0,0,1,t.d[0].px?-1/t.d[0].px:0,0,0,0,1];case"matrix":return[t.d[0],t.d[1],0,0,t.d[2],t.d[3],0,0,0,0,1,0,t.d[4],t.d[5],0,1];case"matrix3d":return t.d}}function a(t){return 0===t.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:t.map(o).reduce(n)}function s(t){return[c(a(t))]}var c=function(){function t(t){return t[0][0]*t[1][1]*t[2][2]+t[1][0]*t[2][1]*t[0][2]+t[2][0]*t[0][1]*t[1][2]-t[0][2]*t[1][1]*t[2][0]-t[1][2]*t[2][1]*t[0][0]-t[2][2]*t[0][1]*t[1][0]}function e(e){for(var i=1/t(e),n=e[0][0],r=e[0][1],o=e[0][2],a=e[1][0],s=e[1][1],c=e[1][2],l=e[2][0],d=e[2][1],p=e[2][2],u=[[(s*p-c*d)*i,(o*d-r*p)*i,(r*c-o*s)*i,0],[(c*l-a*p)*i,(n*p-o*l)*i,(o*a-n*c)*i,0],[(a*d-s*l)*i,(l*r-n*d)*i,(n*s-r*a)*i,0]],h=[],f=0;f<3;f++){for(var m=0,g=0;g<3;g++)m+=e[3][g]*u[g][f];h.push(m)}return h.push(1),u.push(h),u}function n(t){return[[t[0][0],t[1][0],t[2][0],t[3][0]],[t[0][1],t[1][1],t[2][1],t[3][1]],[t[0][2],t[1][2],t[2][2],t[3][2]],[t[0][3],t[1][3],t[2][3],t[3][3]]]}function r(t,e){for(var i=[],n=0;n<4;n++){for(var r=0,o=0;o<4;o++)r+=t[o]*e[o][n];i.push(r)}return i}function o(t){var e=a(t);return[t[0]/e,t[1]/e,t[2]/e]}function a(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}function s(t,e,i,n){return[i*t[0]+n*e[0],i*t[1]+n*e[1],i*t[2]+n*e[2]]}function c(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function l(l){var d=[l.slice(0,4),l.slice(4,8),l.slice(8,12),l.slice(12,16)];if(1!==d[3][3])return null;for(var p=[],u=0;u<4;u++)p.push(d[u].slice());for(var u=0;u<3;u++)p[u][3]=0;if(0===t(p))return null;var h,f=[];d[0][3]||d[1][3]||d[2][3]?(f.push(d[0][3]),f.push(d[1][3]),f.push(d[2][3]),f.push(d[3][3]),h=r(f,n(e(p)))):h=[0,0,0,1];var m=d[3].slice(0,3),g=[];g.push(d[0].slice(0,3));var b=[];b.push(a(g[0])),g[0]=o(g[0]);var y=[];g.push(d[1].slice(0,3)),y.push(i(g[0],g[1])),g[1]=s(g[1],g[0],1,-y[0]),b.push(a(g[1])),g[1]=o(g[1]),y[0]/=b[1],g.push(d[2].slice(0,3)),y.push(i(g[0],g[2])),g[2]=s(g[2],g[0],1,-y[1]),y.push(i(g[1],g[2])),g[2]=s(g[2],g[1],1,-y[2]),b.push(a(g[2])),g[2]=o(g[2]),y[1]/=b[2],y[2]/=b[2];var v=c(g[1],g[2]);if(i(g[0],v)<0)for(var u=0;u<3;u++)b[u]*=-1,g[u][0]*=-1,g[u][1]*=-1,g[u][2]*=-1;var w,x,A=g[0][0]+g[1][1]+g[2][2]+1;return A>1e-4?(w=.5/Math.sqrt(A),x=[(g[2][1]-g[1][2])*w,(g[0][2]-g[2][0])*w,(g[1][0]-g[0][1])*w,.25/w]):g[0][0]>g[1][1]&&g[0][0]>g[2][2]?x=[.25*(w=2*Math.sqrt(1+g[0][0]-g[1][1]-g[2][2])),(g[0][1]+g[1][0])/w,(g[0][2]+g[2][0])/w,(g[2][1]-g[1][2])/w]:g[1][1]>g[2][2]?(w=2*Math.sqrt(1+g[1][1]-g[0][0]-g[2][2]),x=[(g[0][1]+g[1][0])/w,.25*w,(g[1][2]+g[2][1])/w,(g[0][2]-g[2][0])/w]):(w=2*Math.sqrt(1+g[2][2]-g[0][0]-g[1][1]),x=[(g[0][2]+g[2][0])/w,(g[1][2]+g[2][1])/w,.25*w,(g[1][0]-g[0][1])/w]),[m,b,y,x,h]}return l}();t.dot=i,t.makeMatrixDecomposition=s,t.transformListToMatrix=a}(n),function(t){function e(t,e){var i=t.exec(e);if(i)return[i=t.ignoreCase?i[0].toLowerCase():i[0],e.substr(i.length)]}function i(t,e){var i=t(e=e.replace(/^\s*/,""));if(i)return[i[0],i[1].replace(/^\s*/,"")]}function n(t,n,r){t=i.bind(null,t);for(var o=[];;){var a=t(r);if(!a)return[o,r];if(o.push(a[0]),!(a=e(n,r=a[1]))||""==a[1])return[o,r];r=a[1]}}function r(t,e){for(var i=0,n=0;n<e.length&&(!/\s|,/.test(e[n])||0!=i);n++)if("("==e[n])i++;else if(")"==e[n]&&(0==--i&&n++,i<=0))break;var r=t(e.substr(0,n));return null==r?void 0:[r,e.substr(n)]}function o(t,e){for(var i=t,n=e;i&&n;)i>n?i%=n:n%=i;return t*e/(i+n)}function a(t){return function(e){var i=t(e);return i&&(i[0]=void 0),i}}function s(t,e){return function(i){return t(i)||[e,i]}}function c(e,i){for(var n=[],r=0;r<e.length;r++){var o=t.consumeTrimmed(e[r],i);if(!o||""==o[0])return;void 0!==o[0]&&n.push(o[0]),i=o[1]}if(""==i)return n}function l(t,e,i,n,r){for(var a=[],s=[],c=[],l=o(n.length,r.length),d=0;d<l;d++){var p=e(n[d%n.length],r[d%r.length]);if(!p)return;a.push(p[0]),s.push(p[1]),c.push(p[2])}return[a,s,function(e){var n=e.map(function(t,e){return c[e](t)}).join(i);return t?t(n):n}]}function d(t,e,i){for(var n=[],r=[],o=[],a=0,s=0;s<i.length;s++)if("function"==typeof i[s]){var c=i[s](t[a],e[a++]);n.push(c[0]),r.push(c[1]),o.push(c[2])}else!function(t){n.push(!1),r.push(!1),o.push(function(){return i[t]})}(s);return[n,r,function(t){for(var e="",i=0;i<t.length;i++)e+=o[i](t[i]);return e}]}t.consumeToken=e,t.consumeTrimmed=i,t.consumeRepeated=n,t.consumeParenthesised=r,t.ignore=a,t.optional=s,t.consumeList=c,t.mergeNestedRepeated=l.bind(null,null),t.mergeWrappedNestedRepeated=l,t.mergeList=d}(n),function(t){function e(e){function i(e){var i,i,i;return(i=t.consumeToken(/^inset/i,e))?(n.inset=!0,i):(i=t.consumeLengthOrPercent(e))?(n.lengths.push(i[0]),i):(i=t.consumeColor(e))?(n.color=i[0],i):void 0}var n={inset:!1,lengths:[],color:null},r=t.consumeRepeated(i,/^/,e);if(r&&r[0].length)return[n,r[1]]}function i(i){var n=t.consumeRepeated(e,/^,/,i);if(n&&""==n[1])return n[0]}function n(e,i){for(;e.lengths.length<Math.max(e.lengths.length,i.lengths.length);)e.lengths.push({px:0});for(;i.lengths.length<Math.max(e.lengths.length,i.lengths.length);)i.lengths.push({px:0});if(e.inset==i.inset&&!!e.color==!!i.color){for(var n,r=[],o=[[],0],a=[[],0],s=0;s<e.lengths.length;s++){var c=t.mergeDimensions(e.lengths[s],i.lengths[s],2==s);o[0].push(c[0]),a[0].push(c[1]),r.push(c[2])}if(e.color&&i.color){var l=t.mergeColors(e.color,i.color);o[1]=l[0],a[1]=l[1],n=l[2]}return[o,a,function(t){for(var i=e.inset?"inset ":" ",o=0;o<r.length;o++)i+=r[o](t[0][o])+" ";return n&&(i+=n(t[1])),i}]}}function r(e,i,n,r){function o(t){return{inset:t,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var a=[],s=[],c=0;c<n.length||c<r.length;c++){var l=n[c]||o(r[c].inset),d=r[c]||o(n[c].inset);a.push(l),s.push(d)}return t.mergeNestedRepeated(e,i,a,s)}var o=r.bind(null,n,", ");t.addPropertiesHandler(i,o,["box-shadow","text-shadow"])}(n),function(t,e){function i(t){return t.toFixed(3).replace(/0+$/,"").replace(/\.$/,"")}function n(t,e,i){return Math.min(e,Math.max(t,i))}function r(t){if(/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t))return Number(t)}function o(t,e){return[t,e,i]}function a(t,e){if(0!=t)return c(0,1/0)(t,e)}function s(t,e){return[t,e,function(t){return Math.round(n(1,1/0,t))}]}function c(t,e){return function(r,o){return[r,o,function(r){return i(n(t,e,r))}]}}function l(t){var e=t.trim().split(/\s*[\s,]\s*/);if(0!==e.length){for(var i=[],n=0;n<e.length;n++){var o=r(e[n]);if(void 0===o)return;i.push(o)}return i}}function d(t,e){if(t.length==e.length)return[t,e,function(t){return t.map(i).join(" ")}]}function p(t,e){return[t,e,Math.round]}t.clamp=n,t.addPropertiesHandler(l,d,["stroke-dasharray"]),t.addPropertiesHandler(r,c(0,1/0),["border-image-width","line-height"]),t.addPropertiesHandler(r,c(0,1),["opacity","shape-image-threshold"]),t.addPropertiesHandler(r,a,["flex-grow","flex-shrink"]),t.addPropertiesHandler(r,s,["orphans","widows"]),t.addPropertiesHandler(r,p,["z-index"]),t.parseNumber=r,t.parseNumberList=l,t.mergeNumbers=o,t.numberToString=i}(n),function(t,e){function i(t,e){if("visible"==t||"visible"==e)return[0,1,function(i){return i<=0?t:i>=1?e:"visible"}]}t.addPropertiesHandler(String,i,["visibility"])}(n),function(t,e){function i(t){t=t.trim(),o.fillStyle="#000",o.fillStyle=t;var e=o.fillStyle;if(o.fillStyle="#fff",o.fillStyle=t,e==o.fillStyle){o.fillRect(0,0,1,1);var i=o.getImageData(0,0,1,1).data;o.clearRect(0,0,1,1);var n=i[3]/255;return[i[0]*n,i[1]*n,i[2]*n,n]}}function n(e,i){return[e,i,function(e){function i(t){return Math.max(0,Math.min(255,t))}if(e[3])for(var n=0;n<3;n++)e[n]=Math.round(i(e[n]/e[3]));return e[3]=t.numberToString(t.clamp(0,1,e[3])),"rgba("+e.join(",")+")"}]}var r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");r.width=r.height=1;var o=r.getContext("2d");t.addPropertiesHandler(i,n,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","fill","flood-color","lighting-color","outline-color","stop-color","stroke","text-decoration-color"]),t.consumeColor=t.consumeParenthesised.bind(null,i),t.mergeColors=n}(n),function(t,e){function i(t){function e(){var e=s.exec(t);a=e?e[0]:void 0}function i(){var t=Number(a);return e(),t}function n(){if("("!==a)return i();e();var t=o();return")"!==a?NaN:(e(),t)}function r(){for(var t=n();"*"===a||"/"===a;){var i=a;e();var r=n();"*"===i?t*=r:t/=r}return t}function o(){for(var t=r();"+"===a||"-"===a;){var i=a;e();var n=r();"+"===i?t+=n:t-=n}return t}var a,s=/([\+\-\w\.]+|[\(\)\*\/])/g;return e(),o()}function n(t,e){if("0"==(e=e.trim().toLowerCase())&&"px".search(t)>=0)return{px:0};if(/^[^(]*$|^calc/.test(e)){e=e.replace(/calc\(/g,"(");var n={};e=e.replace(t,function(t){return n[t]=null,"U"+t});for(var r="U("+t.source+")",o=e.replace(/[-+]?(\d*\.)?\d+([Ee][-+]?\d+)?/g,"N").replace(new RegExp("N"+r,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),a=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],s=0;s<a.length;)a[s].test(o)?(o=o.replace(a[s],"$1"),s=0):s++;if("D"==o){for(var c in n){var l=i(e.replace(new RegExp("U"+c,"g"),"").replace(new RegExp(r,"g"),"*0"));if(!isFinite(l))return;n[c]=l}return n}}}function r(t,e){return o(t,e,!0)}function o(e,i,n){var r,o=[];for(r in e)o.push(r);for(r in i)o.indexOf(r)<0&&o.push(r);return e=o.map(function(t){return e[t]||0}),i=o.map(function(t){return i[t]||0}),[e,i,function(e){var i=e.map(function(i,r){return 1==e.length&&n&&(i=Math.max(i,0)),t.numberToString(i)+o[r]}).join(" + ");return e.length>1?"calc("+i+")":i}]}var a="px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc",s=n.bind(null,new RegExp(a,"g")),c=n.bind(null,new RegExp(a+"|%","g")),l=n.bind(null,/deg|rad|grad|turn/g);t.parseLength=s,t.parseLengthOrPercent=c,t.consumeLengthOrPercent=t.consumeParenthesised.bind(null,c),t.parseAngle=l,t.mergeDimensions=o;var d=t.consumeParenthesised.bind(null,s),p=t.consumeRepeated.bind(void 0,d,/^/),u=t.consumeRepeated.bind(void 0,p,/^,/);t.consumeSizePairList=u;var h=function(t){var e=u(t);if(e&&""==e[1])return e[0]},f=t.mergeNestedRepeated.bind(void 0,r," "),m=t.mergeNestedRepeated.bind(void 0,f,",");t.mergeNonNegativeSizePair=f,t.addPropertiesHandler(h,m,["background-size"]),t.addPropertiesHandler(c,r,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),t.addPropertiesHandler(c,o,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","stroke-dashoffset","text-indent","top","vertical-align","word-spacing"])}(n),function(t,e){function i(e){return t.consumeLengthOrPercent(e)||t.consumeToken(/^auto/,e)}function n(e){var n=t.consumeList([t.ignore(t.consumeToken.bind(null,/^rect/)),t.ignore(t.consumeToken.bind(null,/^\(/)),t.consumeRepeated.bind(null,i,/^,/),t.ignore(t.consumeToken.bind(null,/^\)/))],e);if(n&&4==n[0].length)return n[0]}function r(e,i){return"auto"==e||"auto"==i?[!0,!1,function(n){var r=n?e:i;if("auto"==r)return"auto";var o=t.mergeDimensions(r,r);return o[2](o[0])}]:t.mergeDimensions(e,i)}function o(t){return"rect("+t+")"}var a=t.mergeWrappedNestedRepeated.bind(null,o,r,", ");t.parseBox=n,t.mergeBoxes=a,t.addPropertiesHandler(n,a,["clip"])}(n),function(t,e){function i(t){return function(e){var i=0;return t.map(function(t){return t===d?e[i++]:t})}}function n(t){return t}function r(e){if("none"==(e=e.toLowerCase().trim()))return[];for(var i,n=/\s*(\w+)\(([^)]*)\)/g,r=[],o=0;i=n.exec(e);){if(i.index!=o)return;o=i.index+i[0].length;var a=i[1],s=h[a];if(!s)return;var c=i[2].split(","),l=s[0];if(l.length<c.length)return;for(var d=[],f=0;f<l.length;f++){var m,g=c[f],b=l[f];if(void 0===(m=g?{A:function(e){return"0"==e.trim()?u:t.parseAngle(e)},N:t.parseNumber,T:t.parseLengthOrPercent,L:t.parseLength}[b.toUpperCase()](g):{a:u,n:d[0],t:p}[b]))return;d.push(m)}if(r.push({t:a,d:d}),n.lastIndex==e.length)return r}}function o(t){return t.toFixed(6).replace(".000000","")}function a(e,i){if(e.decompositionPair!==i){e.decompositionPair=i;var n=t.makeMatrixDecomposition(e)}if(i.decompositionPair!==e){i.decompositionPair=e;var r=t.makeMatrixDecomposition(i)}return null==n[0]||null==r[0]?[[!1],[!0],function(t){return t?i[0].d:e[0].d}]:(n[0].push(0),r[0].push(1),[n,r,function(e){var i=t.quat(n[0][3],r[0][3],e[5]);return t.composeMatrix(e[0],e[1],e[2],i,e[4]).map(o).join(",")}])}function s(t){return t.replace(/[xy]/,"")}function c(t){return t.replace(/(x|y|z|3d)?$/,"3d")}function l(e,i){var n=t.makeMatrixDecomposition&&!0,r=!1;if(!e.length||!i.length){e.length||(r=!0,e=i,i=[]);for(var o=0;o<e.length;o++){var l=e[o].t,d=e[o].d,p="scale"==l.substr(0,5)?1:0;i.push({t:l,d:d.map(function(t){if("number"==typeof t)return p;var e={};for(var i in t)e[i]=p;return e})})}}var u=function(t,e){return"perspective"==t&&"perspective"==e||("matrix"==t||"matrix3d"==t)&&("matrix"==e||"matrix3d"==e)},f=[],m=[],g=[];if(e.length!=i.length){if(!n)return;var b;f=[(b=a(e,i))[0]],m=[b[1]],g=[["matrix",[b[2]]]]}else for(var o=0;o<e.length;o++){var l,y=e[o].t,v=i[o].t,w=e[o].d,x=i[o].d,A=h[y],k=h[v];if(u(y,v)){if(!n)return;var b=a([e[o]],[i[o]]);f.push(b[0]),m.push(b[1]),g.push(["matrix",[b[2]]])}else{if(y==v)l=y;else if(A[2]&&k[2]&&s(y)==s(v))l=s(y),w=A[2](w),x=k[2](x);else{if(!A[1]||!k[1]||c(y)!=c(v)){if(!n)return;var b;f=[(b=a(e,i))[0]],m=[b[1]],g=[["matrix",[b[2]]]];break}l=c(y),w=A[1](w),x=k[1](x)}for(var E=[],S=[],I=[],T=0;T<w.length;T++){var C,b=("number"==typeof w[T]?t.mergeNumbers:t.mergeDimensions)(w[T],x[T]);E[T]=b[0],S[T]=b[1],I.push(b[2])}f.push(E),m.push(S),g.push([l,I])}}if(r){var M=f;f=m,m=M}return[f,m,function(t){return t.map(function(t,e){var i=t.map(function(t,i){return g[e][1][i](t)}).join(",");return"matrix"==g[e][0]&&16==i.split(",").length&&(g[e][0]="matrix3d"),g[e][0]+"("+i+")"}).join(" ")}]}var d=null,p={px:0},u={deg:0},h={matrix:["NNNNNN",[d,d,0,0,d,d,0,0,0,0,1,0,d,d,0,1],n],matrix3d:["NNNNNNNNNNNNNNNN",n],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",i([d,d,1]),n],scalex:["N",i([d,1,1]),i([d,1])],scaley:["N",i([1,d,1]),i([1,d])],scalez:["N",i([1,1,d])],scale3d:["NNN",n],skew:["Aa",null,n],skewx:["A",null,i([d,u])],skewy:["A",null,i([u,d])],translate:["Tt",i([d,d,p]),n],translatex:["T",i([d,p,p]),i([d,p])],translatey:["T",i([p,d,p]),i([p,d])],translatez:["L",i([p,p,d])],translate3d:["TTL",n]};t.addPropertiesHandler(r,l,["transform"]),t.transformToSvgMatrix=function(e){var i=t.transformListToMatrix(r(e));return"matrix("+o(i[0])+" "+o(i[1])+" "+o(i[4])+" "+o(i[5])+" "+o(i[12])+" "+o(i[13])+")"}}(n),function(t){function e(t){var e=Number(t);if(!(isNaN(e)||e<100||e>900||e%100!=0))return e}function i(e){return e=100*Math.round(e/100),400===(e=t.clamp(100,900,e))?"normal":700===e?"bold":String(e)}function n(t,e){return[t,e,i]}t.addPropertiesHandler(e,n,["font-weight"])}(n),function(t){function e(t){var e={};for(var i in t)e[i]=-t[i];return e}function i(e){return t.consumeToken(/^(left|center|right|top|bottom)\b/i,e)||t.consumeLengthOrPercent(e)}function n(e,n){var r=t.consumeRepeated(i,/^/,n);if(r&&""==r[1]){var o=r[0];if(o[0]=o[0]||"center",o[1]=o[1]||"center",3==e&&(o[2]=o[2]||{px:0}),o.length==e){if(/top|bottom/.test(o[0])||/left|right/.test(o[1])){var s=o[0];o[0]=o[1],o[1]=s}if(/left|right|center|Object/.test(o[0])&&/top|bottom|center|Object/.test(o[1]))return o.map(function(t){return"object"==typeof t?t:a[t]})}}}function r(n){var r=t.consumeRepeated(i,/^/,n);if(r){for(var o=r[0],s=[{"%":50},{"%":50}],c=0,l=!1,d=0;d<o.length;d++){var p=o[d];"string"==typeof p?(l=/bottom|right/.test(p),s[c={left:0,right:0,center:c,top:1,bottom:1}[p]]=a[p],"center"==p&&c++):(l&&((p=e(p))["%"]=(p["%"]||0)+100),s[c]=p,c++,l=!1)}return[s,r[1]]}}function o(e){var i=t.consumeRepeated(r,/^,/,e);if(i&&""==i[1])return i[0]}var a={left:{"%":0},center:{"%":50},right:{"%":100},top:{"%":0},bottom:{"%":100}},s=t.mergeNestedRepeated.bind(null,t.mergeDimensions," ");t.addPropertiesHandler(n.bind(null,3),s,["transform-origin"]),t.addPropertiesHandler(n.bind(null,2),s,["perspective-origin"]),t.consumePosition=r,t.mergeOffsetList=s;var c=t.mergeNestedRepeated.bind(null,s,", ");t.addPropertiesHandler(o,c,["background-position","object-position"])}(n),function(t){function e(e){var i=t.consumeToken(/^circle/,e);if(i&&i[0])return["circle"].concat(t.consumeList([t.ignore(t.consumeToken.bind(void 0,/^\(/)),n,t.ignore(t.consumeToken.bind(void 0,/^at/)),t.consumePosition,t.ignore(t.consumeToken.bind(void 0,/^\)/))],i[1]));var o=t.consumeToken(/^ellipse/,e);if(o&&o[0])return["ellipse"].concat(t.consumeList([t.ignore(t.consumeToken.bind(void 0,/^\(/)),r,t.ignore(t.consumeToken.bind(void 0,/^at/)),t.consumePosition,t.ignore(t.consumeToken.bind(void 0,/^\)/))],o[1]));var a=t.consumeToken(/^polygon/,e);return a&&a[0]?["polygon"].concat(t.consumeList([t.ignore(t.consumeToken.bind(void 0,/^\(/)),t.optional(t.consumeToken.bind(void 0,/^nonzero\s*,|^evenodd\s*,/),"nonzero,"),t.consumeSizePairList,t.ignore(t.consumeToken.bind(void 0,/^\)/))],a[1])):void 0}function i(e,i){if(e[0]===i[0])return"circle"==e[0]?t.mergeList(e.slice(1),i.slice(1),["circle(",t.mergeDimensions," at ",t.mergeOffsetList,")"]):"ellipse"==e[0]?t.mergeList(e.slice(1),i.slice(1),["ellipse(",t.mergeNonNegativeSizePair," at ",t.mergeOffsetList,")"]):"polygon"==e[0]&&e[1]==i[1]?t.mergeList(e.slice(2),i.slice(2),["polygon(",e[1],a,")"]):void 0}var n=t.consumeParenthesised.bind(null,t.parseLengthOrPercent),r=t.consumeRepeated.bind(void 0,n,/^/),o=t.mergeNestedRepeated.bind(void 0,t.mergeDimensions," "),a=t.mergeNestedRepeated.bind(void 0,o,",");t.addPropertiesHandler(e,i,["shape-outside"])}(n),function(t,e){function i(t,e){e.concat([t]).forEach(function(e){e in document.documentElement.style&&(n[t]=e),r[e]=t})}var n={},r={};i("transform",["webkitTransform","msTransform"]),i("transformOrigin",["webkitTransformOrigin"]),i("perspective",["webkitPerspective"]),i("perspectiveOrigin",["webkitPerspectiveOrigin"]),t.propertyName=function(t){return n[t]||t},t.unprefixedPropertyName=function(t){return r[t]||t}}(n)}(),function(){if(void 0===document.createElement("div").animate([]).oncancel){var t;if(window.performance&&performance.now)var t=function(){return performance.now()};else var t=function(){return Date.now()};var e=function(t,e,i){this.target=t,this.currentTime=e,this.timelineTime=i,this.type="cancel",this.bubbles=!1,this.cancelable=!1,this.currentTarget=t,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()},i=window.Element.prototype.animate;window.Element.prototype.animate=function(n,r){var o=i.call(this,n,r);o._cancelHandlers=[],o.oncancel=null;var a=o.cancel;o.cancel=function(){a.call(this);var i=new e(this,null,t()),n=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout(function(){n.forEach(function(t){t.call(i.target,i)})},0)};var s=o.addEventListener;o.addEventListener=function(t,e){"function"==typeof e&&"cancel"==t?this._cancelHandlers.push(e):s.call(this,t,e)};var c=o.removeEventListener;return o.removeEventListener=function(t,e){if("cancel"==t){var i=this._cancelHandlers.indexOf(e);i>=0&&this._cancelHandlers.splice(i,1)}else c.call(this,t,e)},o}}}(),function(t){var e=document.documentElement,i=null,n=!1;try{var r,o="0"==getComputedStyle(e).getPropertyValue("opacity")?"1":"0";(i=e.animate({opacity:[o,o]},{duration:1})).currentTime=0,n=getComputedStyle(e).getPropertyValue("opacity")==o}catch(t){}finally{i&&i.cancel()}if(!n){var a=window.Element.prototype.animate;window.Element.prototype.animate=function(e,i){return window.Symbol&&Symbol.iterator&&Array.prototype.from&&e[Symbol.iterator]&&(e=Array.from(e)),Array.isArray(e)||null===e||(e=t.convertToArrayForm(e)),a.call(this,e,i)}}}(i),e.true=t}),define("mip-story/mip-story",["require","customElement","./mip-story-view","./mip-story-layer","./mip-story-config","./audio","./mip-story-share","./mip-story-hint","./mip-story-bookend","./animate-preset","util","./mip-progress","viewport","viewer","zepto","./mip-story-service","./mip-story-util","./mip-story-state","./web-animation"],function(t){"use strict";function e(t){this.element=t,this.win=window,this.storyViews=[],this.storyContain=[]}function i(t){var e=document,i=e.createElement("script");i.src=t,(e.body||e.documentElement).appendChild(i)}var n=t("customElement").create();t("./mip-story-view"),t("./mip-story-layer");var r,o,a=t("./mip-story-config").MIP_I_STORY_STANDALONE,s=t("./audio"),c=t("./mip-story-share"),l=t("./mip-story-hint"),d=t("./mip-story-bookend"),p=(t("./animate-preset"),t("util")),u=p.platform,h=p.dom,f=(p.EventEmitter,p.Gesture,t("./mip-progress")),m=(t("viewport"),t("viewer")),g=(t("zepto"),t("./mip-story-service")),b=t("./mip-story-util").isCssColor;return e.prototype.getConfigData=function(){var t=this.element.querySelector('mip-story > script[type="application/json"]');try{return JSON.parse(t.innerText)}catch(t){console.error(t)}return{}},e.prototype.initAudio=function(){var t=this.element.getAttribute("background-audio");t&&(this.audio=(new s).build(this.element,t)),this.muted=!1,this.viewMuted=!(!this.muted&&!this.audio)},e.prototype.initBookend=function(t){this.bookEnd=new d(t);var e=h.create(this.bookEnd.build());this.element.appendChild(e)},e.prototype.initStoryViews=function(){this.storyViews=this.element.querySelectorAll("mip-story-view")},e.prototype.initStoryContain=function(){this.bookEndContainer=document.querySelector(".mip-backend");for(var t=0;t<this.storyViews.length;t++)this.storyContain.push(this.storyViews[t].customElement.element);this.storyContain.push(this.bookEndContainer)},e.prototype.initHintLayer=function(t){this.hint=new l(t);var e=h.create(this.hint.build());this.element.appendChild(e)},e.prototype.initShare=function(t,e){var i=t.share||{};this.share=new c(i,e);var n=h.create(this.share.build());this.element.appendChild(n)},e.prototype.initService=function(){(r=new g(this)).build()},e.prototype.initProgress=function(e){if(!this.progress){var i=this.element.hasAttribute("audio-hide");this.progress=new f(this.element,this.storyViews,i,e);var n=h.create(this.progress.build());this.element.appendChild(n);var r=t("./mip-story-state"),o=r.currentPageIndex;this.pageStateIndex=r.getPageStateIndex(this.storyViews.length),this.preloadPages=r.getPreloadIndex(this.storyViews.length),this.initPreload();for(var a=0;a<=o;a++)this.progress.updateProgress(a,1);var s=this.element.querySelector(".mip-story-system-layer");m.isIframed&&this.getConfigData().xzh_info&&this.progress.setXzhInfo().then(function(t){var e=h.create(t);try{s.appendChild(e)}catch(t){}})}},e.prototype.setSubjectColor=function(){var t=this.element.getAttribute("background")||"";t&&b(t)&&(this.element.style.backgroundColor=t)},e.prototype.insertScript=function(){i("https://c.mipcdn.com/static/v1/mip-fixed/mip-fixed.js")},e.prototype.resolveSwipe=function(){for(var t=0;t<this.storyViews.length;t++)this.storyViews[t].addEventListener("touchmove",function(t){t.preventDefault()},{passive:!1});var e=navigator.userAgent.toLowerCase().indexOf("searchcraft");u.isBaiduApp()||u.isQQApp()||e||this.element.querySelector(".mip-backend").addEventListener("touchmove",function(t){t.preventDefault()},{passive:!1}),this.element.querySelector(".recommend-wrap").addEventListener("touchmove",function(t){t.stopPropagation()},{passive:!0})},e.prototype.initPreload=function(){for(var t=this.storyViews,e=this.preloadPages,i=0;i<e.length;i++)t[e[i]].setAttribute("preload","")},e.prototype.init=function(){var t=this.element,e=this.win.document.documentElement,i=this.getConfigData();this.insertScript(),this.setSubjectColor(),e.setAttribute("id",a),this.initAudio(),this.initBookend(i),this.initStoryViews(),this.initStoryContain(),this.initHintLayer(t),this.initShare(i,t),this.initProgress(i),this.initService(),this.resolveSwipe()},n.prototype.firstInviewCallback=function(){var i=new e(this.element);t("./web-animation"),i.init()},n}),define("mip-story",["mip-story/mip-story"],function(t){return t}),function(){function t(t,e){t.registerMipElement("mip-story",e,"@charset \"UTF-8\";/*!\n * animate.css -http://daneden.me/animate\n * Version - 3.5.2\n * Licensed under the MIT license - http://opensource.org/licenses/MIT\n *\n * Copyright (c) 2017 Daniel Eden\n */.animated{animation-duration:1s;animation-fill-mode:both}.animated.infinite{animation-iteration-count:infinite}.animated.hinge{animation-duration:2s}.animated.bounceIn,.animated.bounceOut,.animated.flipOutX,.animated.flipOutY{animation-duration:.75s}@keyframes bounce{0%,20%,53%,80%,to{animation-timing-function:cubic-bezier(.215, .61, .355, 1);transform:translateZ(0)}40%,43%{animation-timing-function:cubic-bezier(.755, .05, .855, .06);transform:translate3d(0, -30px, 0)}70%{animation-timing-function:cubic-bezier(.755, .05, .855, .06);transform:translate3d(0, -15px, 0)}90%{transform:translate3d(0, -4px, 0)}}.bounce{animation-name:bounce;transform-origin:center bottom}@keyframes flash{0%,50%,to{opacity:1}25%,75%{opacity:0}}.flash{animation-name:flash}@keyframes pulse{0%{transform:scaleX(1)}50%{transform:scale3d(1.05, 1.05, 1.05)}to{transform:scaleX(1)}}.pulse{animation-name:pulse}@keyframes rubberBand{0%{transform:scaleX(1)}30%{transform:scale3d(1.25, .75, 1)}40%{transform:scale3d(.75, 1.25, 1)}50%{transform:scale3d(1.15, .85, 1)}65%{transform:scale3d(.95, 1.05, 1)}75%{transform:scale3d(1.05, .95, 1)}to{transform:scaleX(1)}}.rubberBand{animation-name:rubberBand}@keyframes shake{0%,to{transform:translateZ(0)}10%,30%,50%,70%,90%{transform:translate3d(-10px, 0, 0)}20%,40%,60%,80%{transform:translate3d(10px, 0, 0)}}.shake{animation-name:shake}@keyframes headShake{0%{transform:translateX(0)}6.5%{transform:translateX(-6px) rotateY(-9deg)}18.5%{transform:translateX(5px) rotateY(7deg)}31.5%{transform:translateX(-3px) rotateY(-5deg)}43.5%{transform:translateX(2px) rotateY(3deg)}50%{transform:translateX(0)}}.headShake{animation-timing-function:ease-in-out;animation-name:headShake}@keyframes swing{20%{transform:rotate(15deg)}40%{transform:rotate(-10deg)}60%{transform:rotate(5deg)}80%{transform:rotate(-5deg)}to{transform:rotate(0)}}.swing{transform-origin:top center;animation-name:swing}@keyframes tada{0%{transform:scaleX(1)}10%,20%{transform:scale3d(.9, .9, .9) rotate(-3deg)}30%,50%,70%,90%{transform:scale3d(1.1, 1.1, 1.1) rotate(3deg)}40%,60%,80%{transform:scale3d(1.1, 1.1, 1.1) rotate(-3deg)}to{transform:scaleX(1)}}.tada{animation-name:tada}@keyframes wobble{0%{transform:none}15%{transform:translate3d(-25%, 0, 0) rotate(-5deg)}30%{transform:translate3d(20%, 0, 0) rotate(3deg)}45%{transform:translate3d(-15%, 0, 0) rotate(-3deg)}60%{transform:translate3d(10%, 0, 0) rotate(2deg)}75%{transform:translate3d(-5%, 0, 0) rotate(-1deg)}to{transform:none}}.wobble{animation-name:wobble}@keyframes jello{0%,11.1%,to{transform:none}22.2%{transform:skewX(-12.5deg) skewY(-12.5deg)}33.3%{transform:skewX(6.25deg) skewY(6.25deg)}44.4%{transform:skewX(-3.125deg) skewY(-3.125deg)}55.5%{transform:skewX(1.5625deg) skewY(1.5625deg)}66.6%{transform:skewX(-0.78125deg) skewY(-0.78125deg)}77.7%{transform:skewX(.390625deg) skewY(.390625deg)}88.8%{transform:skewX(-0.1953125deg) skewY(-0.1953125deg)}}.jello{animation-name:jello;transform-origin:center}@keyframes bounceIn{0%,20%,40%,60%,80%,to{animation-timing-function:cubic-bezier(.215, .61, .355, 1)}0%{opacity:0;transform:scale3d(.3, .3, .3)}20%{transform:scale3d(1.1, 1.1, 1.1)}40%{transform:scale3d(.9, .9, .9)}60%{opacity:1;transform:scale3d(1.03, 1.03, 1.03)}80%{transform:scale3d(.97, .97, .97)}to{opacity:1;transform:scaleX(1)}}.bounceIn{animation-name:bounceIn}@keyframes bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215, .61, .355, 1)}0%{opacity:0;transform:translate3d(0, -3000px, 0)}60%{opacity:1;transform:translate3d(0, 25px, 0)}75%{transform:translate3d(0, -10px, 0)}90%{transform:translate3d(0, 5px, 0)}to{transform:none}}.bounceInDown{animation-name:bounceInDown}@keyframes bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215, .61, .355, 1)}0%{opacity:0;transform:translate3d(-3000px, 0, 0)}60%{opacity:1;transform:translate3d(25px, 0, 0)}75%{transform:translate3d(-10px, 0, 0)}90%{transform:translate3d(5px, 0, 0)}to{transform:none}}.bounceInLeft{animation-name:bounceInLeft}@keyframes bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215, .61, .355, 1)}0%{opacity:0;transform:translate3d(3000px, 0, 0)}60%{opacity:1;transform:translate3d(-25px, 0, 0)}75%{transform:translate3d(10px, 0, 0)}90%{transform:translate3d(-5px, 0, 0)}to{transform:none}}.bounceInRight{animation-name:bounceInRight}@keyframes bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215, .61, .355, 1)}0%{opacity:0;transform:translate3d(0, 3000px, 0)}60%{opacity:1;transform:translate3d(0, -20px, 0)}75%{transform:translate3d(0, 10px, 0)}90%{transform:translate3d(0, -5px, 0)}to{transform:translateZ(0)}}.bounceInUp{animation-name:bounceInUp}@keyframes bounceOut{20%{transform:scale3d(.9, .9, .9)}50%,55%{opacity:1;transform:scale3d(1.1, 1.1, 1.1)}to{opacity:0;transform:scale3d(.3, .3, .3)}}.bounceOut{animation-name:bounceOut}@keyframes bounceOutDown{20%{transform:translate3d(0, 10px, 0)}40%,45%{opacity:1;transform:translate3d(0, -20px, 0)}to{opacity:0;transform:translate3d(0, 2000px, 0)}}.bounceOutDown{animation-name:bounceOutDown}@keyframes bounceOutLeft{20%{opacity:1;transform:translate3d(20px, 0, 0)}to{opacity:0;transform:translate3d(-2000px, 0, 0)}}.bounceOutLeft{animation-name:bounceOutLeft}@keyframes bounceOutRight{20%{opacity:1;transform:translate3d(-20px, 0, 0)}to{opacity:0;transform:translate3d(2000px, 0, 0)}}.bounceOutRight{animation-name:bounceOutRight}@keyframes bounceOutUp{20%{transform:translate3d(0, -10px, 0)}40%,45%{opacity:1;transform:translate3d(0, 20px, 0)}to{opacity:0;transform:translate3d(0, -2000px, 0)}}.bounceOutUp{animation-name:bounceOutUp}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn{animation-name:fadeIn}@keyframes fadeInDown{0%{opacity:0;transform:translate3d(0, -100%, 0)}to{opacity:1;transform:none}}.fadeInDown{animation-name:fadeInDown}@keyframes fadeInDownBig{0%{opacity:0;transform:translate3d(0, -2000px, 0)}to{opacity:1;transform:none}}.fadeInDownBig{animation-name:fadeInDownBig}@keyframes fadeInLeft{0%{opacity:0;transform:translate3d(-100%, 0, 0)}to{opacity:1;transform:none}}.fadeInLeft{animation-name:fadeInLeft}@keyframes fadeInLeftBig{0%{opacity:0;transform:translate3d(-2000px, 0, 0)}to{opacity:1;transform:none}}.fadeInLeftBig{animation-name:fadeInLeftBig}@keyframes fadeInRight{0%{opacity:0;transform:translate3d(100%, 0, 0)}to{opacity:1;transform:none}}.fadeInRight{animation-name:fadeInRight}@keyframes fadeInRightBig{0%{opacity:0;transform:translate3d(2000px, 0, 0)}to{opacity:1;transform:none}}.fadeInRightBig{animation-name:fadeInRightBig}@keyframes fadeInUp{0%{opacity:0;transform:translate3d(0, 100%, 0)}to{opacity:1;transform:none}}.fadeInUp{animation-name:fadeInUp}@keyframes fadeInUpBig{0%{opacity:0;transform:translate3d(0, 2000px, 0)}to{opacity:1;transform:none}}.fadeInUpBig{animation-name:fadeInUpBig}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.fadeOut{animation-name:fadeOut}@keyframes fadeOutDown{0%{opacity:1}to{opacity:0;transform:translate3d(0, 100%, 0)}}.fadeOutDown{animation-name:fadeOutDown}@keyframes fadeOutDownBig{0%{opacity:1}to{opacity:0;transform:translate3d(0, 2000px, 0)}}.fadeOutDownBig{animation-name:fadeOutDownBig}@keyframes fadeOutLeft{0%{opacity:1}to{opacity:0;transform:translate3d(-100%, 0, 0)}}.fadeOutLeft{animation-name:fadeOutLeft}@keyframes fadeOutLeftBig{0%{opacity:1}to{opacity:0;transform:translate3d(-2000px, 0, 0)}}.fadeOutLeftBig{animation-name:fadeOutLeftBig}@keyframes fadeOutRight{0%{opacity:1}to{opacity:0;transform:translate3d(100%, 0, 0)}}.fadeOutRight{animation-name:fadeOutRight}@keyframes fadeOutRightBig{0%{opacity:1}to{opacity:0;transform:translate3d(2000px, 0, 0)}}.fadeOutRightBig{animation-name:fadeOutRightBig}@keyframes fadeOutUp{0%{opacity:1}to{opacity:0;transform:translate3d(0, -100%, 0)}}.fadeOutUp{animation-name:fadeOutUp}@keyframes fadeOutUpBig{0%{opacity:1}to{opacity:0;transform:translate3d(0, -2000px, 0)}}.fadeOutUpBig{animation-name:fadeOutUpBig}@keyframes flip{0%{transform:perspective(400px) rotateY(-1turn);animation-timing-function:ease-out}40%{transform:perspective(400px) translateZ(150px) rotateY(-190deg);animation-timing-function:ease-out}50%{transform:perspective(400px) translateZ(150px) rotateY(-170deg);animation-timing-function:ease-in}80%{transform:perspective(400px) scale3d(.95, .95, .95);animation-timing-function:ease-in}to{transform:perspective(400px);animation-timing-function:ease-in}}.animated.flip{-webkit-backface-visibility:visible;backface-visibility:visible;animation-name:flip}@keyframes flipInX{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}.flipInX{-webkit-backface-visibility:visible !important;backface-visibility:visible !important;animation-name:flipInX}@keyframes flipInY{0%{transform:perspective(400px) rotateY(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateY(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateY(10deg);opacity:1}80%{transform:perspective(400px) rotateY(-5deg)}to{transform:perspective(400px)}}.flipInY{-webkit-backface-visibility:visible !important;backface-visibility:visible !important;animation-name:flipInY}@keyframes flipOutX{0%{transform:perspective(400px)}30%{transform:perspective(400px) rotateX(-20deg);opacity:1}to{transform:perspective(400px) rotateX(90deg);opacity:0}}.flipOutX{animation-name:flipOutX;-webkit-backface-visibility:visible !important;backface-visibility:visible !important}@keyframes flipOutY{0%{transform:perspective(400px)}30%{transform:perspective(400px) rotateY(-15deg);opacity:1}to{transform:perspective(400px) rotateY(90deg);opacity:0}}.flipOutY{-webkit-backface-visibility:visible !important;backface-visibility:visible !important;animation-name:flipOutY}@keyframes lightSpeedIn{0%{transform:translate3d(100%, 0, 0) skewX(-30deg);opacity:0}60%{transform:skewX(20deg);opacity:1}80%{transform:skewX(-5deg);opacity:1}to{transform:none;opacity:1}}.lightSpeedIn{animation-name:lightSpeedIn;animation-timing-function:ease-out}@keyframes lightSpeedOut{0%{opacity:1}to{transform:translate3d(100%, 0, 0) skewX(30deg);opacity:0}}.lightSpeedOut{animation-name:lightSpeedOut;animation-timing-function:ease-in}@keyframes rotateIn{0%{transform-origin:center;transform:rotate(-200deg);opacity:0}to{transform-origin:center;transform:none;opacity:1}}.rotateIn{animation-name:rotateIn}@keyframes rotateInDownLeft{0%{transform-origin:left bottom;transform:rotate(-45deg);opacity:0}to{transform-origin:left bottom;transform:none;opacity:1}}.rotateInDownLeft{animation-name:rotateInDownLeft}@keyframes rotateInDownRight{0%{transform-origin:right bottom;transform:rotate(45deg);opacity:0}to{transform-origin:right bottom;transform:none;opacity:1}}.rotateInDownRight{animation-name:rotateInDownRight}@keyframes rotateInUpLeft{0%{transform-origin:left bottom;transform:rotate(45deg);opacity:0}to{transform-origin:left bottom;transform:none;opacity:1}}.rotateInUpLeft{animation-name:rotateInUpLeft}@keyframes rotateInUpRight{0%{transform-origin:right bottom;transform:rotate(-90deg);opacity:0}to{transform-origin:right bottom;transform:none;opacity:1}}.rotateInUpRight{animation-name:rotateInUpRight}@keyframes rotateOut{0%{transform-origin:center;opacity:1}to{transform-origin:center;transform:rotate(200deg);opacity:0}}.rotateOut{animation-name:rotateOut}@keyframes rotateOutDownLeft{0%{transform-origin:left bottom;opacity:1}to{transform-origin:left bottom;transform:rotate(45deg);opacity:0}}.rotateOutDownLeft{animation-name:rotateOutDownLeft}@keyframes rotateOutDownRight{0%{transform-origin:right bottom;opacity:1}to{transform-origin:right bottom;transform:rotate(-45deg);opacity:0}}.rotateOutDownRight{animation-name:rotateOutDownRight}@keyframes rotateOutUpLeft{0%{transform-origin:left bottom;opacity:1}to{transform-origin:left bottom;transform:rotate(-45deg);opacity:0}}.rotateOutUpLeft{animation-name:rotateOutUpLeft}@keyframes rotateOutUpRight{0%{transform-origin:right bottom;opacity:1}to{transform-origin:right bottom;transform:rotate(90deg);opacity:0}}.rotateOutUpRight{animation-name:rotateOutUpRight}@keyframes hinge{0%{transform-origin:top left;animation-timing-function:ease-in-out}20%,60%{transform:rotate(80deg);transform-origin:top left;animation-timing-function:ease-in-out}40%,80%{transform:rotate(60deg);transform-origin:top left;animation-timing-function:ease-in-out;opacity:1}to{transform:translate3d(0, 700px, 0);opacity:0}}.hinge{animation-name:hinge}@keyframes jackInTheBox{0%{opacity:0;transform:scale(.1) rotate(30deg);transform-origin:center bottom}50%{transform:rotate(-10deg)}70%{transform:rotate(3deg)}to{opacity:1;transform:scale(1)}}.jackInTheBox{animation-name:jackInTheBox}@keyframes rollIn{0%{opacity:0;transform:translate3d(-100%, 0, 0) rotate(-120deg)}to{opacity:1;transform:none}}.rollIn{animation-name:rollIn}@keyframes rollOut{0%{opacity:1}to{opacity:0;transform:translate3d(100%, 0, 0) rotate(120deg)}}.rollOut{animation-name:rollOut}@keyframes zoomIn{0%{opacity:0;transform:scale3d(.3, .3, .3)}50%{opacity:1}}.zoomIn{animation-name:zoomIn}@keyframes zoomInDown{0%{opacity:0;transform:scale3d(.1, .1, .1) translate3d(0, -1000px, 0);animation-timing-function:cubic-bezier(.55, .055, .675, .19)}60%{opacity:1;transform:scale3d(.475, .475, .475) translate3d(0, 60px, 0);animation-timing-function:cubic-bezier(.175, .885, .32, 1)}}.zoomInDown{animation-name:zoomInDown}@keyframes zoomInLeft{0%{opacity:0;transform:scale3d(.1, .1, .1) translate3d(-1000px, 0, 0);animation-timing-function:cubic-bezier(.55, .055, .675, .19)}60%{opacity:1;transform:scale3d(.475, .475, .475) translate3d(10px, 0, 0);animation-timing-function:cubic-bezier(.175, .885, .32, 1)}}.zoomInLeft{animation-name:zoomInLeft}@keyframes zoomInRight{0%{opacity:0;transform:scale3d(.1, .1, .1) translate3d(1000px, 0, 0);animation-timing-function:cubic-bezier(.55, .055, .675, .19)}60%{opacity:1;transform:scale3d(.475, .475, .475) translate3d(-10px, 0, 0);animation-timing-function:cubic-bezier(.175, .885, .32, 1)}}.zoomInRight{animation-name:zoomInRight}@keyframes zoomInUp{0%{opacity:0;transform:scale3d(.1, .1, .1) translate3d(0, 1000px, 0);animation-timing-function:cubic-bezier(.55, .055, .675, .19)}60%{opacity:1;transform:scale3d(.475, .475, .475) translate3d(0, -60px, 0);animation-timing-function:cubic-bezier(.175, .885, .32, 1)}}.zoomInUp{animation-name:zoomInUp}@keyframes zoomOut{0%{opacity:1}50%{opacity:0;transform:scale3d(.3, .3, .3)}to{opacity:0}}.zoomOut{animation-name:zoomOut}@keyframes zoomOutDown{40%{opacity:1;transform:scale3d(.475, .475, .475) translate3d(0, -60px, 0);animation-timing-function:cubic-bezier(.55, .055, .675, .19)}to{opacity:0;transform:scale3d(.1, .1, .1) translate3d(0, 2000px, 0);transform-origin:center bottom;animation-timing-function:cubic-bezier(.175, .885, .32, 1)}}.zoomOutDown{animation-name:zoomOutDown}@keyframes zoomOutLeft{40%{opacity:1;transform:scale3d(.475, .475, .475) translate3d(42px, 0, 0)}to{opacity:0;transform:scale(.1) translate3d(-2000px, 0, 0);transform-origin:left center}}.zoomOutLeft{animation-name:zoomOutLeft}@keyframes zoomOutRight{40%{opacity:1;transform:scale3d(.475, .475, .475) translate3d(-42px, 0, 0)}to{opacity:0;transform:scale(.1) translate3d(2000px, 0, 0);transform-origin:right center}}.zoomOutRight{animation-name:zoomOutRight}@keyframes zoomOutUp{40%{opacity:1;transform:scale3d(.475, .475, .475) translate3d(0, 60px, 0);animation-timing-function:cubic-bezier(.55, .055, .675, .19)}to{opacity:0;transform:scale3d(.1, .1, .1) translate3d(0, -2000px, 0);transform-origin:center bottom;animation-timing-function:cubic-bezier(.175, .885, .32, 1)}}.zoomOutUp{animation-name:zoomOutUp}@keyframes slideInDown{0%{transform:translate3d(0, -100%, 0);visibility:visible}to{transform:translateZ(0)}}.slideInDown{animation-name:slideInDown}@keyframes slideInLeft{0%{transform:translate3d(-100%, 0, 0);visibility:visible}to{transform:translateZ(0)}}.slideInLeft{animation-name:slideInLeft}@keyframes slideInRight{0%{transform:translate3d(100%, 0, 0);visibility:visible}to{transform:translateZ(0)}}.slideInRight{animation-name:slideInRight}@keyframes slideInUp{0%{transform:translate3d(0, 100%, 0);visibility:visible}to{transform:translateZ(0)}}.slideInUp{animation-name:slideInUp}@keyframes slideOutDown{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(0, 100%, 0)}}.slideOutDown{animation-name:slideOutDown}@keyframes slideOutLeft{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(-100%, 0, 0)}}.slideOutLeft{animation-name:slideOutLeft}@keyframes slideOutRight{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(100%, 0, 0)}}.slideOutRight{animation-name:slideOutRight}@keyframes slideOutUp{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(0, -100%, 0)}}.slideOutUp{animation-name:slideOutUp}html#mip-i-story-standalone,html#mip-i-story-standalone body{width:100% !important;height:100% !important;margin:0 !important;padding:0 !important;cursor:auto !important}mip-story{position:relative !important;display:block;overflow:auto;-webkit-overflow-scrolling:touch;width:100% !important;height:100% !important;background:#000;overflow-scrolling:touch;-webkit-tap-highlight-color:transparent;tap-highlight-color:transparent}mip-story.mip-story-pc{user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:default}mip-story.mip-story-pc mip-story-view::after{content:'';display:block;width:100%;height:100%;position:absolute;left:0;top:0}mip-story.mip-story-pc .mip-story-close{display:none}mip-story,mip-story-view,mip-story-layer{overflow:hidden !important}mip-story-view{position:absolute !important;top:0 !important;right:0 !important;bottom:0 !important;left:0 !important;display:none !important;height:auto !important}mip-story-view[active]{display:block !important;will-change:transform}mip-story-view[current]{display:block !important;will-change:transform}mip-story-layer{position:absolute !important;top:0 !important;right:0 !important;bottom:0 !important;left:0 !important;overflow:hidden !important;padding:68px 32px 32px !important}mip-story-layer[template=cover]{box-sizing:border-box}mip-story-layer *{box-sizing:border-box;margin:0}.mip-story-system-layer{display:block !important;position:absolute;z-index:100000;top:0;right:0;left:0;padding:0 0 72px 0;background:-webkit-linear-gradient(top, #000, transparent);background:linear-gradient(top, #000, transparent)}.mip-story-progress{overflow:hidden}.mip-story-system-layer .control{width:50%;height:24px;position:absolute;top:20px;right:17px}.mip-story-system-layer span{width:24px;height:24px;float:right;margin-left:20px;background-repeat:no-repeat;background-position:center center;background-size:24px 24px}.mip-story-close{display:block;opacity:1;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEQyQzc4MzE2N0NFMTFFODk1NUVCQ0Q3REIxMTdDRjMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEQyQzc4MzI2N0NFMTFFODk1NUVCQ0Q3REIxMTdDRjMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4NDAzQjA3ODY3QzExMUU4OTU1RUJDRDdEQjExN0NGMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4RDJDNzgzMDY3Q0UxMUU4OTU1RUJDRDdEQjExN0NGMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqdVduYAAAF5SURBVHja7NxJDoMgFIDh2mu6c8fpPQId4sI0WkDeRPu/hJ1h+GKRsVPO+Uacxx0CgAACCCCAAAIIIOIwXiPpUtqem59p3dIyYDuXXf3nmna/21754LRlvI80EE76qPtqATQE0gGOPNDuFc0jIZ3g5K0tskCFAtNAOKm2720GGgWppo5qQNGRauumChQVqaVO6kDRkFrrYgIUBelKHcyAvJGulm0K5IXUU6Y5kDVSb1kuQFZIEmW4AWkjSeXtCqSFJJmnO5BCg0TBQwAJ9hcab2MMIIHPsUp/FgqoY7Sr2dnHArowmVQdLoQEalirsRhLxQQqAViNxkMDFZCspiqxgRqQklLZ8YEqkDRXAqoSW88SkvzE6KT5zDNQZKrx41MNJqssd7BgxpIri/Zs+8QHYuPQGUeqLA4vRALi+EtQnM5ROkfwXI/gcYiTY8AcJOcqguVVBC6zcB2KC3Xa98X+8krmxL+/fA+2ngECCCCAAAIIIICIw3gIMAC6gmoP9K42PAAAAABJRU5ErkJggg==')}.mip-story-close:active{opacity:.6}.mip-story-shares{background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEQyQzc4MzU2N0NFMTFFODk1NUVCQ0Q3REIxMTdDRjMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEQyQzc4MzY2N0NFMTFFODk1NUVCQ0Q3REIxMTdDRjMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4RDJDNzgzMzY3Q0UxMUU4OTU1RUJDRDdEQjExN0NGMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4RDJDNzgzNDY3Q0UxMUU4OTU1RUJDRDdEQjExN0NGMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhAGK/EAAAS5SURBVHja7JtLbE1BGMePlnpdlWi6IPVIqEelLDxi4bWSYlVVYUEiqUclSCSEhQWxEmyQIISKRARdEIJVPRISRZC4goVHxatNxCNX0F7/L/1u3Ezm9LxmzuN2vuSXdM65Z843/858Z+Y7Z/pks1nLmL0VGQmMQEYgI5ARyAhkBDIC9VLrG8E9i8F0MA9UgQlgDEgxHWAjOBsHgfqENJMmURaAVWARKHX4fQYMBX8KvQdRj2gA28BwD9f1ByU2AtHxqWCwD3/+gifgm+srqAdpoAisB+1Zf7bTpt5S8DgbzDpAldu26OhB1eA4mOnwu/fgFkiDF+AL+AHego821ywEUwL6NwysA5ujGGI0nA6CATbnX4ImcJ5F8WpfFfk5NOwYREH4EFhvc/4e2AWu06gOcJ8bYC9YCQa5iGMDArdMQbwpARdsxnsbqNcU53qiArzqIQ6dCisGFfN8ZYnk3Dmw1tMTQ41VgBYwNg4z6cMScbrAJrA8RuL8iUKgBn4aiI4s40BtxUScy/xUDVWgaokIXdxrLsZMnKXgd5gC0TUnJE8Imlc0F5I4fgWiwDtDEpAPFZo4fgSitdUe4Vgbi1Zw4vgRaA0oE45tidHTSqk4XgWiOdNW4dhdXjYUpDheBVogSVnsLmRxvAq0UijTYvNaQsTpFFdYqgXqy5nAfGtKUM95KJQfq16szpIs+CojXnhe4oWymzootbwDtIB9Hq5zLdA2wbl3CRInEG6H2GShfLMQA3KQGDRRKD/vDeJ4EWi0JHWaVHEGgn6qBUoJ5c+axBmhWZztPOun3PYKlU8x0WZoCopHNQbkcqHedpVBOixLaYw5Y4Rymcoh9tOhIapsH/jEf19UHJBTDm2ynSG7MXqhl/+qt1yTQI84DqU0ZAjKJW1S1oPeCOXxGodZl6b0yXiHNgUS6LnDvCgJ5msu51agtFCem0CB5jq0KZBALUJ5JKhMkDiV7HNPbQokUKskqNUnSKB6SYBuVSkQfXh01SGBFmcTfb3KbVKaUWySBL2aBIhTIwnQrpN9Xr5RpDkTfdyUn5e+A+bEXKDbYHZe+QMYpaMHUYX7hWN047oYi1MniGNxG/7q6EG56fprYR1DLw4nuZ2ZhryuS3P6JGcdvCZz7avXxSpVvFOSvzkSw95zRBDHYt+9/SN9fsHaKklLNEbwJZkdjRL/Wtl3T3X5daAaZAQHOkFtDMSpZV/yLcM+W2EJRDRI/ku/Ihapln0QrcFvnUEdOiZxpjOi4dYo6TlZ9tGKSqBi0GzzJekZkApBmBTfS2bN7GNkAuU+A7YTiV4w1mkUp47vYSdO4Fy2KkeLbYZbzm6BGoXC1HCddnYsaM9RLVCOtZKnW76l+R35OB91j+Nr0z3Un2EflLVJx34x+gL2JJjmIo1La7lnVveLSNrM8p3PDeEcMuVxqni5MNqhvgdgNXiqtDUat0NtCLAdyou1872KdLRF945DWg/RBpctlrcNdW6MVuUHeEmhbR0Y1pZMehee25K52PK3WzD3LusKOG117/zRvmUzLIHEvBJ9Zz2fswATrf+begfybzLcK17z24c055Dve0lVJFWgRJnZN28EMgIZgYxARiAjkBGot9o/AQYASDRwsINjlt4AAAAASUVORK5CYII=')}.icon-wrap{position:absolute;left:17px;top:14px;height:35px}.icon-wrap .icon,.icon-wrap .icon-name,.icon-wrap .icon-type{display:inline-block;vertical-align:middle}.icon-wrap .icon{width:35px;height:35px;border-radius:50%;-webkit-border-radius:50%;overflow:hidden}.icon-wrap .icon-name{font-size:16px;color:#ffffff;margin-left:8px;margin-right:6px}.icon-wrap .icon-type{position:relative;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;vertical-align:middle;text-align:center;height:10px;line-height:11px;font-size:10px;color:#ffffff;border:1px solid rgba(255,255,255,0.5);border-radius:2px;-webkit-border-radius:2px;padding:1px 2px;font-family:Arial,Helvetica,sans-serif}.mip-stoy-audio{background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzJDNkRCQTI2N0NGMTFFODk1NUVCQ0Q3REIxMTdDRjMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzJDNkRCQTM2N0NGMTFFODk1NUVCQ0Q3REIxMTdDRjMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozMkM2REJBMDY3Q0YxMUU4OTU1RUJDRDdEQjExN0NGMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozMkM2REJBMTY3Q0YxMUU4OTU1RUJDRDdEQjExN0NGMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvfuaLwAAAS1SURBVHja7JtpSFRRFMdnzMo2rQyzrKD8IkRku5EY2p5Y2IJlUEErJQkV0Yc2UDCiKIiiD1F9KFok+iJFtBJFRUEpVFC4lAu2WZa22/S/cAceh/Nm3rx5b+bZuwd+H+6b85b5z33n3nvOHa/P5/Mo0zevEkgJpARSAimBlEBKICWQEkgZZzEOepZscAV8BW/BSTBY9SCPpws4CIrE85DPGkAGaHSrQL3BBTAngM9ZUOhGgVJABUgP4vcd9HRbDBoNHjDiNMhYpLUebotB4nU6D/qQ409BLmgC9KG8bhFoPTgMYsnxy6AAtMm2YwTyCIEiQAzY5+PtCOhC/KkZucccUA/egzVWPXskxOkBypkv3QE265xjRqA6cs5e4HW6QEngPvOFv4H8AOeZEaiaOe+QkwVK03noZjAxyLlmBJoFvjPnljlRoKmghXnYZ2C4gfPNCCTIZO77Fywz+13MjGJ9wVqQB1JBHOMTL5cQWrsJFoFPRsaOMEaxCeAaSCCTzcmg0u5RLFeOEqHaSdAthPuY7UF+csBvco0noKudr9g88CdEYUT33mliNAlXIMFG5jq77BIoUSemBLIXYInJL2dEoAXgHaiVAZrzuUSu8xOk2iFQKbmR6Em7wVDQT4dwgrwRgZrI83CTw2TwkVzrtB0CVZGb7LB5/mREoDqDo1UR8ROxaZjVAv0kN0lxgEBiovmDeYXGEb840Ej8Sq0WiFqCAwTyz3tamblWHPErJj7VRgeOzi6Q3pC+jfj0Z3rbKCPP4qSkvVkTE9AScmwL6K5pt0g/WiToVFWNcGwvqNW0k8Bc4nObtMe7SaBf4BA5RgWiy4w0Nwkk7CJpTyTtWtIeZmXK1ccsWFvtTHSaXKy2yoWysC9kwToQNGvaP4wUBP6nHuQhmYL4ICLHuu0V8xci/dbOpGBob3OVQENAoqZdTz4fTtrNbhMol7Qfk/ZI0n7uJoFEfFlHjl0l7RzSrnLTKLYCnCLxJUUTh0Ra+D2JUZngnht6ULycSWvtOAnS+UScFrk3wBWv2BGQrGmL+c8+4rOJmVR2WJm0/0JWwkMcsprfzvgWEZ9sxifD6nxQJbnBTgcIVCCziFq7LvcBaPcEPCI+d+xIuZYwOek9sggYrZz0G+JTL0vdgRJlPplks1yg/kzyO5iJrN1KGwWq0Xz+GaSTz0X1oo1cp8LOuliuibqYf3tLVxsEmg1eg5cgi8lD01erLdSSj5na/CxZiwrV7soSTKQKhyeYaxRHqjYv5hMb5NR+BOjF+PRhVstiK+9C8NDm2vx2UEaO3QLTwV+n7DAbw9StfDJxvsrGHrSWGdkaQuy9EdsfNADc0HnljgaJS2YEms/EyHYwyck7zGLBgQBxaZCFAtUwRcS8zrBHUVAof00f0/0zLBLoFZmnFXaWTZzauFSrE5dWWyDQTFli/gCWW/Xckd4nPQCcA9OYz46BYvCbGW3++33SWsSe6P0B4tIMZkesJ1pE888sS2XeJtgfVUTeZnK0HjKa+SDxN6cpoC6I35mo5nId8Ie6RCnWDJ3ekyXjkmsF8gfhxWANGCuXKeVgK/js9h7k7HKJEkgJpARSAimBlEBKICWQEkgZZ/8EGADUHYH/5J6b0QAAAABJRU5ErkJggg==')}.mip-stoy-audio[muted]{background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEQyQzc4Mzk2N0NFMTFFODk1NUVCQ0Q3REIxMTdDRjMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEQyQzc4M0E2N0NFMTFFODk1NUVCQ0Q3REIxMTdDRjMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4RDJDNzgzNzY3Q0UxMUU4OTU1RUJDRDdEQjExN0NGMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4RDJDNzgzODY3Q0UxMUU4OTU1RUJDRDdEQjExN0NGMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pl6qyekAAAYWSURBVHja7FtrbBVFFL5tsZJSoFgi8jJWQ2LRGiSKPxSlVyOU2hB8BKVGSjBXI+EPCQ0kSkJCgsYHCUn9YVB8JUZ+yKtUBSG0iomxQRRRfIClAvXRYmmRQq29fmMOyeTk7L37mN27N5mTfMmd2Zmzs9/uzJw559yCdDqdsOIshZYCS5AlyBJkCbIEWYIsQZYgK3En6H5gL3AB6AJeByaHcJ9HgTNAJzAva2t11MgxRgCvpmX5FZho8F5PA/9q+s9k65NrckYDH6czy2ZD91oNDDPdsSZoKvBNOrucM3CvDYLeS0BtXAmaCZwWBv0zUC3U+71PAdAk6PsbqHGjIxfkPAD0C4P+HBgPjDVEUBHwtqCrF5jtVk/U5CwHhoRBbwVGUhsTBF0JbBf0/ElfbyJuBBUCrzisMc/TVEgYImgUsFfQoaZ0pdexR0FOCfCBMOB/gJTQPghBZcBBof8JoMLP+MMmZwLwhTDgPmCuQx+/BF0NHBL6fhvElgqTnOn05iTjrypDPz8EXQt8L/T7EigP8hxhkZMEzgoDVm94Upa+XgmaBnQIfVqBMUGfxU+nMrJK1VzvIiI4pJ1qN1DqQr8XgqpoDFxaaO1bTDvXb8D8KAiqpRt6lSaySxIGCZoF9Aht3weK6YzXx+yfKWEStNDhy8gk6mC40uOg3BCUZA+vn9uKNEORG6TbwiLoKuAvj+S0A3U+T/cXmXGnX1c6B4T7bWT2lMIaoV11GAStFQ56jbS1hrHIr6Gvb4is78v1jwGDwkOvy0D2Eda2LQyC2tlNVkV02td3vJQwxYddTOEagdDbTRPEp9eEiM9wqwRfjiJrGV2/k7b6TmCOcKI/7NfH5HaAptwPfrDewZezSGujW9Bdgv3zBOuvTJEr8p0g9eY3Cfe+IDi6vmNtXmDXRwo7mqvFOq5RjSLgDWAFq+8H5gO7Wf1LrJwCSrXyRWAPa3NXvoZ9ioGtQAOr7wGSwAGhzxbgsFYuAxawNm2sfGs+ElQC7AIeZPUqDHQP0O4UnAGahDCSLkdYeZqbAY2IETljgWbh0+8A7gOOZ+n/ISvPYuWTrHxNPn1B44H9AjnHgNkuyFFyGujTylPZ9fOsXJovBE2h9WEmqz9E5JzyoKuXTdfAsyXXBN0AfApUsvrPaEHu9qiv3IEsJeNYuS/uBN1E5FzH6tV2PBc451GfWnRHaeUT7Pr1rHwqzgTdBrQCE1n9NqCOEhi8Sp0wRXW5hZWPxpWgOcA+Nh2UvAk8AgySLbQEqHe5dhSScahLCysnWflrV6ON+KhRS0cFLpuYL2eHdu0tF3qXMH1/kFdRdxNzN0lV3M5ii+iQyWW9cG4aZnH0THpV1OL3LP6hFUIQMVan+WUOvpzGgE579dU1s7bdpEOP6h5lbV42TRA/CXtxfq908OU8ZSCqIaW1LGVtFgsvZnrYHsXnXPZbJzzAILlOg0Y1UkK7XWwtU+vQj6xNcxgu12eFL2At+XydPv2NwgMMuHDkuyWom7X5hYILmV7QsBd3q9eohhQPe9EhL2ez0LafwjWm4mL6wtwj7EozhJ3rvTDjYjXCLtTK2hRT4I6LeoA7DAcOH6KI6U8UROQ6fhBS+SaHHVmdR4mPl2U5S3NpER6uy63NYSg/qMAheSoVVWxexdfrWRrbGPqauHRQckEiQoKknW2HEFSMLLujnNJMuByjtBSe/RUmQY1CXzUFx+Uq/WUSJShx+YrFzpR1vFNLgbk5BIIaBHur1+P0NkpQhUOC1EE6++ht64U03AbDBJ0VwkPJoDPE72m+kpxaFaz+E3KWc2fVgOCc30IoMeQluKT9HqL/ZOwPrNVnErhkE22n9FunLNfXHLJAVHLBjQa+oAVkG6mD6MOmApheO9xN85rLuxmsah1LHVJXztMfTQoMJpJHTlANrR1S9piXLXSGcD7SU+fuFYzM2BNU5+DL2eDzxspuesdlItaBfCCoUxj4agMDeNxhyuryZD4QdJzlHT5jOFFqnwM5bR6SP3NKUDWtGydN7hDs/KT0fkTJWmrdUf9CHJ1LchT+X1yt2H89W4IsQZYgS5AlyBJkCbJiCfIo/wkwAEb1xvYv6O9NAAAAAElFTkSuQmCC')}.mip-story-progress-bar{position:absolute;right:17px;left:17px;display:flex !important;display:-webkit-flex !important;display:-webkit-box;height:14px;-webkit-align-items:center !important;align-items:center !important;-webkit-box-align:center;-moz-box-align:center;-webkit-box-pack:center;-moz-box-pack:center;-webkit-justify-content:center !important;justify-content:center !important}.mip-story-progress-bar>:last-child{margin-right:0 !important}.mip-story-page-progress-bar{overflow:hidden;height:2px;margin:0 6px 0 0;list-style-type:none;border-radius:2px;-webkit-border-radius:2px;background:rgba(255,255,255,0.3);-webkit-box-flex:1;-moz-box-flex:1;-webkit-flex:1 !important;flex:1 !important}.mip-story-page-progress-bar-active{transition:transform 200ms ease !important;-webkit-transform:scale(1, 1) !important;transform:scale(1, 1) !important;-webkit-transform-origin:left;transform-origin:left}.mip-story-page-progress-bar-visited{background:#fff;-webkit-transform:scale(1, 1) !important;transform:scale(1, 1) !important}.mip-story-page-progress-value{width:100%;height:100%;background:#fff;-webkit-transform:scale(0, 1);transform:scale(0, 1);-webkit-transform-origin:left;transform-origin:left}mip-story-layer[template=fill],mip-story-layer[template=cover],mip-story-layer[template=vertical],mip-story-layer[template=horizontal],mip-story-layer[template=thirds]{display:flex !important;display:-webkit-flex !important;display:-webkit-box;height:100%}mip-story-layer[template=magazine]{padding-right:0 !important;overflow:hidden}[flex-area=magazine-img]{position:relative;overflow:hidden;height:70%;max-height:450px;margin-top:10px}[flex-area=magazine-content]{padding-right:32px !important;height:34%;overflow:hidden;display:flex !important;display:-webkit-flex !important;display:-webkit-box;flex-direction:column;justify-content:center;min-height:100px;text-align:left}mip-story-layer[template=magazine]>h1{font-size:28px}[flex-area=magazine-content]>h1{font-size:28px;text-align:left}[flex-area=magazine-content]>h2{font-size:20px;text-align:left}[flex-area=magazine-content]>p{font-size:100%;line-height:200%;margin-top:11px}mip-story-layer[template=center],mip-story-layer[template=under-center],mip-story-layer[template=under-left],mip-story-layer[template=under-right],mip-story-layer[template=up-left],mip-story-layer[template=up-center],mip-story-layer[template=up-right]{display:flex !important;display:-webkit-flex !important;flex-direction:column;font-size:16px}mip-story-layer[template=center]>h1,mip-story-layer[template=under-center]>h1,mip-story-layer[template=under-left]>h1,mip-story-layer[template=under-right]>h1,mip-story-layer[template=up-left]>h1,mip-story-layer[template=up-center]>h1,mip-story-layer[template=up-right]>h1{font-size:45px}mip-story-layer[template=center]>h2,mip-story-layer[template=under-center]>h2,mip-story-layer[template=under-left]>h2,mip-story-layer[template=under-right]>h2,mip-story-layer[template=up-left]>h2,mip-story-layer[template=up-center]>h2,mip-story-layer[template=up-right]>h2{font-size:40px}mip-story-layer[template=center]>h3,mip-story-layer[template=under-center]>h3,mip-story-layer[template=under-left]>h3,mip-story-layer[template=under-right]>h3,mip-story-layer[template=up-left]>h3,mip-story-layer[template=up-center]>h3,mip-story-layer[template=up-right]>h3{font-size:35px}mip-story-layer[template=center]>h4,mip-story-layer[template=under-center]>h4,mip-story-layer[template=under-left]>h4,mip-story-layer[template=under-right]>h4,mip-story-layer[template=up-left]>h4,mip-story-layer[template=up-center]>h4,mip-story-layer[template=up-right]>h4{font-size:30px}mip-story-layer[template=center]>h5,mip-story-layer[template=under-center]>h5,mip-story-layer[template=under-left]>h5,mip-story-layer[template=under-right]>h5,mip-story-layer[template=up-left]>h5,mip-story-layer[template=up-center]>h5,mip-story-layer[template=up-right]>h5{font-size:25px}mip-story-layer[template=center]>h6,mip-story-layer[template=under-center]>h6,mip-story-layer[template=under-left]>h6,mip-story-layer[template=under-right]>h6,mip-story-layer[template=up-left]>h6,mip-story-layer[template=up-center]>h6,mip-story-layer[template=up-right]>h6{font-size:20px}mip-story-layer[template=center]>p,mip-story-layer[template=under-center]>p,mip-story-layer[template=under-left]>p,mip-story-layer[template=under-right]>p,mip-story-layer[template=up-left]>p,mip-story-layer[template=up-center]>p,mip-story-layer[template=up-right]>p{font-size:16px;line-height:30px}mip-story-layer[template=under-left]>h1,mip-story-layer[template=up-left]>h1{text-align:left}mip-story-layer[template=under-right]>h1,mip-story-layer[template=up-right]>h1{text-align:right}mip-story-layer[template=under-center],mip-story-layer[template=under-left],mip-story-layer[template=under-right]{justify-content:flex-end}mip-story-layer[template=up-center],mip-story-layer[template=up-left],mip-story-layer[template=up-right]{justify-content:flex-start}mip-story-layer[template=center]{justify-content:center;align-items:center}mip-story-layer[template=up-center],mip-story-layer[template=under-center]{align-items:center}mip-story-layer[template=up-left],mip-story-layer[template=under-left]{align-items:flex-start}mip-story-layer[template=up-right],mip-story-layer[template=under-right]{align-items:flex-end}mip-story-layer[template=fill]>:first-child,mip-story-layer[template=cover]>:first-child{position:absolute;top:0;right:0;bottom:0;left:0;display:block;width:auto;height:auto;object-fit:cover}mip-story-layer[template=fill]>:not(:first-child),mip-story-layer[template=cover]>:not(:first-child){display:none !important}mip-story-layer[template=fill]>mip-anim img,mip-story-layer[template=fill]>mip-img img,mip-story-layer[template=fill]>mip-video video,mip-story-layer[template=cover]>mip-anim img,mip-story-layer[template=cover]>mip-img img,mip-story-layer[template=cover]>mip-video video{object-fit:cover !important}mip-story-layer[template=horizontal]{flex-direction:row;-webkit-align-content:flex-start;align-content:flex-start;-webkit-align-items:stretch;align-items:stretch;-webkit-flex-direction:row}mip-story-layer[template=vertical]{flex-direction:column;margin-bottom:16px;-webkit-align-content:flex-start;align-content:flex-start;-webkit-align-items:stretch;align-items:stretch;-webkit-flex-direction:column}mip-story-layer[template=vertical]>*{width:100%}mip-story-layer[template=thirds]{flex-direction:column !important;-webkit-box-orient:vertical;-webkit-flex-direction:column !important}[flex-area=upper-third],[flex-area=middle-third],[flex-area=lower-third]{height:33%}.mip-backend{position:absolute;z-index:100002;top:0;left:0;display:none !important;width:100%;height:100%;text-align:center;color:#fff;background:#000}.mip-backend[active]{display:block !important}.mip-backend[current]{display:block !important}.mip-backend-outer{overflow-y:scroll;width:100%;height:100%;padding-top:86px;-webkit-box-sizing:border-box;box-sizing:border-box;background-size:cover;-webkit-overflow-scrolling:touch;overflow-scrolling:touch}.mip-backend-outer::-webkit-scrollbar{display:none}.mip-backend-outer .mip-backend-background{background-size:cover;position:absolute;left:0;top:0;width:100%;height:100%;-webkit-filter:blur(5px);filter:blur(5px);opacity:.3}.mip-story-middle{display:flex !important;display:-webkit-flex !important;display:-webkit-box;flex-direction:column !important;-webkit-box-orient:vertical;-webkit-box-pack:center;-webkit-flex-direction:column !important;-webkit-justify-content:center !important;justify-content:center !important}.mip-story-middle .mip-backend-preview{margin-top:0}.mip-backend-preview-mask{position:absolute;top:0;left:0;width:100%;height:100%;opacity:.5;background:#000}.mip-backend-preview-thumbnail{position:relative}.mip-backend-preview-thumbnail:active{opacity:.6}.mip-backend-preview-replay-btn{width:24px;height:24px;background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAAEi6oPRAAAAAXNSR0IArs4c6QAACPhJREFUeAHtnGeoHUUUx32aaBILUTGIohE1ih0/GCviJwtEBAtKUMgnC4lYPggigoJKhNhQQROQfLNFv9h7oqigIliwBoypiC12jeX5++/d2Xt2dmbLvXvve944cN6cOed/yszOzu7O7n3bbOOV8fHxp6G1nrjTRKEy1yolyNq5RibtGiccoAM8Xb4J4LO8pNjaFlE4SR+Lt/t8WaFdK3FZCajiPMA+YNtOLuA0KSjnZELHIJwljWurVpvyi/4kcuofLcDxyMcSUPLHSQN1LZDsNJiVpRKUpZMxnk/kd0IzMrEPVJtylABjGcow0ppmjJ0yNjb2d0GJ7Ww5oPxSUAYE4PZM0OmfBOIEAXylCNuXZa9DfXzCVJpUAOREpQJWqdax3aESVRdAQl/2mpXsVHKxOiJPmEN0G2A3pfg7u1KPA3CccxqpK1egnEucLIK+TZ09klNWNTA6PDUsq9aV+jGW/8SAYK52OGHgdUJ2B9sqY06s3OGpu45o/CqFBdbhZeOKW2ymY3hiHWOL4ezvrh54/EdeLaAJj+lNib3+UN5qYhzEdvyMTw0qmwjlqAk+hk0GG1+HxgC15WnXimtvbQ8doDJ6EXLToKF5MrP/zoYnzeqDxl4wSG3nJ7Y0FqaCA5s4S23yBwvh16nigTrOgk6cIcrkBExBVzu5q5Fv5xyodnLV3XPFSMHoKJYdgGmcZn8Yk2YsAWZDH0NNywoMyhKrnwiONkSiv4N8HlQYHWQzoEXQd1Co3G0zALBLCgqfFyiPCHg5wzrphcfn0oBf3TtmcyXnF0VyY2mM1uYALTUCcf50MbMQCOY7oepMMUCGMPvbmFlcmHOMYssAcwi6NrE7EzLLDHjuchc0H6xwW5K534QoPu4Y5TDYztNRGmmiR0dpaLHanOYzOSoOmRYwV26eFFm5bFRPREKE3S/N4fckPo0pqSCphpkUAQ8Lxkbor9JnDzoxYr5rkolexz40ILFHt50YPpPtFhPngsoYgNcYA8ceXGkYAeDgSufE1Nf78MKtgw/AeBdk30Hb+bq0/Rv1KuirtD2H+jgodv/zPutdsn+S4vuvSPIG6HfT0xi7DkX14eg/peS2/GSC3QV9ZrLZDP8mdCNUvsfYUhLXmeB12d8AntpG/MwHDp+qG70Cd1nmtBcG56dHAughfAm0T8gv8rnQCihWuruGOAD0QQrsPJlFnL4W8PZYCFsmw8dMaGPA1/nOzuqcLFcDcE97Drs6B+ihgaPdnDNT3yFXpl28lqL0H3taPW3xv8omAJ87UXJ9Rfm4B270cJ1zVtIghuZfsGRmaOd4iCMy5QAYYj3oxUuaWShPuSRTDJAh5o9e3M4cQmjvGqP7jIPILZaQle87iMAxnwReboPrlNsrJ4hZDlBu4i9XQs8ZwYIBxq3lelI+l9XKfFgge1cXvskeViZpHJvQmiHHDoazCf0URAxZaBPaa8ixg+H+P8uCw2KEOmR6rkoKC+Sujp+wmiTshXXlRCRCDnp+U5mXxO/wnb/DToioBxTiI/jSCJcNMyni/mVin+tGaHsjFNv/W70avSLOAhs3Z4JiZVSZQ7bTIJb70MWFPbbg2WnSen0B0KLAi/VJ0DWgnT3gpiCwDyH+/elRfBaz/jEIvQnayWJ65fF9mtfh8mRcIIwO8g1pP+H0TWtsp0Pf+D4b+cF4qu8gbb9DXetCDE6bFckHV6mtqz6OJVNnS+8ejBfGHCB/H/oc+hraAzoGKntyOYktvdfB9Ffo2grXvR7ry/vLIGJNMkdDuTWrJMHl6BqdEJWHLJJXI7E6gcFZ0CmQdmjb+J5qA35egp6BnmQa/Ew9+QuDoa+rNN2SjzCoh11WE/BSaPs2RqvvGUQi2ue/BboUiu31l+Wq+1UtGhshfb2omSCZPpDaEdKKtzek7VX7SEKzVtGidDkz7NUqNH3RVuz50CzoWWzeq7IJ6nGkJTz7FAG+qmhp1wdstZb3YFBPiC/loMuAXiuFLgWIC0WvHILbgsivKKDZOvbCljdxoAvumoAjX/QEgp5fY5VnEdcSU7c1i6DYBzCosnKt9YQ0eMAtJspjrNsjfx89i5QyOpKNrhDRgC0pyEe3XhvT/GLVrQqHsvkAYaSbWf/tqw20iUbrb2NbGp/MDTnqdNQlvqwE33VlTnwGTwtLvK1HN5D3DX4ebbfJ+56SfhVUhfggtFe0soDsCgb+YUEhqZYFdEUf6+nCUVlyoUFrkbP7DdaB3j4O5VE/l9QAG/Rnge1giM/Co9R3MbHBGerGTJbUEBj6fAhkN4JodkuWAqIXuuIcd18GGlGG3mrrLnTn/2fSZZS6dwiVlSM6JsFuMQAXQR9BOpNug2bo+q91J/kBBbUtGtGJ36oOdmV4Qj3bXAzpuccvi3kW+d4XbnVtZsmLdtoYvv8feIzCaDIg35tBcexXo9C3NvqgU2xmwFGzp9iAg1ERxfZXdh6VDvbdD84p+1mmO8V04zRSd829DpRm0CsBY+0MnhmQb30iZkryE2k3dUz91tY3GpEeMyj2Ay8zRuMLIiYjKabj+ondhZA2/bsv02jokzx9exwqg/9EfBIMNx1/KND5NVlqKO2P2yx2C43uaGYWo8PQv6W2w4Z/I9dLFLGHVs2uE3LgEWnQr+fNgFh2NY3ibRDC+Rbl8UtGZFz0kK7fiW72+ueab8PE3xminAOFnvDlQF9eB98t/RcGj9y1pfwwFCu31+oH1nLk/zDAOl1L4z+zcZ/2J/hqJ+3Uz9SH1RocC8JoNrQBihW91Wz15x02fr88uc2CXo0ln8qv6TeOztk6Lw+1sJ3Rd7A+HZDD7tAyqKosBhBfa3rJA4c6IqGfTvnJ6Mr3GJT7h2C9xKyyIcZM6CpIp31V0dp6XpXPVvQE0scDZaefn6wGTe+jlkDzoH2gWkcQnN5lHQvpVkQDX+f9O7Cs3AuX+yFdK4NQ1wnBD4eCr2+zFIfLaDZdAk2p24eh4khsNqTfzvXyf1Iwa1T0w9RHIc3oWjOy7mC06qxOUDowDZzWpSOhOSnpdmF3aDfIlh9o6Mck66G10KeQPmp6lxcKX1APvPwLxaeA9DukJlMAAAAASUVORK5CYII=');background-size:cover}.mip-backend-close{position:absolute;z-index:1000;top:12px;left:7px}.mip-story-hint{position:absolute;z-index:100005;top:0;right:0;bottom:0;left:0;display:none}.mip-story-hint-shadow{display:block;width:25%;height:100%;background:-webkit-linear-gradient(left, rgba(0,0,0,0.5), transparent) !important;background:linear-gradient(90deg, rgba(0,0,0,0.5), transparent) !important}.mip-story-hint-damping-hide .mip-story-hint-shadow{display:none}.mip-story-hint-system,.mip-story-hint-rotate{display:none;height:100%}.mip-story-page-switch{display:none;width:100%;height:100%}.mip-story-page-switch-lt,.mip-story-page-switch-rt,.mip-story-page-switch-lt .mip-story-page-switch,.mip-story-page-switch-rt .mip-story-page-switch,.mip-story-page-switch-lt .mip-story-page-switch-left,.mip-story-page-switch-rt .mip-story-page-switch-right{display:block !important}.mip-story-page-switch-lt .mip-story-page-switch-right,.mip-story-page-switch-rt .mip-story-page-switch-left{display:none}.mip-story-hint-system{display:none;opacity:.8;background:#000}.mip-story-system-show .mip-story-hint-system{display:flex !important;display:-webkit-flex !important;display:-webkit-box}.mip-story-hint-left,.mip-story-hint-middle,.mip-story-hint-right{height:100%;-webkit-box-flex:1;-moz-box-flex:1;-webkit-flex:1 !important;flex:1 !important}.mip-story-hint-left{background:url(https://www.mipengine.org/static/img/mip-story/mip-story-arrow.png);background-repeat:no-repeat;background-position:26px;background-size:30px 30px}.mip-story-hint-middle-top{position:absolute;top:0;left:50%;width:1px;height:40%;font-size:13px;background:#ddd}.mip-story-hint-middle-icon{position:absolute;top:40%;right:0;left:0;display:flex !important;display:-webkit-flex !important;display:-webkit-box;flex-direction:column !important;height:20%;color:#fff;-webkit-align-items:center !important;align-items:center !important;-webkit-box-align:center;-moz-box-align:center;-webkit-box-orient:vertical;-webkit-box-pack:center;-moz-box-pack:center;-webkit-flex-direction:column !important;-webkit-justify-content:center !important;justify-content:center !important}.mip-story-hint-middle-icon span{display:block;margin-bottom:10px;text-align:center}.mip-story-hint-middle-bottom{position:absolute;bottom:0;left:50%;width:1px;height:40%;background:#fff}.mip-story-hint-right{background:url(https://www.mipengine.org/static/img/mip-story/mip-story-arrow.png);background-repeat:no-repeat;background-position:26px;background-size:30px 30px;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.mip-story-hint-touch-icon{width:46px;height:50px;margin-top:14px;background:url(https://www.mipengine.org/static/img/mip-story/mip-story-touch.png);background-repeat:no-repeat;background-size:contain}.mip-story-hint-rotate{position:absolute;z-index:100003;top:0;left:0;width:100%;height:100%;text-align:center;color:#fff;background:#000}.mip-story-hint-rotate p{margin-top:10px}.mip-story-hint-rotate mip-img{width:47px;height:45px}@media all and (orientation:portrait){.mip-story-hint-rotate{display:none}}@media all and (orientation:landscape){.mip-story-hint{display:block !important}.mip-story-hint-rotate{display:flex !important;display:-webkit-flex !important;display:-webkit-box;flex-direction:column !important;-webkit-align-items:center !important;align-items:center !important;-webkit-box-align:center;-moz-box-align:center;-webkit-box-orient:vertical;-webkit-box-pack:center;-moz-box-pack:center;-webkit-flex-direction:column !important;-webkit-justify-content:center !important;justify-content:center !important}}.mip-story-share{position:absolute;z-index:1000010;bottom:-500%;width:100%}.mip-story-share-show{bottom:0;-webkit-transition:bottom 200ms ease;transition:bottom 200ms ease}.mip-story-share mip-share{width:100%}.mip-story-share-cancel{display:block;width:100%;height:30px;padding:10px 0;border-top:1px solid #eee;font-size:16px;text-align:center;color:#000;background:#fff}@keyframes spread{0%{transform:scale(1, 1)}100%{transform:scale(1.5, 1.5)}}@-webkit-keyframes spread{0%{transform:scale(1, 1)}100%{transform:scale(1.5, 1.5)}}.mip-story-page-switch-left{position:absolute;top:50%;left:17px;display:block;display:none}.mip-story-page-switch-right{position:absolute;top:50%;right:45px;display:block;display:none}.mip-story-page-switch-left>:first-child,.mip-story-page-switch-right>:first-child{position:absolute;top:50%;width:28px;height:28px;opacity:.1;border-radius:14px;background:#fff;background:linear-gradient(center, rgba(255,255,255,0.3), transparent);background:-webkit-linear-gradient(center, rgba(255,255,255,0.3), transparent);-webkit-animation:100ms;-webkit-animation:spread 1s ease-out;animation:spread 1s ease-out;animation-delay:100ms;-webkit-animation-fill-mode:backwards;animation-fill-mode:backwards}.mip-story-page-switch-left>:nth-child(2),.mip-story-page-switch-right>:nth-child(2){position:absolute;top:50%;display:block;width:28px;height:28px;opacity:.1;border-radius:14px;background:#fff}.recommend-wrap{text-align:left;border-top:1px solid rgba(255,255,255,0.3);padding-top:2px;margin:30px 17px 0 17px}.recommend-wrap .readmore{font-size:18px;line-height:3;color:#ffffff}.mip-backend-control{width:100%;height:44px;padding:10px 17px 0 17px;-webkit-box-sizing:border-box;box-sizing:border-box;margin-bottom:42px;background:rgba(0,0,0,0.5);z-index:9}.mip-backend-control .mip-story-close{position:relative;width:24px;height:24px;background-repeat:no-repeat;background-position:center center;background-size:24px 24px;float:right;left:0;top:0;margin-left:25px}.mip-backend-control .mip-backend-share{float:right}.mip-backend-control .mip-backend-share:active{opacity:.6}.mip-backend-control .mip-backend-preview-share-btn{display:block;width:24px;height:24px;background-repeat:no-repeat;background-position:center center;background-size:24px 24px;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAolBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8ELnaCAAAANXRSTlMAgPj8BfLTaC8MA+sQCOeze3gi3ttFNcvHuplgTkEe48Cin1s9GMStp4VyVks6KhSrlG5Qjc71RbUAAAKGSURBVFjDpZbnmqpADIYjIEUFVOwFu2tfy+b+b+08JDtSBlbO8P5jeOabkC+ZAJ/on7ZQhRUiPgxQpo8RwxBU6SDR7IMiNWT0trKAwG+pC5ik0LOVBZw7KWhTVQGAk04SE0NVALYeKYxCVQHY7YWfigJgPBT8dO0DCTDn+n/5aXf8QEdCLN169BiU8HO+9jAGBM5XKT8dy8QUyd747GfDamISLVimYvM+9Od1GG8dTqzrN2TYjYr95BAZ72fQAIkPfookoX64GFDMpsjP1m/4S/uTxb3c/nR4v1ei6Vp5frpc7WMpsL+SlUzEhFa+ynbsnN3uxpmh53UDynKlDWfx2KXMTqA0fY7gnUfKiulCWdqcg0NqgGg2lKTlI3F8fzG1zxNKMghoe30GghnVD5TE0mi/2YU3VAJzKIW7RmLlJkKiG7egd8L0eO+aXIQWZGtoBmkat1dntV/oiJDgxY20GKQOiSw10+dYfh0FCdEjEmO6JtIpTITkTEf5V9puKdyT/0Jw905Sm8+WBbaecC+Dl0zhZoFZgDnpknvMLdGX1zh4ze9cwngyOXfJPcEzWr9Rjn7E7vr97KRG260n3JOJpAM6xEemt3Ezs3ETuycTcFeJEkHPMjLD1XjE7sm0olcdgCs3uF5zstM5HCXck5lH7/pgc5DeVh7vTeFePhZVQcjuLXcgCwj3CjhGZzgmD80GyALCvSLW0cFjvlJz/1TZvWKivRpfcA05QZJ7Mj38xTfy42P3itGQCfJH0vY0gz/5RkYbgBo2Mk9QZI7EGFS58Ad0QZUXCdRAmQ31rwvKTHlIq8K9NIQKnBDxAhVoI+6hCjUKoFIEJlTiiVOoxDkwoBKtAVTiH/QZqL/ije01AAAAAElFTkSuQmCC')}.recommend-item{display:block;height:88px;margin-bottom:20px;color:#fff;position:relative}.recommend-item.recommend-now{padding-left:17px;margin-bottom:0}.recommend-item.recommend-now .mip-backend-preview{left:17px;top:0}.recommend-item .mip-backend-preview{position:absolute;left:0;top:0;width:122px;height:88px;background-size:cover;background-repeat:no-repeat;background-position:0 0;overflow:hidden}.recommend-item .mip-backend-preview .mip-backend-preview-thumbnail{width:122px;height:88px}.recommend-item .mip-backend-preview .mip-backend-preview-thumbnail span{display:block;width:24px;height:24px;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);transform:translate(-50%, -50%)}.recommend-detail{height:100%;padding-left:130px;padding-right:36px;text-align:left;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-pack:center;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.recommend-detail span,.recommend-detail p{font-size:18px;line-height:1.5;color:#fff;padding:0}.recommend-detail span:nth-child(2),.recommend-detail p:nth-child(2){font-size:10px;opacity:.6;padding-top:2px}.recommend-detail span a,.recommend-detail p a{color:#fff}.mip-story-hidden{visibility:hidden !important}@media only screen and (min-width:320px){.recommend-detail{padding-right:30px}.recommend-detail p{font-size:14px}}@media only screen and (min-width:375px){.recommend-detail{padding-right:32px}.recommend-detail p{font-size:16px}}@media only screen and (min-width:414px){.recommend-detail{padding-right:34px}.recommend-detail p{font-size:18px}}")}window.MIP?require(["mip-story"],function(e){t(window.MIP,e)}):require(["mip","mip-story"],t)}()}});