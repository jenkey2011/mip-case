<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <table class="table table-hover table-bordered table-striped table-condensed commentable-section">
        <thead>
            <tr>
                <th>书名</th>
                <th>购买链接</th>
                <th>价格</th>
                <th>姓名</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>简明线性代数</td>
                <td><a href="https://item.jd.com/11330883293.html">https://item.jd.com/11330883293.html</a></td>
                <td>26.80</td>
                <td>杨珺</td>
            </tr>
            <tr>
                <td>重构 改善既有代码的设计</td>
                <td><a href="http://item.jd.com/11728740.html#none">http://item.jd.com/11728740.html#none</a></td>
                <td>61.10</td>
                <td>钱思成</td>
            </tr>
            <tr>
                <td>Learning TypeScript（中文版）</td>
                <td><a href="https://item.jd.com/12001593.html">https://item.jd.com/12001593.html</a></td>
                <td>83.7</td>
                <td>钱思成</td>
            </tr>
            <tr>
                <td>看见</td>
                <td><a href="https://item.jd.com/11140918.html">https://item.jd.com/11140918.html</a></td>
                <td>29.90</td>
                <td>李杰</td>
            </tr>
            <tr>
                <td>邓小平时代</td>
                <td><a href="https://item.jd.com/11140980.html">https://item.jd.com/11140980.html</a></td>
                <td>83.40</td>
                <td>谭启辉</td>
            </tr>
            <tr>
                <td>深入浅出Node.js</td>
                <td><a href="https://item.jd.com/11355978.html">https://item.jd.com/11355978.html</a></td>
                <td>48.70</td>
                <td>王其征</td>
            </tr>
            <tr>
                <td>Node.js调试指南</td>
                <td><a href="https://item.jd.com/12356929.html">https://item.jd.com/12356929.html</a></td>
                <td>83.70</td>
                <td>杜啸楠</td>
            </tr>
            <tr>
                <td>深入浅出Node.js</td>
                <td><a href="https://item.jd.com/11355978.html">https://item.jd.com/11355978.html</a></td>
                <td>48.70</td>
                <td>张启超</td>
            </tr>
            <tr>
                <td>http权威指南</td>
                <td><a href="https://item.jd.com/11056556.html">https://item.jd.com/11056556.html</a></td>
                <td>81.7</td>
                <td>张启超</td>
            </tr>
            <tr>
                <td>高性能网站建设指南</td>
                <td><a href="https://item.jd.com/11688195.html">https://item.jd.com/11688195.html</a></td>
                <td>51.70</td>
                <td>荣伟伟</td>
            </tr>
            <tr>
                <td>影响力</td>
                <td><a href="https://item.jd.com/11969879.html">https://item.jd.com/11969879.html</a></td>
                <td>33.00</td>
                <td>荣伟伟</td>
            </tr>
            <tr>
                <td>艺术口才</td>
                <td><a href="https://item.jd.com/27615034154.html">https://item.jd.com/27615034154.html</a></td>
                <td>48.80</td>
                <td>李东</td>
            </tr>
            <tr>
                <td>深入浅出Node.js</td>
                <td><a href="https://item.jd.com/11355978.html">https://item.jd.com/11355978.html</a></td>
                <td>48.70</td>
                <td>曹茹</td>
            </tr>
            <tr>
                <td>Nodejs硬实战</td>
                <td><a href="https://item.jd.com/12083430.html">https://item.jd.com/12083430.html</a></td>
                <td>103.3</td>
                <td>刘畅</td>
            </tr>
            <tr>
                <td>http权威指南</td>
                <td><a href="https://item.jd.com/11056556.html">https://item.jd.com/11056556.html</a></td>
                <td>81.7</td>
                <td>郭爽</td>
            </tr>
            <tr>
                <td>平面设计中的网格系统</td>
                <td><a href="https://item.jd.com/11967856.html#none">https://item.jd.com/11967856.html#none</a></td>
                <td>76.4</td>
                <td>张子捷</td>
            </tr>
            <tr>
                <td>nodejs：来一打C++扩展</td>
                <td><a href="https://item.jd.com/12380404.html">https://item.jd.com/12380404.html</a></td>
                <td>102.5</td>
                <td>柴延晨</td>
            </tr>
            <tr>
                <td>创新者的课堂</td>
                <td><a href="https://item.jd.com/11766676.html">https://item.jd.com/11766676.html</a></td>
                <td>38.8</td>
                <td>梁佳莹</td>
            </tr>
            <tr>
                <td>一本书读懂在线教育</td>
                <td><a href="https://item.jd.com/11963641.html">https://item.jd.com/11963641.html</a></td>
                <td>51.8</td>
                <td>梁佳莹</td>
            </tr>
            <tr>
                <td>鸟哥的Linux私房菜 （基础学习篇 第三版）</td>
                <td><a href="https://item.jd.com/10064429.html">https://item.jd.com/10064429.html</a></td>
                <td>77.9</td>
                <td>栗琛</td>
            </tr>
            <tr>
                <td>Node.js硬实战：115个核心技巧</td>
                <td><a href="https://item.jd.com/12083430.html">https://item.jd.com/12083430.html</a></td>
                <td>103.30</td>
                <td>谭启辉</td>
            </tr>
            <tr>
                <td>原则</td>
                <td><a href="https://item.jd.com/12257413.html">https://item.jd.com/12257413.html</a></td>
                <td>62.9</td>
                <td>陶清乾</td>
            </tr>
            <tr>
                <td>JavaScript设计模式 web前端开发人员参考书 设计模式指南</td>
                <td><a href="https://item.jd.com/26825655254.html">https://item.jd.com/26825655254.html</a></td>
                <td>42.10</td>
                <td>许根实</td>
            </tr>
            <tr>
                <td>鸟哥的Linux私房菜 （基础学习篇 第三版）</td>
                <td><a href="https://item.jd.com/10064429.html">https://item.jd.com/10064429.html</a></td>
                <td>77.9</td>
                <td>许根实</td>
            </tr>
            <tr>
                <td>Node.js硬实战：115个核心技巧</td>
                <td><a href="https://item.jd.com/12083430.html">https://item.jd.com/12083430.html</a></td>
                <td>103.30</td>
                <td>汪海潮</td>
            </tr>
            <tr>
                <td>算法图解</td>
                <td><a href="https://item.jd.com/12148832.html">https://item.jd.com/12148832.html</a></td>
                <td>39.70</td>
                <td>汪海潮</td>
            </tr>
            <tr>
                <td>地球之美：一部看得见的地球简</td>
                <td><a href="https://item.jd.com/12075437.html">https://item.jd.com/12075437.html</a></td>
                <td>148.7</td>
                <td>沈洲</td>
            </tr>
            <tr>
                <td>魔鬼经济学</td>
                <td><a href="https://item.jd.com/11954631.html#">https://item.jd.com/11954631.html#</a></td>
                <td>135</td>
                <td>苑雪冉&amp;范雨蓉</td>
            </tr>
            <tr>
                <td>灰犀牛</td>
                <td><a href="https://item.jd.com/12116664.html?dist=jd">https://item.jd.com/12116664.html?dist=jd</a></td>
                <td>44.3</td>
                <td>贾泓</td>
            </tr>
            <tr>
                <td>Imperfect C++ (中文版)</td>
                <td><a href="https://item.jd.com/11017239.html?dist=jd">https://item.jd.com/11017239.html?dist=jd</a></td>
                <td>91.1</td>
                <td>贾泓</td>
            </tr>
            <tr>
                <td>图解HTTP</td>
                <td><a href="https://item.jd.com/11449491.html">https://item.jd.com/11449491.html</a></td>
                <td>39.7</td>
                <td>李雪萌</td>
            </tr>
            <tr>
                <td>JavaScript设计模式 web前端开发人员参考书 设计模式指南</td>
                <td><a href="https://item.jd.com/26825655254.html">https://item.jd.com/26825655254.html</a></td>
                <td>42.10</td>
                <td>李雪萌</td>
            </tr>
            <tr>
                <td>游戏情感设计 如何触动玩家的心灵</td>
                <td><a href="https://item.jd.com/12161084.html">https://item.jd.com/12161084.html</a></td>
                <td>￥61.10</td>
                <td>乌瀚</td>
            </tr>
            <tr>
                <td>七十二堂写作课</td>
                <td><a href="https://item.jd.com/28031195658.html">https://item.jd.com/28031195658.html</a></td>
                <td>￥68.8</td>
                <td>朱国玺</td>
            </tr>
            <tr>
                <td>JavaScript函数式编程</td>
                <td><a href="https://item.jd.com/11736483.html">https://item.jd.com/11736483.html</a></td>
                <td>￥41.20</td>
                <td>向米雪</td>
            </tr>
            <tr>
                <td>玻璃珠游戏</td>
                <td><a href="https://item.jd.com/11301864.html?dist=jd">https://item.jd.com/11301864.html?dist=jd</a></td>
                <td>￥36.8</td>
                <td>李静</td>
            </tr>
            <tr>
                <td>妖怪大全</td>
                <td><a href="https://item.jd.com/12025561.html?dist=jd#none">https://item.jd.com/12025561.html?dist=jd#none</a></td>
                <td>￥128</td>
                <td>李静</td>
            </tr>
            <tr>
                <td>微动作、微表情、微反应读心术</td>
                <td><a href="https://item.jd.com/11234622.html">https://item.jd.com/11234622.html</a></td>
                <td>55.9</td>
                <td>齐琳琳</td>
            </tr>
            <tr>
                <td>天才在左 疯子在右</td>
                <td><a href="https://item.jd.com/12358965.html">https://item.jd.com/12358965.html</a></td>
                <td>34.9</td>
                <td>齐琳琳</td>
            </tr>
            <tr>
                <td>Java性能优化权威指南</td>
                <td><a href="https://item.jd.com/11407830.html?dist=jd">https://item.jd.com/11407830.html?dist=jd</a></td>
                <td>85.9</td>
                <td>贾泓</td>
            </tr>
            <tr>
                <td>领域驱动设计</td>
                <td><a href="https://item.jd.com/11961038.html?dist=jd">https://item.jd.com/11961038.html?dist=jd</a></td>
                <td>57.5</td>
                <td>贾泓</td>
            </tr>
            <tr>
                <td>Akka入门与实践</td>
                <td><a href="https://item.jd.com/12194510.html?dist=jd">https://item.jd.com/12194510.html?dist=jd</a></td>
                <td>41</td>
                <td>贾泓</td>
            </tr>
            <tr>
                <td>图解TCP/IP 第5版</td>
                <td><a href="https://item.jd.com/11253710.html">https://item.jd.com/11253710.html</a></td>
                <td>47.6</td>
                <td>刘欢</td>
            </tr>
        </tbody>
    </table>
    <script>
        getTotalPrice()
        function getTotalPrice(priceCol = 3, limitPrice = 100, nameCol = 4) {
            let priceTr = document.querySelectorAll('table tr')
            let totalPrice = 0
            let people = {}

            for (let [index, tr] of priceTr.entries()) {
                let priceTd = tr.querySelector('td:nth-child(' + priceCol + ')')
                let nameTd = tr.querySelector('td:nth-child(' + nameCol + ')')

                if (!priceTd) {
                    continue
                }

                // 价格相关
                let price = parseInt(priceTd.textContent.replace(/[^\d.]/g, ''), 10);

                if (isNaN(price)) {
                    tr.style.backgroundColor = 'red'
                    continue
                }

                if (price >= limitPrice) {
                    tr.style.backgroundColor = 'yellow'
                }

                totalPrice += price

                // 单人相关
                let name = nameTd.textContent.replace(/\s/g, '')
                let totalSpent = 0
                console.log(people)
                // console.log(people.name)
                if (people[name]) {

                    totalSpent += people.name
                }
                // console.log(totalSpent)
                // if (!people.name) {
                Object.assign(people, {
                    [name]: totalSpent
                })
                // object.asign
                // people[name].push(price)
                // people = {
                //   [name]: price
                // }
                // people.push({
                //   [name]: price
                // })
                // }
            }

            // for (let [key, index] of Object.entries(people)) {
            //   console.log(key, index)
            // }
            // console.log(people)
            // console.log(`%c 共消费 %c ${totalPrice} 元 %c`, "background:#35495e ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff", "background:#41b883 ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff", "background:transparent");

            // console.log(`%c 共消费 %c ${totalPrice} 元 %c`, "background:#35495e ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff", "background:#41b883 ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff", "background:transparent");
        }
    </script>
</body>

</html>